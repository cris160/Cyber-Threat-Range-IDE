function pS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function G_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yu={exports:{}},Jn={},Gu={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function mS(){if(Jm)return Me;Jm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function k(T,q,ce){this.props=T,this.context=q,this.refs=x,this.updater=ce||S}k.prototype.isReactComponent={},k.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function N(){}N.prototype=k.prototype;function P(T,q,ce){this.props=T,this.context=q,this.refs=x,this.updater=ce||S}var E=P.prototype=new N;E.constructor=P,b(E,k.prototype),E.isPureReactComponent=!0;var M=Array.isArray,j=Object.prototype.hasOwnProperty,O={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function z(T,q,ce){var Z,ue={},pe=null,ee=null;if(q!=null)for(Z in q.ref!==void 0&&(ee=q.ref),q.key!==void 0&&(pe=""+q.key),q)j.call(q,Z)&&!B.hasOwnProperty(Z)&&(ue[Z]=q[Z]);var oe=arguments.length-2;if(oe===1)ue.children=ce;else if(1<oe){for(var de=Array(oe),we=0;we<oe;we++)de[we]=arguments[we+2];ue.children=de}if(T&&T.defaultProps)for(Z in oe=T.defaultProps,oe)ue[Z]===void 0&&(ue[Z]=oe[Z]);return{$$typeof:e,type:T,key:pe,ref:ee,props:ue,_owner:O.current}}function J(T,q){return{$$typeof:e,type:T.type,key:q,ref:T.ref,props:T.props,_owner:T._owner}}function se(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function ie(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ce){return q[ce]})}var K=/\/+/g;function W(T,q){return typeof T=="object"&&T!==null&&T.key!=null?ie(""+T.key):q.toString(36)}function H(T,q,ce,Z,ue){var pe=typeof T;(pe==="undefined"||pe==="boolean")&&(T=null);var ee=!1;if(T===null)ee=!0;else switch(pe){case"string":case"number":ee=!0;break;case"object":switch(T.$$typeof){case e:case t:ee=!0}}if(ee)return ee=T,ue=ue(ee),T=Z===""?"."+W(ee,0):Z,M(ue)?(ce="",T!=null&&(ce=T.replace(K,"$&/")+"/"),H(ue,q,ce,"",function(we){return we})):ue!=null&&(se(ue)&&(ue=J(ue,ce+(!ue.key||ee&&ee.key===ue.key?"":(""+ue.key).replace(K,"$&/")+"/")+T)),q.push(ue)),1;if(ee=0,Z=Z===""?".":Z+":",M(T))for(var oe=0;oe<T.length;oe++){pe=T[oe];var de=Z+W(pe,oe);ee+=H(pe,q,ce,de,ue)}else if(de=w(T),typeof de=="function")for(T=de.call(T),oe=0;!(pe=T.next()).done;)pe=pe.value,de=Z+W(pe,oe++),ee+=H(pe,q,ce,de,ue);else if(pe==="object")throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ee}function L(T,q,ce){if(T==null)return T;var Z=[],ue=0;return H(T,Z,"","",function(pe){return q.call(ce,pe,ue++)}),Z}function $(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(ce){(T._status===0||T._status===-1)&&(T._status=1,T._result=ce)},function(ce){(T._status===0||T._status===-1)&&(T._status=2,T._result=ce)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var Y={current:null},D={transition:null},X={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:D,ReactCurrentOwner:O};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:L,forEach:function(T,q,ce){L(T,function(){q.apply(this,arguments)},ce)},count:function(T){var q=0;return L(T,function(){q++}),q},toArray:function(T){return L(T,function(q){return q})||[]},only:function(T){if(!se(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Me.Component=k,Me.Fragment=r,Me.Profiler=o,Me.PureComponent=P,Me.StrictMode=n,Me.Suspense=p,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Me.act=Q,Me.cloneElement=function(T,q,ce){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var Z=b({},T.props),ue=T.key,pe=T.ref,ee=T._owner;if(q!=null){if(q.ref!==void 0&&(pe=q.ref,ee=O.current),q.key!==void 0&&(ue=""+q.key),T.type&&T.type.defaultProps)var oe=T.type.defaultProps;for(de in q)j.call(q,de)&&!B.hasOwnProperty(de)&&(Z[de]=q[de]===void 0&&oe!==void 0?oe[de]:q[de])}var de=arguments.length-2;if(de===1)Z.children=ce;else if(1<de){oe=Array(de);for(var we=0;we<de;we++)oe[we]=arguments[we+2];Z.children=oe}return{$$typeof:e,type:T.type,key:ue,ref:pe,props:Z,_owner:ee}},Me.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:a,_context:T},T.Consumer=T},Me.createElement=z,Me.createFactory=function(T){var q=z.bind(null,T);return q.type=T,q},Me.createRef=function(){return{current:null}},Me.forwardRef=function(T){return{$$typeof:d,render:T}},Me.isValidElement=se,Me.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:$}},Me.memo=function(T,q){return{$$typeof:f,type:T,compare:q===void 0?null:q}},Me.startTransition=function(T){var q=D.transition;D.transition={};try{T()}finally{D.transition=q}},Me.unstable_act=Q,Me.useCallback=function(T,q){return Y.current.useCallback(T,q)},Me.useContext=function(T){return Y.current.useContext(T)},Me.useDebugValue=function(){},Me.useDeferredValue=function(T){return Y.current.useDeferredValue(T)},Me.useEffect=function(T,q){return Y.current.useEffect(T,q)},Me.useId=function(){return Y.current.useId()},Me.useImperativeHandle=function(T,q,ce){return Y.current.useImperativeHandle(T,q,ce)},Me.useInsertionEffect=function(T,q){return Y.current.useInsertionEffect(T,q)},Me.useLayoutEffect=function(T,q){return Y.current.useLayoutEffect(T,q)},Me.useMemo=function(T,q){return Y.current.useMemo(T,q)},Me.useReducer=function(T,q,ce){return Y.current.useReducer(T,q,ce)},Me.useRef=function(T){return Y.current.useRef(T)},Me.useState=function(T){return Y.current.useState(T)},Me.useSyncExternalStore=function(T,q,ce){return Y.current.useSyncExternalStore(T,q,ce)},Me.useTransition=function(){return Y.current.useTransition()},Me.version="18.3.1",Me}var eg;function Ed(){return eg||(eg=1,Gu.exports=mS()),Gu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function gS(){if(tg)return Jn;tg=1;var e=Ed(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,f){var y,v={},w=null,S=null;f!==void 0&&(w=""+f),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(S=p.ref);for(y in p)n.call(p,y)&&!a.hasOwnProperty(y)&&(v[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:t,type:d,key:w,ref:S,props:v,_owner:o.current}}return Jn.Fragment=r,Jn.jsx=u,Jn.jsxs=u,Jn}var rg;function _S(){return rg||(rg=1,Yu.exports=gS()),Yu.exports}var c=_S(),ql={},Xu={exports:{}},Ut={},Zu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function vS(){return ig||(ig=1,(function(e){function t(D,X){var Q=D.length;D.push(X);e:for(;0<Q;){var T=Q-1>>>1,q=D[T];if(0<o(q,X))D[T]=X,D[Q]=q,Q=T;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var X=D[0],Q=D.pop();if(Q!==X){D[0]=Q;e:for(var T=0,q=D.length,ce=q>>>1;T<ce;){var Z=2*(T+1)-1,ue=D[Z],pe=Z+1,ee=D[pe];if(0>o(ue,Q))pe<q&&0>o(ee,ue)?(D[T]=ee,D[pe]=Q,T=pe):(D[T]=ue,D[Z]=Q,T=Z);else if(pe<q&&0>o(ee,Q))D[T]=ee,D[pe]=Q,T=pe;else break e}}return X}function o(D,X){var Q=D.sortIndex-X.sortIndex;return Q!==0?Q:D.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var p=[],f=[],y=1,v=null,w=3,S=!1,b=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var X=r(f);X!==null;){if(X.callback===null)n(f);else if(X.startTime<=D)n(f),X.sortIndex=X.expirationTime,t(p,X);else break;X=r(f)}}function M(D){if(x=!1,E(D),!b)if(r(p)!==null)b=!0,$(j);else{var X=r(f);X!==null&&Y(M,X.startTime-D)}}function j(D,X){b=!1,x&&(x=!1,N(z),z=-1),S=!0;var Q=w;try{for(E(X),v=r(p);v!==null&&(!(v.expirationTime>X)||D&&!ie());){var T=v.callback;if(typeof T=="function"){v.callback=null,w=v.priorityLevel;var q=T(v.expirationTime<=X);X=e.unstable_now(),typeof q=="function"?v.callback=q:v===r(p)&&n(p),E(X)}else n(p);v=r(p)}if(v!==null)var ce=!0;else{var Z=r(f);Z!==null&&Y(M,Z.startTime-X),ce=!1}return ce}finally{v=null,w=Q,S=!1}}var O=!1,B=null,z=-1,J=5,se=-1;function ie(){return!(e.unstable_now()-se<J)}function K(){if(B!==null){var D=e.unstable_now();se=D;var X=!0;try{X=B(!0,D)}finally{X?W():(O=!1,B=null)}}else O=!1}var W;if(typeof P=="function")W=function(){P(K)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,L=H.port2;H.port1.onmessage=K,W=function(){L.postMessage(null)}}else W=function(){k(K,0)};function $(D){B=D,O||(O=!0,W())}function Y(D,X){z=k(function(){D(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||S||(b=!0,$(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(D){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var Q=w;w=X;try{return D()}finally{w=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=w;w=D;try{return X()}finally{w=Q}},e.unstable_scheduleCallback=function(D,X,Q){var T=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?T+Q:T):Q=T,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,D={id:y++,callback:X,priorityLevel:D,startTime:Q,expirationTime:q,sortIndex:-1},Q>T?(D.sortIndex=Q,t(f,D),r(p)===null&&D===r(f)&&(x?(N(z),z=-1):x=!0,Y(M,Q-T))):(D.sortIndex=q,t(p,D),b||S||(b=!0,$(j))),D},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(D){var X=w;return function(){var Q=w;w=X;try{return D.apply(this,arguments)}finally{w=Q}}}})(Qu)),Qu}var sg;function yS(){return sg||(sg=1,Zu.exports=vS()),Zu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function xS(){if(ng)return Ut;ng=1;var e=Ed(),t=yS();function r(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)n.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(i){return p.call(v,i)?!0:p.call(y,i)?!1:f.test(i)?v[i]=!0:(y[i]=!0,!1)}function S(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,s,l,h){if(s===null||typeof s>"u"||S(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(i,s,l,h,m,g,C){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=g,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];k[s]=new x(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function P(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(N,P);k[s]=new x(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(N,P);k[s]=new x(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(N,P);k[s]=new x(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function E(i,s,l,h){var m=k.hasOwnProperty(s)?k[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,m,h)&&(l=null),h||m===null?w(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var M=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),O=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),ie=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),D=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,T;function q(i){if(T===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+i}var ce=!1;function Z(i,s){if(!i||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var h=V}Reflect.construct(i,[],s)}else{try{s.call()}catch(V){h=V}i.call(s.prototype)}else{try{throw Error()}catch(V){h=V}i()}}catch(V){if(V&&h&&typeof V.stack=="string"){for(var m=V.stack.split(`
`),g=h.stack.split(`
`),C=m.length-1,R=g.length-1;1<=C&&0<=R&&m[C]!==g[R];)R--;for(;1<=C&&0<=R;C--,R--)if(m[C]!==g[R]){if(C!==1||R!==1)do if(C--,R--,0>R||m[C]!==g[R]){var A=`
`+m[C].replace(" at new "," at ");return i.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",i.displayName)),A}while(1<=C&&0<=R);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?q(i):""}function ue(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=Z(i.type,!1),i;case 11:return i=Z(i.type.render,!1),i;case 1:return i=Z(i.type,!0),i;default:return""}}function pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case O:return"Portal";case J:return"Profiler";case z:return"StrictMode";case W:return"Suspense";case H:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ie:return(i.displayName||"Context")+".Consumer";case se:return(i._context.displayName||"Context")+".Provider";case K:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return s=i.displayName||null,s!==null?s:pe(i.type)||"Memo";case $:s=i._payload,i=i._init;try{return pe(i(s))}catch{}}return null}function ee(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function de(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function we(i){var s=de(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(C){h=""+C,g.call(this,C)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Re(i){i._valueTracker||(i._valueTracker=we(i))}function Te(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=de(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function ke(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Tt(i,s){var l=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ms(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function gs(i,s){s=s.checked,s!=null&&E(i,"checked",s,!1)}function $i(i,s){gs(i,s);var l=oe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?ic(i,s.type,l):s.hasOwnProperty("defaultValue")&&ic(i,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function af(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function ic(i,s,l){(s!=="number"||ke(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var pn=Array.isArray;function _s(i,s,l,h){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function sc(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function cf(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(pn(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:oe(l)}}function uf(i,s){var l=oe(s.value),h=oe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function hf(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function df(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nc(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?df(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var zo,ff=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,m)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=zo.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function mn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vx=["Webkit","ms","Moz","O"];Object.keys(gn).forEach(function(i){vx.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),gn[s]=gn[i]})});function pf(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||gn.hasOwnProperty(i)&&gn[i]?(""+s).trim():s+"px"}function mf(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=pf(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var yx=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oc(i,s){if(s){if(yx[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function lc(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function cc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uc=null,vs=null,ys=null;function gf(i){if(i=Bn(i)){if(typeof uc!="function")throw Error(r(280));var s=i.stateNode;s&&(s=al(s),uc(i.stateNode,i.type,s))}}function _f(i){vs?ys?ys.push(i):ys=[i]:vs=i}function vf(){if(vs){var i=vs,s=ys;if(ys=vs=null,gf(i),s)for(i=0;i<s.length;i++)gf(s[i])}}function yf(i,s){return i(s)}function xf(){}var hc=!1;function Sf(i,s,l){if(hc)return i(s,l);hc=!0;try{return yf(i,s,l)}finally{hc=!1,(vs!==null||ys!==null)&&(xf(),vf())}}function _n(i,s){var l=i.stateNode;if(l===null)return null;var h=al(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var dc=!1;if(d)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){dc=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{dc=!1}function xx(i,s,l,h,m,g,C,R,A){var V=Array.prototype.slice.call(arguments,3);try{s.apply(l,V)}catch(re){this.onError(re)}}var yn=!1,Fo=null,$o=!1,fc=null,Sx={onError:function(i){yn=!0,Fo=i}};function wx(i,s,l,h,m,g,C,R,A){yn=!1,Fo=null,xx.apply(Sx,arguments)}function Cx(i,s,l,h,m,g,C,R,A){if(wx.apply(this,arguments),yn){if(yn){var V=Fo;yn=!1,Fo=null}else throw Error(r(198));$o||($o=!0,fc=V)}}function Wi(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function wf(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Cf(i){if(Wi(i)!==i)throw Error(r(188))}function bx(i){var s=i.alternate;if(!s){if(s=Wi(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return Cf(m),i;if(g===h)return Cf(m),s;g=g.sibling}throw Error(r(188))}if(l.return!==h.return)l=m,h=g;else{for(var C=!1,R=m.child;R;){if(R===l){C=!0,l=m,h=g;break}if(R===h){C=!0,h=m,l=g;break}R=R.sibling}if(!C){for(R=g.child;R;){if(R===l){C=!0,l=g,h=m;break}if(R===h){C=!0,h=g,l=m;break}R=R.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function bf(i){return i=bx(i),i!==null?kf(i):null}function kf(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=kf(i);if(s!==null)return s;i=i.sibling}return null}var Ef=t.unstable_scheduleCallback,Nf=t.unstable_cancelCallback,kx=t.unstable_shouldYield,Ex=t.unstable_requestPaint,rt=t.unstable_now,Nx=t.unstable_getCurrentPriorityLevel,pc=t.unstable_ImmediatePriority,Rf=t.unstable_UserBlockingPriority,Wo=t.unstable_NormalPriority,Rx=t.unstable_LowPriority,Df=t.unstable_IdlePriority,Ho=null,br=null;function Dx(i){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Ho,i,void 0,(i.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Mx,Px=Math.log,jx=Math.LN2;function Mx(i){return i>>>=0,i===0?32:31-(Px(i)/jx|0)|0}var Uo=64,Vo=4194304;function xn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ko(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,g=i.pingedLanes,C=l&268435455;if(C!==0){var R=C&~m;R!==0?h=xn(R):(g&=C,g!==0&&(h=xn(g)))}else C=l&~m,C!==0?h=xn(C):g!==0&&(h=xn(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&m)===0&&(m=h&-h,g=s&-s,m>=g||m===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-fr(s),m=1<<l,h|=i[l],s&=~m;return h}function Tx(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ax(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes;0<g;){var C=31-fr(g),R=1<<C,A=m[C];A===-1?((R&l)===0||(R&h)!==0)&&(m[C]=Tx(R,s)):A<=s&&(i.expiredLanes|=R),g&=~R}}function mc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Pf(){var i=Uo;return Uo<<=1,(Uo&4194240)===0&&(Uo=64),i}function gc(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Sn(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-fr(s),i[s]=l}function Lx(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-fr(l),g=1<<m;s[m]=0,h[m]=-1,i[m]=-1,l&=~g}}function _c(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-fr(l),m=1<<h;m&s|i[h]&s&&(i[h]|=s),l&=~m}}var ze=0;function jf(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Mf,vc,Tf,Af,Lf,yc=!1,qo=[],ni=null,oi=null,li=null,wn=new Map,Cn=new Map,ai=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Of(i,s){switch(i){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":wn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(s.pointerId)}}function bn(i,s,l,h,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Bn(s),s!==null&&vc(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function Ix(i,s,l,h,m){switch(s){case"focusin":return ni=bn(ni,i,s,l,h,m),!0;case"dragenter":return oi=bn(oi,i,s,l,h,m),!0;case"mouseover":return li=bn(li,i,s,l,h,m),!0;case"pointerover":var g=m.pointerId;return wn.set(g,bn(wn.get(g)||null,i,s,l,h,m)),!0;case"gotpointercapture":return g=m.pointerId,Cn.set(g,bn(Cn.get(g)||null,i,s,l,h,m)),!0}return!1}function If(i){var s=Hi(i.target);if(s!==null){var l=Wi(s);if(l!==null){if(s=l.tag,s===13){if(s=wf(l),s!==null){i.blockedOn=s,Lf(i.priority,function(){Tf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yo(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Sc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ac=h,l.target.dispatchEvent(h),ac=null}else return s=Bn(l),s!==null&&vc(s),i.blockedOn=l,!1;s.shift()}return!0}function Bf(i,s,l){Yo(i)&&l.delete(s)}function Bx(){yc=!1,ni!==null&&Yo(ni)&&(ni=null),oi!==null&&Yo(oi)&&(oi=null),li!==null&&Yo(li)&&(li=null),wn.forEach(Bf),Cn.forEach(Bf)}function kn(i,s){i.blockedOn===s&&(i.blockedOn=null,yc||(yc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Bx)))}function En(i){function s(m){return kn(m,i)}if(0<qo.length){kn(qo[0],i);for(var l=1;l<qo.length;l++){var h=qo[l];h.blockedOn===i&&(h.blockedOn=null)}}for(ni!==null&&kn(ni,i),oi!==null&&kn(oi,i),li!==null&&kn(li,i),wn.forEach(s),Cn.forEach(s),l=0;l<ai.length;l++)h=ai[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ai.length&&(l=ai[0],l.blockedOn===null);)If(l),l.blockedOn===null&&ai.shift()}var xs=M.ReactCurrentBatchConfig,Go=!0;function zx(i,s,l,h){var m=ze,g=xs.transition;xs.transition=null;try{ze=1,xc(i,s,l,h)}finally{ze=m,xs.transition=g}}function Fx(i,s,l,h){var m=ze,g=xs.transition;xs.transition=null;try{ze=4,xc(i,s,l,h)}finally{ze=m,xs.transition=g}}function xc(i,s,l,h){if(Go){var m=Sc(i,s,l,h);if(m===null)Bc(i,s,h,Xo,l),Of(i,h);else if(Ix(m,i,s,l,h))h.stopPropagation();else if(Of(i,h),s&4&&-1<Ox.indexOf(i)){for(;m!==null;){var g=Bn(m);if(g!==null&&Mf(g),g=Sc(i,s,l,h),g===null&&Bc(i,s,h,Xo,l),g===m)break;m=g}m!==null&&h.stopPropagation()}else Bc(i,s,h,null,l)}}var Xo=null;function Sc(i,s,l,h){if(Xo=null,i=cc(h),i=Hi(i),i!==null)if(s=Wi(i),s===null)i=null;else if(l=s.tag,l===13){if(i=wf(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Xo=i,null}function zf(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nx()){case pc:return 1;case Rf:return 4;case Wo:case Rx:return 16;case Df:return 536870912;default:return 16}default:return 16}}var ci=null,wc=null,Zo=null;function Ff(){if(Zo)return Zo;var i,s=wc,l=s.length,h,m="value"in ci?ci.value:ci.textContent,g=m.length;for(i=0;i<l&&s[i]===m[i];i++);var C=l-i;for(h=1;h<=C&&s[l-h]===m[g-h];h++);return Zo=m.slice(i,1<h?1-h:void 0)}function Qo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Jo(){return!0}function $f(){return!1}function qt(i){function s(l,h,m,g,C){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=g,this.target=C,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Jo:$f,this.isPropagationStopped=$f,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),s}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=qt(Ss),Nn=Q({},Ss,{view:0,detail:0}),$x=qt(Nn),bc,kc,Rn,el=Q({},Nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rn&&(Rn&&i.type==="mousemove"?(bc=i.screenX-Rn.screenX,kc=i.screenY-Rn.screenY):kc=bc=0,Rn=i),bc)},movementY:function(i){return"movementY"in i?i.movementY:kc}}),Wf=qt(el),Wx=Q({},el,{dataTransfer:0}),Hx=qt(Wx),Ux=Q({},Nn,{relatedTarget:0}),Ec=qt(Ux),Vx=Q({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Kx=qt(Vx),qx=Q({},Ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yx=qt(qx),Gx=Q({},Ss,{data:0}),Hf=qt(Gx),Xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jx(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Qx[i])?!!s[i]:!1}function Nc(){return Jx}var e1=Q({},Nn,{key:function(i){if(i.key){var s=Xx[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Qo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nc,charCode:function(i){return i.type==="keypress"?Qo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),t1=qt(e1),r1=Q({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=qt(r1),i1=Q({},Nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nc}),s1=qt(i1),n1=Q({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),o1=qt(n1),l1=Q({},el,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=qt(l1),c1=[9,13,27,32],Rc=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var u1=d&&"TextEvent"in window&&!Dn,Vf=d&&(!Rc||Dn&&8<Dn&&11>=Dn),Kf=" ",qf=!1;function Yf(i,s){switch(i){case"keyup":return c1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ws=!1;function h1(i,s){switch(i){case"compositionend":return Gf(s);case"keypress":return s.which!==32?null:(qf=!0,Kf);case"textInput":return i=s.data,i===Kf&&qf?null:i;default:return null}}function d1(i,s){if(ws)return i==="compositionend"||!Rc&&Yf(i,s)?(i=Ff(),Zo=wc=ci=null,ws=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vf&&s.locale!=="ko"?null:s.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!f1[i.type]:s==="textarea"}function Zf(i,s,l,h){_f(h),s=nl(s,"onChange"),0<s.length&&(l=new Cc("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Pn=null,jn=null;function p1(i){mp(i,0)}function tl(i){var s=Ns(i);if(Te(s))return i}function m1(i,s){if(i==="change")return s}var Qf=!1;if(d){var Dc;if(d){var Pc="oninput"in document;if(!Pc){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),Pc=typeof Jf.oninput=="function"}Dc=Pc}else Dc=!1;Qf=Dc&&(!document.documentMode||9<document.documentMode)}function ep(){Pn&&(Pn.detachEvent("onpropertychange",tp),jn=Pn=null)}function tp(i){if(i.propertyName==="value"&&tl(jn)){var s=[];Zf(s,jn,i,cc(i)),Sf(p1,s)}}function g1(i,s,l){i==="focusin"?(ep(),Pn=s,jn=l,Pn.attachEvent("onpropertychange",tp)):i==="focusout"&&ep()}function _1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tl(jn)}function v1(i,s){if(i==="click")return tl(s)}function y1(i,s){if(i==="input"||i==="change")return tl(s)}function x1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var pr=typeof Object.is=="function"?Object.is:x1;function Mn(i,s){if(pr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!p.call(s,m)||!pr(i[m],s[m]))return!1}return!0}function rp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ip(i,s){var l=rp(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rp(l)}}function sp(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?sp(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function np(){for(var i=window,s=ke();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ke(i.document)}return s}function jc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function S1(i){var s=np(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&sp(l.ownerDocument.documentElement,l)){if(h!==null&&jc(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,g=Math.min(h.start,m);h=h.end===void 0?g:Math.min(h.end,m),!i.extend&&g>h&&(m=h,h=g,g=m),m=ip(l,g);var C=ip(l,h);m&&C&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==C.node||i.focusOffset!==C.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),g>h?(i.addRange(s),i.extend(C.node,C.offset)):(s.setEnd(C.node,C.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var w1=d&&"documentMode"in document&&11>=document.documentMode,Cs=null,Mc=null,Tn=null,Tc=!1;function op(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tc||Cs==null||Cs!==ke(h)||(h=Cs,"selectionStart"in h&&jc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Tn&&Mn(Tn,h)||(Tn=h,h=nl(Mc,"onSelect"),0<h.length&&(s=new Cc("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Cs)))}function rl(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var bs={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},Ac={},lp={};d&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function il(i){if(Ac[i])return Ac[i];if(!bs[i])return i;var s=bs[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in lp)return Ac[i]=s[l];return i}var ap=il("animationend"),cp=il("animationiteration"),up=il("animationstart"),hp=il("transitionend"),dp=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(i,s){dp.set(i,s),a(s,[i])}for(var Lc=0;Lc<fp.length;Lc++){var Oc=fp[Lc],C1=Oc.toLowerCase(),b1=Oc[0].toUpperCase()+Oc.slice(1);ui(C1,"on"+b1)}ui(ap,"onAnimationEnd"),ui(cp,"onAnimationIteration"),ui(up,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(hp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function pp(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,Cx(h,s,void 0,i),i.currentTarget=null}function mp(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var C=h.length-1;0<=C;C--){var R=h[C],A=R.instance,V=R.currentTarget;if(R=R.listener,A!==g&&m.isPropagationStopped())break e;pp(m,R,V),g=A}else for(C=0;C<h.length;C++){if(R=h[C],A=R.instance,V=R.currentTarget,R=R.listener,A!==g&&m.isPropagationStopped())break e;pp(m,R,V),g=A}}}if($o)throw i=fc,$o=!1,fc=null,i}function We(i,s){var l=s[Uc];l===void 0&&(l=s[Uc]=new Set);var h=i+"__bubble";l.has(h)||(gp(s,i,2,!1),l.add(h))}function Ic(i,s,l){var h=0;s&&(h|=4),gp(l,i,h,s)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Ln(i){if(!i[sl]){i[sl]=!0,n.forEach(function(l){l!=="selectionchange"&&(k1.has(l)||Ic(l,!1,i),Ic(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[sl]||(s[sl]=!0,Ic("selectionchange",!1,s))}}function gp(i,s,l,h){switch(zf(s)){case 1:var m=zx;break;case 4:m=Fx;break;default:m=xc}l=m.bind(null,s,l,i),m=void 0,!dc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Bc(i,s,l,h,m){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var R=h.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(C===4)for(C=h.return;C!==null;){var A=C.tag;if((A===3||A===4)&&(A=C.stateNode.containerInfo,A===m||A.nodeType===8&&A.parentNode===m))return;C=C.return}for(;R!==null;){if(C=Hi(R),C===null)return;if(A=C.tag,A===5||A===6){h=g=C;continue e}R=R.parentNode}}h=h.return}Sf(function(){var V=g,re=cc(l),ne=[];e:{var te=dp.get(i);if(te!==void 0){var fe=Cc,ge=i;switch(i){case"keypress":if(Qo(l)===0)break e;case"keydown":case"keyup":fe=t1;break;case"focusin":ge="focus",fe=Ec;break;case"focusout":ge="blur",fe=Ec;break;case"beforeblur":case"afterblur":fe=Ec;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=s1;break;case ap:case cp:case up:fe=Kx;break;case hp:fe=o1;break;case"scroll":fe=$x;break;case"wheel":fe=a1;break;case"copy":case"cut":case"paste":fe=Yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Uf}var ye=(s&4)!==0,it=!ye&&i==="scroll",F=ye?te!==null?te+"Capture":null:te;ye=[];for(var I=V,U;I!==null;){U=I;var le=U.stateNode;if(U.tag===5&&le!==null&&(U=le,F!==null&&(le=_n(I,F),le!=null&&ye.push(On(I,le,U)))),it)break;I=I.return}0<ye.length&&(te=new fe(te,ge,null,l,re),ne.push({event:te,listeners:ye}))}}if((s&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",te&&l!==ac&&(ge=l.relatedTarget||l.fromElement)&&(Hi(ge)||ge[Wr]))break e;if((fe||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,fe?(ge=l.relatedTarget||l.toElement,fe=V,ge=ge?Hi(ge):null,ge!==null&&(it=Wi(ge),ge!==it||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(fe=null,ge=V),fe!==ge)){if(ye=Wf,le="onMouseLeave",F="onMouseEnter",I="mouse",(i==="pointerout"||i==="pointerover")&&(ye=Uf,le="onPointerLeave",F="onPointerEnter",I="pointer"),it=fe==null?te:Ns(fe),U=ge==null?te:Ns(ge),te=new ye(le,I+"leave",fe,l,re),te.target=it,te.relatedTarget=U,le=null,Hi(re)===V&&(ye=new ye(F,I+"enter",ge,l,re),ye.target=U,ye.relatedTarget=it,le=ye),it=le,fe&&ge)t:{for(ye=fe,F=ge,I=0,U=ye;U;U=ks(U))I++;for(U=0,le=F;le;le=ks(le))U++;for(;0<I-U;)ye=ks(ye),I--;for(;0<U-I;)F=ks(F),U--;for(;I--;){if(ye===F||F!==null&&ye===F.alternate)break t;ye=ks(ye),F=ks(F)}ye=null}else ye=null;fe!==null&&_p(ne,te,fe,ye,!1),ge!==null&&it!==null&&_p(ne,it,ge,ye,!0)}}e:{if(te=V?Ns(V):window,fe=te.nodeName&&te.nodeName.toLowerCase(),fe==="select"||fe==="input"&&te.type==="file")var xe=m1;else if(Xf(te))if(Qf)xe=y1;else{xe=_1;var Ce=g1}else(fe=te.nodeName)&&fe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(xe=v1);if(xe&&(xe=xe(i,V))){Zf(ne,xe,l,re);break e}Ce&&Ce(i,te,V),i==="focusout"&&(Ce=te._wrapperState)&&Ce.controlled&&te.type==="number"&&ic(te,"number",te.value)}switch(Ce=V?Ns(V):window,i){case"focusin":(Xf(Ce)||Ce.contentEditable==="true")&&(Cs=Ce,Mc=V,Tn=null);break;case"focusout":Tn=Mc=Cs=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,op(ne,l,re);break;case"selectionchange":if(w1)break;case"keydown":case"keyup":op(ne,l,re)}var be;if(Rc)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ws?Yf(i,l)&&(Ee="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Vf&&l.locale!=="ko"&&(ws||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ws&&(be=Ff()):(ci=re,wc="value"in ci?ci.value:ci.textContent,ws=!0)),Ce=nl(V,Ee),0<Ce.length&&(Ee=new Hf(Ee,i,null,l,re),ne.push({event:Ee,listeners:Ce}),be?Ee.data=be:(be=Gf(l),be!==null&&(Ee.data=be)))),(be=u1?h1(i,l):d1(i,l))&&(V=nl(V,"onBeforeInput"),0<V.length&&(re=new Hf("onBeforeInput","beforeinput",null,l,re),ne.push({event:re,listeners:V}),re.data=be))}mp(ne,s)})}function On(i,s,l){return{instance:i,listener:s,currentTarget:l}}function nl(i,s){for(var l=s+"Capture",h=[];i!==null;){var m=i,g=m.stateNode;m.tag===5&&g!==null&&(m=g,g=_n(i,l),g!=null&&h.unshift(On(i,g,m)),g=_n(i,s),g!=null&&h.push(On(i,g,m))),i=i.return}return h}function ks(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function _p(i,s,l,h,m){for(var g=s._reactName,C=[];l!==null&&l!==h;){var R=l,A=R.alternate,V=R.stateNode;if(A!==null&&A===h)break;R.tag===5&&V!==null&&(R=V,m?(A=_n(l,g),A!=null&&C.unshift(On(l,A,R))):m||(A=_n(l,g),A!=null&&C.push(On(l,A,R)))),l=l.return}C.length!==0&&i.push({event:s,listeners:C})}var E1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function vp(i){return(typeof i=="string"?i:""+i).replace(E1,`
`).replace(N1,"")}function ol(i,s,l){if(s=vp(s),vp(i)!==s&&l)throw Error(r(425))}function ll(){}var zc=null,Fc=null;function $c(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wc=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,D1=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(i){return yp.resolve(null).then(i).catch(P1)}:Wc;function P1(i){setTimeout(function(){throw i})}function Hc(i,s){var l=s,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),En(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);En(s)}function hi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function xp(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Es=Math.random().toString(36).slice(2),kr="__reactFiber$"+Es,In="__reactProps$"+Es,Wr="__reactContainer$"+Es,Uc="__reactEvents$"+Es,j1="__reactListeners$"+Es,M1="__reactHandles$"+Es;function Hi(i){var s=i[kr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Wr]||l[kr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=xp(i);i!==null;){if(l=i[kr])return l;i=xp(i)}return s}i=l,l=i.parentNode}return null}function Bn(i){return i=i[kr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ns(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function al(i){return i[In]||null}var Vc=[],Rs=-1;function di(i){return{current:i}}function He(i){0>Rs||(i.current=Vc[Rs],Vc[Rs]=null,Rs--)}function $e(i,s){Rs++,Vc[Rs]=i.current,i.current=s}var fi={},Nt=di(fi),zt=di(!1),Ui=fi;function Ds(i,s){var l=i.type.contextTypes;if(!l)return fi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},g;for(g in l)m[g]=s[g];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function Ft(i){return i=i.childContextTypes,i!=null}function cl(){He(zt),He(Nt)}function Sp(i,s,l){if(Nt.current!==fi)throw Error(r(168));$e(Nt,s),$e(zt,l)}function wp(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(r(108,ee(i)||"Unknown",m));return Q({},l,h)}function ul(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||fi,Ui=Nt.current,$e(Nt,i),$e(zt,zt.current),!0}function Cp(i,s,l){var h=i.stateNode;if(!h)throw Error(r(169));l?(i=wp(i,s,Ui),h.__reactInternalMemoizedMergedChildContext=i,He(zt),He(Nt),$e(Nt,i)):He(zt),$e(zt,l)}var Hr=null,hl=!1,Kc=!1;function bp(i){Hr===null?Hr=[i]:Hr.push(i)}function T1(i){hl=!0,bp(i)}function pi(){if(!Kc&&Hr!==null){Kc=!0;var i=0,s=ze;try{var l=Hr;for(ze=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Hr=null,hl=!1}catch(m){throw Hr!==null&&(Hr=Hr.slice(i+1)),Ef(pc,pi),m}finally{ze=s,Kc=!1}}return null}var Ps=[],js=0,dl=null,fl=0,ir=[],sr=0,Vi=null,Ur=1,Vr="";function Ki(i,s){Ps[js++]=fl,Ps[js++]=dl,dl=i,fl=s}function kp(i,s,l){ir[sr++]=Ur,ir[sr++]=Vr,ir[sr++]=Vi,Vi=i;var h=Ur;i=Vr;var m=32-fr(h)-1;h&=~(1<<m),l+=1;var g=32-fr(s)+m;if(30<g){var C=m-m%5;g=(h&(1<<C)-1).toString(32),h>>=C,m-=C,Ur=1<<32-fr(s)+m|l<<m|h,Vr=g+i}else Ur=1<<g|l<<m|h,Vr=i}function qc(i){i.return!==null&&(Ki(i,1),kp(i,1,0))}function Yc(i){for(;i===dl;)dl=Ps[--js],Ps[js]=null,fl=Ps[--js],Ps[js]=null;for(;i===Vi;)Vi=ir[--sr],ir[sr]=null,Vr=ir[--sr],ir[sr]=null,Ur=ir[--sr],ir[sr]=null}var Yt=null,Gt=null,Ve=!1,mr=null;function Ep(i,s){var l=ar(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Np(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Yt=i,Gt=hi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Yt=i,Gt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Vi!==null?{id:Ur,overflow:Vr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=ar(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,Yt=i,Gt=null,!0):!1;default:return!1}}function Gc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Xc(i){if(Ve){var s=Gt;if(s){var l=s;if(!Np(i,s)){if(Gc(i))throw Error(r(418));s=hi(l.nextSibling);var h=Yt;s&&Np(i,s)?Ep(h,l):(i.flags=i.flags&-4097|2,Ve=!1,Yt=i)}}else{if(Gc(i))throw Error(r(418));i.flags=i.flags&-4097|2,Ve=!1,Yt=i}}}function Rp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Yt=i}function pl(i){if(i!==Yt)return!1;if(!Ve)return Rp(i),Ve=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!$c(i.type,i.memoizedProps)),s&&(s=Gt)){if(Gc(i))throw Dp(),Error(r(418));for(;s;)Ep(i,s),s=hi(s.nextSibling)}if(Rp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Gt=hi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Gt=null}}else Gt=Yt?hi(i.stateNode.nextSibling):null;return!0}function Dp(){for(var i=Gt;i;)i=hi(i.nextSibling)}function Ms(){Gt=Yt=null,Ve=!1}function Zc(i){mr===null?mr=[i]:mr.push(i)}var A1=M.ReactCurrentBatchConfig;function zn(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var h=l.stateNode}if(!h)throw Error(r(147,i));var m=h,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(C){var R=m.refs;C===null?delete R[g]:R[g]=C},s._stringRef=g,s)}if(typeof i!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,i))}return i}function ml(i,s){throw i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Pp(i){var s=i._init;return s(i._payload)}function jp(i){function s(F,I){if(i){var U=F.deletions;U===null?(F.deletions=[I],F.flags|=16):U.push(I)}}function l(F,I){if(!i)return null;for(;I!==null;)s(F,I),I=I.sibling;return null}function h(F,I){for(F=new Map;I!==null;)I.key!==null?F.set(I.key,I):F.set(I.index,I),I=I.sibling;return F}function m(F,I){return F=wi(F,I),F.index=0,F.sibling=null,F}function g(F,I,U){return F.index=U,i?(U=F.alternate,U!==null?(U=U.index,U<I?(F.flags|=2,I):U):(F.flags|=2,I)):(F.flags|=1048576,I)}function C(F){return i&&F.alternate===null&&(F.flags|=2),F}function R(F,I,U,le){return I===null||I.tag!==6?(I=Wu(U,F.mode,le),I.return=F,I):(I=m(I,U),I.return=F,I)}function A(F,I,U,le){var xe=U.type;return xe===B?re(F,I,U.props.children,le,U.key):I!==null&&(I.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&Pp(xe)===I.type)?(le=m(I,U.props),le.ref=zn(F,I,U),le.return=F,le):(le=zl(U.type,U.key,U.props,null,F.mode,le),le.ref=zn(F,I,U),le.return=F,le)}function V(F,I,U,le){return I===null||I.tag!==4||I.stateNode.containerInfo!==U.containerInfo||I.stateNode.implementation!==U.implementation?(I=Hu(U,F.mode,le),I.return=F,I):(I=m(I,U.children||[]),I.return=F,I)}function re(F,I,U,le,xe){return I===null||I.tag!==7?(I=es(U,F.mode,le,xe),I.return=F,I):(I=m(I,U),I.return=F,I)}function ne(F,I,U){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Wu(""+I,F.mode,U),I.return=F,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case j:return U=zl(I.type,I.key,I.props,null,F.mode,U),U.ref=zn(F,null,I),U.return=F,U;case O:return I=Hu(I,F.mode,U),I.return=F,I;case $:var le=I._init;return ne(F,le(I._payload),U)}if(pn(I)||X(I))return I=es(I,F.mode,U,null),I.return=F,I;ml(F,I)}return null}function te(F,I,U,le){var xe=I!==null?I.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return xe!==null?null:R(F,I,""+U,le);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return U.key===xe?A(F,I,U,le):null;case O:return U.key===xe?V(F,I,U,le):null;case $:return xe=U._init,te(F,I,xe(U._payload),le)}if(pn(U)||X(U))return xe!==null?null:re(F,I,U,le,null);ml(F,U)}return null}function fe(F,I,U,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return F=F.get(U)||null,R(I,F,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return F=F.get(le.key===null?U:le.key)||null,A(I,F,le,xe);case O:return F=F.get(le.key===null?U:le.key)||null,V(I,F,le,xe);case $:var Ce=le._init;return fe(F,I,U,Ce(le._payload),xe)}if(pn(le)||X(le))return F=F.get(U)||null,re(I,F,le,xe,null);ml(I,le)}return null}function ge(F,I,U,le){for(var xe=null,Ce=null,be=I,Ee=I=0,vt=null;be!==null&&Ee<U.length;Ee++){be.index>Ee?(vt=be,be=null):vt=be.sibling;var Be=te(F,be,U[Ee],le);if(Be===null){be===null&&(be=vt);break}i&&be&&Be.alternate===null&&s(F,be),I=g(Be,I,Ee),Ce===null?xe=Be:Ce.sibling=Be,Ce=Be,be=vt}if(Ee===U.length)return l(F,be),Ve&&Ki(F,Ee),xe;if(be===null){for(;Ee<U.length;Ee++)be=ne(F,U[Ee],le),be!==null&&(I=g(be,I,Ee),Ce===null?xe=be:Ce.sibling=be,Ce=be);return Ve&&Ki(F,Ee),xe}for(be=h(F,be);Ee<U.length;Ee++)vt=fe(be,F,Ee,U[Ee],le),vt!==null&&(i&&vt.alternate!==null&&be.delete(vt.key===null?Ee:vt.key),I=g(vt,I,Ee),Ce===null?xe=vt:Ce.sibling=vt,Ce=vt);return i&&be.forEach(function(Ci){return s(F,Ci)}),Ve&&Ki(F,Ee),xe}function ye(F,I,U,le){var xe=X(U);if(typeof xe!="function")throw Error(r(150));if(U=xe.call(U),U==null)throw Error(r(151));for(var Ce=xe=null,be=I,Ee=I=0,vt=null,Be=U.next();be!==null&&!Be.done;Ee++,Be=U.next()){be.index>Ee?(vt=be,be=null):vt=be.sibling;var Ci=te(F,be,Be.value,le);if(Ci===null){be===null&&(be=vt);break}i&&be&&Ci.alternate===null&&s(F,be),I=g(Ci,I,Ee),Ce===null?xe=Ci:Ce.sibling=Ci,Ce=Ci,be=vt}if(Be.done)return l(F,be),Ve&&Ki(F,Ee),xe;if(be===null){for(;!Be.done;Ee++,Be=U.next())Be=ne(F,Be.value,le),Be!==null&&(I=g(Be,I,Ee),Ce===null?xe=Be:Ce.sibling=Be,Ce=Be);return Ve&&Ki(F,Ee),xe}for(be=h(F,be);!Be.done;Ee++,Be=U.next())Be=fe(be,F,Ee,Be.value,le),Be!==null&&(i&&Be.alternate!==null&&be.delete(Be.key===null?Ee:Be.key),I=g(Be,I,Ee),Ce===null?xe=Be:Ce.sibling=Be,Ce=Be);return i&&be.forEach(function(fS){return s(F,fS)}),Ve&&Ki(F,Ee),xe}function it(F,I,U,le){if(typeof U=="object"&&U!==null&&U.type===B&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case j:e:{for(var xe=U.key,Ce=I;Ce!==null;){if(Ce.key===xe){if(xe=U.type,xe===B){if(Ce.tag===7){l(F,Ce.sibling),I=m(Ce,U.props.children),I.return=F,F=I;break e}}else if(Ce.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===$&&Pp(xe)===Ce.type){l(F,Ce.sibling),I=m(Ce,U.props),I.ref=zn(F,Ce,U),I.return=F,F=I;break e}l(F,Ce);break}else s(F,Ce);Ce=Ce.sibling}U.type===B?(I=es(U.props.children,F.mode,le,U.key),I.return=F,F=I):(le=zl(U.type,U.key,U.props,null,F.mode,le),le.ref=zn(F,I,U),le.return=F,F=le)}return C(F);case O:e:{for(Ce=U.key;I!==null;){if(I.key===Ce)if(I.tag===4&&I.stateNode.containerInfo===U.containerInfo&&I.stateNode.implementation===U.implementation){l(F,I.sibling),I=m(I,U.children||[]),I.return=F,F=I;break e}else{l(F,I);break}else s(F,I);I=I.sibling}I=Hu(U,F.mode,le),I.return=F,F=I}return C(F);case $:return Ce=U._init,it(F,I,Ce(U._payload),le)}if(pn(U))return ge(F,I,U,le);if(X(U))return ye(F,I,U,le);ml(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,I!==null&&I.tag===6?(l(F,I.sibling),I=m(I,U),I.return=F,F=I):(l(F,I),I=Wu(U,F.mode,le),I.return=F,F=I),C(F)):l(F,I)}return it}var Ts=jp(!0),Mp=jp(!1),gl=di(null),_l=null,As=null,Qc=null;function Jc(){Qc=As=_l=null}function eu(i){var s=gl.current;He(gl),i._currentValue=s}function tu(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Ls(i,s){_l=i,Qc=As=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&($t=!0),i.firstContext=null)}function nr(i){var s=i._currentValue;if(Qc!==i)if(i={context:i,memoizedValue:s,next:null},As===null){if(_l===null)throw Error(r(308));As=i,_l.dependencies={lanes:0,firstContext:i}}else As=As.next=i;return s}var qi=null;function ru(i){qi===null?qi=[i]:qi.push(i)}function Tp(i,s,l,h){var m=s.interleaved;return m===null?(l.next=l,ru(s)):(l.next=m.next,m.next=l),s.interleaved=l,Kr(i,h)}function Kr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var mi=!1;function iu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ap(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function gi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ie&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Kr(i,l)}return m=h.interleaved,m===null?(s.next=s,ru(h)):(s.next=m.next,m.next=s),h.interleaved=s,Kr(i,l)}function vl(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,_c(i,l)}}function Lp(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var C={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?m=g=C:g=g.next=C,l=l.next}while(l!==null);g===null?m=g=s:g=g.next=s}else m=g=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function yl(i,s,l,h){var m=i.updateQueue;mi=!1;var g=m.firstBaseUpdate,C=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var A=R,V=A.next;A.next=null,C===null?g=V:C.next=V,C=A;var re=i.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==C&&(R===null?re.firstBaseUpdate=V:R.next=V,re.lastBaseUpdate=A))}if(g!==null){var ne=m.baseState;C=0,re=V=A=null,R=g;do{var te=R.lane,fe=R.eventTime;if((h&te)===te){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ge=i,ye=R;switch(te=s,fe=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){ne=ge.call(fe,ne,te);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,te=typeof ge=="function"?ge.call(fe,ne,te):ge,te==null)break e;ne=Q({},ne,te);break e;case 2:mi=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[R]:te.push(R))}else fe={eventTime:fe,lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(V=re=fe,A=ne):re=re.next=fe,C|=te;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;te=R,R=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(re===null&&(A=ne),m.baseState=A,m.firstBaseUpdate=V,m.lastBaseUpdate=re,s=m.shared.interleaved,s!==null){m=s;do C|=m.lane,m=m.next;while(m!==s)}else g===null&&(m.shared.lanes=0);Xi|=C,i.lanes=C,i.memoizedState=ne}}function Op(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var Fn={},Er=di(Fn),$n=di(Fn),Wn=di(Fn);function Yi(i){if(i===Fn)throw Error(r(174));return i}function su(i,s){switch($e(Wn,s),$e($n,i),$e(Er,Fn),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:nc(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=nc(s,i)}He(Er),$e(Er,s)}function Os(){He(Er),He($n),He(Wn)}function Ip(i){Yi(Wn.current);var s=Yi(Er.current),l=nc(s,i.type);s!==l&&($e($n,i),$e(Er,l))}function nu(i){$n.current===i&&(He(Er),He($n))}var Ge=di(0);function xl(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ou=[];function lu(){for(var i=0;i<ou.length;i++)ou[i]._workInProgressVersionPrimary=null;ou.length=0}var Sl=M.ReactCurrentDispatcher,au=M.ReactCurrentBatchConfig,Gi=0,Xe=null,ct=null,gt=null,wl=!1,Hn=!1,Un=0,L1=0;function Rt(){throw Error(r(321))}function cu(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!pr(i[l],s[l]))return!1;return!0}function uu(i,s,l,h,m,g){if(Gi=g,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Sl.current=i===null||i.memoizedState===null?z1:F1,i=l(h,m),Hn){g=0;do{if(Hn=!1,Un=0,25<=g)throw Error(r(301));g+=1,gt=ct=null,s.updateQueue=null,Sl.current=$1,i=l(h,m)}while(Hn)}if(Sl.current=kl,s=ct!==null&&ct.next!==null,Gi=0,gt=ct=Xe=null,wl=!1,s)throw Error(r(300));return i}function hu(){var i=Un!==0;return Un=0,i}function Nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Xe.memoizedState=gt=i:gt=gt.next=i,gt}function or(){if(ct===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var s=gt===null?Xe.memoizedState:gt.next;if(s!==null)gt=s,ct=i;else{if(i===null)throw Error(r(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?Xe.memoizedState=gt=i:gt=gt.next=i}return gt}function Vn(i,s){return typeof s=="function"?s(i):s}function du(i){var s=or(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=ct,m=h.baseQueue,g=l.pending;if(g!==null){if(m!==null){var C=m.next;m.next=g.next,g.next=C}h.baseQueue=m=g,l.pending=null}if(m!==null){g=m.next,h=h.baseState;var R=C=null,A=null,V=g;do{var re=V.lane;if((Gi&re)===re)A!==null&&(A=A.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),h=V.hasEagerState?V.eagerState:i(h,V.action);else{var ne={lane:re,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};A===null?(R=A=ne,C=h):A=A.next=ne,Xe.lanes|=re,Xi|=re}V=V.next}while(V!==null&&V!==g);A===null?C=h:A.next=R,pr(h,s.memoizedState)||($t=!0),s.memoizedState=h,s.baseState=C,s.baseQueue=A,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do g=m.lane,Xe.lanes|=g,Xi|=g,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function fu(i){var s=or(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,g=s.memoizedState;if(m!==null){l.pending=null;var C=m=m.next;do g=i(g,C.action),C=C.next;while(C!==m);pr(g,s.memoizedState)||($t=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function Bp(){}function zp(i,s){var l=Xe,h=or(),m=s(),g=!pr(h.memoizedState,m);if(g&&(h.memoizedState=m,$t=!0),h=h.queue,pu(Wp.bind(null,l,h,i),[i]),h.getSnapshot!==s||g||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Kn(9,$p.bind(null,l,h,m,s),void 0,null),_t===null)throw Error(r(349));(Gi&30)!==0||Fp(l,s,m)}return m}function Fp(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function $p(i,s,l,h){s.value=l,s.getSnapshot=h,Hp(s)&&Up(i)}function Wp(i,s,l){return l(function(){Hp(s)&&Up(i)})}function Hp(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!pr(i,l)}catch{return!0}}function Up(i){var s=Kr(i,1);s!==null&&yr(s,i,1,-1)}function Vp(i){var s=Nr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:i},s.queue=i,i=i.dispatch=B1.bind(null,Xe,i),[s.memoizedState,i]}function Kn(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=Xe.updateQueue,s===null?(s={lastEffect:null,stores:null},Xe.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function Kp(){return or().memoizedState}function Cl(i,s,l,h){var m=Nr();Xe.flags|=i,m.memoizedState=Kn(1|s,l,void 0,h===void 0?null:h)}function bl(i,s,l,h){var m=or();h=h===void 0?null:h;var g=void 0;if(ct!==null){var C=ct.memoizedState;if(g=C.destroy,h!==null&&cu(h,C.deps)){m.memoizedState=Kn(s,l,g,h);return}}Xe.flags|=i,m.memoizedState=Kn(1|s,l,g,h)}function qp(i,s){return Cl(8390656,8,i,s)}function pu(i,s){return bl(2048,8,i,s)}function Yp(i,s){return bl(4,2,i,s)}function Gp(i,s){return bl(4,4,i,s)}function Xp(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Zp(i,s,l){return l=l!=null?l.concat([i]):null,bl(4,4,Xp.bind(null,s,i),l)}function mu(){}function Qp(i,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&cu(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Jp(i,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&cu(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function em(i,s,l){return(Gi&21)===0?(i.baseState&&(i.baseState=!1,$t=!0),i.memoizedState=l):(pr(l,s)||(l=Pf(),Xe.lanes|=l,Xi|=l,i.baseState=!0),s)}function O1(i,s){var l=ze;ze=l!==0&&4>l?l:4,i(!0);var h=au.transition;au.transition={};try{i(!1),s()}finally{ze=l,au.transition=h}}function tm(){return or().memoizedState}function I1(i,s,l){var h=xi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},rm(i))im(s,l);else if(l=Tp(i,s,l,h),l!==null){var m=Lt();yr(l,i,h,m),sm(l,s,h)}}function B1(i,s,l){var h=xi(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(rm(i))im(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var C=s.lastRenderedState,R=g(C,l);if(m.hasEagerState=!0,m.eagerState=R,pr(R,C)){var A=s.interleaved;A===null?(m.next=m,ru(s)):(m.next=A.next,A.next=m),s.interleaved=m;return}}catch{}finally{}l=Tp(i,s,m,h),l!==null&&(m=Lt(),yr(l,i,h,m),sm(l,s,h))}}function rm(i){var s=i.alternate;return i===Xe||s!==null&&s===Xe}function im(i,s){Hn=wl=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function sm(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,_c(i,l)}}var kl={readContext:nr,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},z1={readContext:nr,useCallback:function(i,s){return Nr().memoizedState=[i,s===void 0?null:s],i},useContext:nr,useEffect:qp,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Cl(4194308,4,Xp.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Cl(4194308,4,i,s)},useInsertionEffect:function(i,s){return Cl(4,2,i,s)},useMemo:function(i,s){var l=Nr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=Nr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=I1.bind(null,Xe,i),[h.memoizedState,i]},useRef:function(i){var s=Nr();return i={current:i},s.memoizedState=i},useState:Vp,useDebugValue:mu,useDeferredValue:function(i){return Nr().memoizedState=i},useTransition:function(){var i=Vp(!1),s=i[0];return i=O1.bind(null,i[1]),Nr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=Xe,m=Nr();if(Ve){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),_t===null)throw Error(r(349));(Gi&30)!==0||Fp(h,s,l)}m.memoizedState=l;var g={value:l,getSnapshot:s};return m.queue=g,qp(Wp.bind(null,h,g,i),[i]),h.flags|=2048,Kn(9,$p.bind(null,h,g,l,s),void 0,null),l},useId:function(){var i=Nr(),s=_t.identifierPrefix;if(Ve){var l=Vr,h=Ur;l=(h&~(1<<32-fr(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Un++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=L1++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},F1={readContext:nr,useCallback:Qp,useContext:nr,useEffect:pu,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Gp,useMemo:Jp,useReducer:du,useRef:Kp,useState:function(){return du(Vn)},useDebugValue:mu,useDeferredValue:function(i){var s=or();return em(s,ct.memoizedState,i)},useTransition:function(){var i=du(Vn)[0],s=or().memoizedState;return[i,s]},useMutableSource:Bp,useSyncExternalStore:zp,useId:tm,unstable_isNewReconciler:!1},$1={readContext:nr,useCallback:Qp,useContext:nr,useEffect:pu,useImperativeHandle:Zp,useInsertionEffect:Yp,useLayoutEffect:Gp,useMemo:Jp,useReducer:fu,useRef:Kp,useState:function(){return fu(Vn)},useDebugValue:mu,useDeferredValue:function(i){var s=or();return ct===null?s.memoizedState=i:em(s,ct.memoizedState,i)},useTransition:function(){var i=fu(Vn)[0],s=or().memoizedState;return[i,s]},useMutableSource:Bp,useSyncExternalStore:zp,useId:tm,unstable_isNewReconciler:!1};function gr(i,s){if(i&&i.defaultProps){s=Q({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function gu(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:Q({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var El={isMounted:function(i){return(i=i._reactInternals)?Wi(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=Lt(),m=xi(i),g=qr(h,m);g.payload=s,l!=null&&(g.callback=l),s=gi(i,g,m),s!==null&&(yr(s,i,m,h),vl(s,i,m))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=Lt(),m=xi(i),g=qr(h,m);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=gi(i,g,m),s!==null&&(yr(s,i,m,h),vl(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Lt(),h=xi(i),m=qr(l,h);m.tag=2,s!=null&&(m.callback=s),s=gi(i,m,h),s!==null&&(yr(s,i,h,l),vl(s,i,h))}};function nm(i,s,l,h,m,g,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,g,C):s.prototype&&s.prototype.isPureReactComponent?!Mn(l,h)||!Mn(m,g):!0}function om(i,s,l){var h=!1,m=fi,g=s.contextType;return typeof g=="object"&&g!==null?g=nr(g):(m=Ft(s)?Ui:Nt.current,h=s.contextTypes,g=(h=h!=null)?Ds(i,m):fi),s=new s(l,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=El,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=g),s}function lm(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&El.enqueueReplaceState(s,s.state,null)}function _u(i,s,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},iu(i);var g=s.contextType;typeof g=="object"&&g!==null?m.context=nr(g):(g=Ft(s)?Ui:Nt.current,m.context=Ds(i,g)),m.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(gu(i,s,g,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&El.enqueueReplaceState(m,m.state,null),yl(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Is(i,s){try{var l="",h=s;do l+=ue(h),h=h.return;while(h);var m=l}catch(g){m=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:m,digest:null}}function vu(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function yu(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var W1=typeof WeakMap=="function"?WeakMap:Map;function am(i,s,l){l=qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Tl||(Tl=!0,Au=h),yu(i,s)},l}function cm(i,s,l){l=qr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){yu(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){yu(i,s),typeof h!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})}),l}function um(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new W1;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),i=rS.bind(null,i,s,l),s.then(i,i))}function hm(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function dm(i,s,l,h,m){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=qr(-1,1),s.tag=2,gi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var H1=M.ReactCurrentOwner,$t=!1;function At(i,s,l,h){s.child=i===null?Mp(s,null,l,h):Ts(s,i.child,l,h)}function fm(i,s,l,h,m){l=l.render;var g=s.ref;return Ls(s,m),h=uu(i,s,l,h,g,m),l=hu(),i!==null&&!$t?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Yr(i,s,m)):(Ve&&l&&qc(s),s.flags|=1,At(i,s,h,m),s.child)}function pm(i,s,l,h,m){if(i===null){var g=l.type;return typeof g=="function"&&!$u(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,mm(i,s,g,h,m)):(i=zl(l.type,null,h,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,(i.lanes&m)===0){var C=g.memoizedProps;if(l=l.compare,l=l!==null?l:Mn,l(C,h)&&i.ref===s.ref)return Yr(i,s,m)}return s.flags|=1,i=wi(g,h),i.ref=s.ref,i.return=s,s.child=i}function mm(i,s,l,h,m){if(i!==null){var g=i.memoizedProps;if(Mn(g,h)&&i.ref===s.ref)if($t=!1,s.pendingProps=h=g,(i.lanes&m)!==0)(i.flags&131072)!==0&&($t=!0);else return s.lanes=i.lanes,Yr(i,s,m)}return xu(i,s,l,h,m)}function gm(i,s,l){var h=s.pendingProps,m=h.children,g=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(zs,Xt),Xt|=l;else{if((l&1073741824)===0)return i=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,$e(zs,Xt),Xt|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,$e(zs,Xt),Xt|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,$e(zs,Xt),Xt|=h;return At(i,s,m,l),s.child}function _m(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function xu(i,s,l,h,m){var g=Ft(l)?Ui:Nt.current;return g=Ds(s,g),Ls(s,m),l=uu(i,s,l,h,g,m),h=hu(),i!==null&&!$t?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Yr(i,s,m)):(Ve&&h&&qc(s),s.flags|=1,At(i,s,l,m),s.child)}function vm(i,s,l,h,m){if(Ft(l)){var g=!0;ul(s)}else g=!1;if(Ls(s,m),s.stateNode===null)Rl(i,s),om(s,l,h),_u(s,l,h,m),h=!0;else if(i===null){var C=s.stateNode,R=s.memoizedProps;C.props=R;var A=C.context,V=l.contextType;typeof V=="object"&&V!==null?V=nr(V):(V=Ft(l)?Ui:Nt.current,V=Ds(s,V));var re=l.getDerivedStateFromProps,ne=typeof re=="function"||typeof C.getSnapshotBeforeUpdate=="function";ne||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==h||A!==V)&&lm(s,C,h,V),mi=!1;var te=s.memoizedState;C.state=te,yl(s,h,C,m),A=s.memoizedState,R!==h||te!==A||zt.current||mi?(typeof re=="function"&&(gu(s,l,re,h),A=s.memoizedState),(R=mi||nm(s,l,R,h,te,A,V))?(ne||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=A),C.props=h,C.state=A,C.context=V,h=R):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{C=s.stateNode,Ap(i,s),R=s.memoizedProps,V=s.type===s.elementType?R:gr(s.type,R),C.props=V,ne=s.pendingProps,te=C.context,A=l.contextType,typeof A=="object"&&A!==null?A=nr(A):(A=Ft(l)?Ui:Nt.current,A=Ds(s,A));var fe=l.getDerivedStateFromProps;(re=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==ne||te!==A)&&lm(s,C,h,A),mi=!1,te=s.memoizedState,C.state=te,yl(s,h,C,m);var ge=s.memoizedState;R!==ne||te!==ge||zt.current||mi?(typeof fe=="function"&&(gu(s,l,fe,h),ge=s.memoizedState),(V=mi||nm(s,l,V,h,te,ge,A)||!1)?(re||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,ge,A),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,ge,A)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ge),C.props=h,C.state=ge,C.context=A,h=V):(typeof C.componentDidUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),h=!1)}return Su(i,s,l,h,g,m)}function Su(i,s,l,h,m,g){_m(i,s);var C=(s.flags&128)!==0;if(!h&&!C)return m&&Cp(s,l,!1),Yr(i,s,g);h=s.stateNode,H1.current=s;var R=C&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&C?(s.child=Ts(s,i.child,null,g),s.child=Ts(s,null,R,g)):At(i,s,R,g),s.memoizedState=h.state,m&&Cp(s,l,!0),s.child}function ym(i){var s=i.stateNode;s.pendingContext?Sp(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Sp(i,s.context,!1),su(i,s.containerInfo)}function xm(i,s,l,h,m){return Ms(),Zc(m),s.flags|=256,At(i,s,l,h),s.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function Cu(i){return{baseLanes:i,cachePool:null,transitions:null}}function Sm(i,s,l){var h=s.pendingProps,m=Ge.current,g=!1,C=(s.flags&128)!==0,R;if((R=C)||(R=i!==null&&i.memoizedState===null?!1:(m&2)!==0),R?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),$e(Ge,m&1),i===null)return Xc(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(C=h.children,i=h.fallback,g?(h=s.mode,g=s.child,C={mode:"hidden",children:C},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=C):g=Fl(C,h,0,null),i=es(i,h,l,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=Cu(l),s.memoizedState=wu,i):bu(s,C));if(m=i.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return U1(i,s,C,h,R,m,l);if(g){g=h.fallback,C=s.mode,m=i.child,R=m.sibling;var A={mode:"hidden",children:h.children};return(C&1)===0&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=A,s.deletions=null):(h=wi(m,A),h.subtreeFlags=m.subtreeFlags&14680064),R!==null?g=wi(R,g):(g=es(g,C,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,C=i.child.memoizedState,C=C===null?Cu(l):{baseLanes:C.baseLanes|l,cachePool:null,transitions:C.transitions},g.memoizedState=C,g.childLanes=i.childLanes&~l,s.memoizedState=wu,h}return g=i.child,i=g.sibling,h=wi(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function bu(i,s){return s=Fl({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Nl(i,s,l,h){return h!==null&&Zc(h),Ts(s,i.child,null,l),i=bu(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function U1(i,s,l,h,m,g,C){if(l)return s.flags&256?(s.flags&=-257,h=vu(Error(r(422))),Nl(i,s,C,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=h.fallback,m=s.mode,h=Fl({mode:"visible",children:h.children},m,0,null),g=es(g,m,C,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&Ts(s,i.child,null,C),s.child.memoizedState=Cu(C),s.memoizedState=wu,g);if((s.mode&1)===0)return Nl(i,s,C,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(r(419)),h=vu(g,h,void 0),Nl(i,s,C,h)}if(R=(C&i.childLanes)!==0,$t||R){if(h=_t,h!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|C))!==0?0:m,m!==0&&m!==g.retryLane&&(g.retryLane=m,Kr(i,m),yr(h,i,m,-1))}return Fu(),h=vu(Error(r(421))),Nl(i,s,C,h)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=iS.bind(null,i),m._reactRetry=s,null):(i=g.treeContext,Gt=hi(m.nextSibling),Yt=s,Ve=!0,mr=null,i!==null&&(ir[sr++]=Ur,ir[sr++]=Vr,ir[sr++]=Vi,Ur=i.id,Vr=i.overflow,Vi=s),s=bu(s,h.children),s.flags|=4096,s)}function wm(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),tu(i.return,s,l)}function ku(i,s,l,h,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=m)}function Cm(i,s,l){var h=s.pendingProps,m=h.revealOrder,g=h.tail;if(At(i,s,h.children,l),h=Ge.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wm(i,l,s);else if(i.tag===19)wm(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if($e(Ge,h),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&xl(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),ku(s,!1,m,l,g);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&xl(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}ku(s,!0,l,null,g);break;case"together":ku(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Rl(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Yr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Xi|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=wi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=wi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function V1(i,s,l){switch(s.tag){case 3:ym(s),Ms();break;case 5:Ip(s);break;case 1:Ft(s.type)&&ul(s);break;case 4:su(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;$e(gl,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?($e(Ge,Ge.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Sm(i,s,l):($e(Ge,Ge.current&1),i=Yr(i,s,l),i!==null?i.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return Cm(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(Ge,Ge.current),h)break;return null;case 22:case 23:return s.lanes=0,gm(i,s,l)}return Yr(i,s,l)}var bm,Eu,km,Em;bm=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Eu=function(){},km=function(i,s,l,h){var m=i.memoizedProps;if(m!==h){i=s.stateNode,Yi(Er.current);var g=null;switch(l){case"input":m=Tt(i,m),h=Tt(i,h),g=[];break;case"select":m=Q({},m,{value:void 0}),h=Q({},h,{value:void 0}),g=[];break;case"textarea":m=sc(i,m),h=sc(i,h),g=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ll)}oc(l,h);var C;l=null;for(V in m)if(!h.hasOwnProperty(V)&&m.hasOwnProperty(V)&&m[V]!=null)if(V==="style"){var R=m[V];for(C in R)R.hasOwnProperty(C)&&(l||(l={}),l[C]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(o.hasOwnProperty(V)?g||(g=[]):(g=g||[]).push(V,null));for(V in h){var A=h[V];if(R=m?.[V],h.hasOwnProperty(V)&&A!==R&&(A!=null||R!=null))if(V==="style")if(R){for(C in R)!R.hasOwnProperty(C)||A&&A.hasOwnProperty(C)||(l||(l={}),l[C]="");for(C in A)A.hasOwnProperty(C)&&R[C]!==A[C]&&(l||(l={}),l[C]=A[C])}else l||(g||(g=[]),g.push(V,l)),l=A;else V==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,R=R?R.__html:void 0,A!=null&&R!==A&&(g=g||[]).push(V,A)):V==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push(V,""+A):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(o.hasOwnProperty(V)?(A!=null&&V==="onScroll"&&We("scroll",i),g||R===A||(g=[])):(g=g||[]).push(V,A))}l&&(g=g||[]).push("style",l);var V=g;(s.updateQueue=V)&&(s.flags|=4)}},Em=function(i,s,l,h){l!==h&&(s.flags|=4)};function qn(i,s){if(!Ve)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Dt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function K1(i,s,l){var h=s.pendingProps;switch(Yc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Ft(s.type)&&cl(),Dt(s),null;case 3:return h=s.stateNode,Os(),He(zt),He(Nt),lu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(pl(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mr!==null&&(Iu(mr),mr=null))),Eu(i,s),Dt(s),null;case 5:nu(s);var m=Yi(Wn.current);if(l=s.type,i!==null&&s.stateNode!=null)km(i,s,l,h,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Dt(s),null}if(i=Yi(Er.current),pl(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[kr]=s,h[In]=g,i=(s.mode&1)!==0,l){case"dialog":We("cancel",h),We("close",h);break;case"iframe":case"object":case"embed":We("load",h);break;case"video":case"audio":for(m=0;m<An.length;m++)We(An[m],h);break;case"source":We("error",h);break;case"img":case"image":case"link":We("error",h),We("load",h);break;case"details":We("toggle",h);break;case"input":ms(h,g),We("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},We("invalid",h);break;case"textarea":cf(h,g),We("invalid",h)}oc(l,g),m=null;for(var C in g)if(g.hasOwnProperty(C)){var R=g[C];C==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&ol(h.textContent,R,i),m=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&ol(h.textContent,R,i),m=["children",""+R]):o.hasOwnProperty(C)&&R!=null&&C==="onScroll"&&We("scroll",h)}switch(l){case"input":Re(h),af(h,g,!0);break;case"textarea":Re(h),hf(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=ll)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=df(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=C.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=C.createElement(l,{is:h.is}):(i=C.createElement(l),l==="select"&&(C=i,h.multiple?C.multiple=!0:h.size&&(C.size=h.size))):i=C.createElementNS(i,l),i[kr]=s,i[In]=h,bm(i,s,!1,!1),s.stateNode=i;e:{switch(C=lc(l,h),l){case"dialog":We("cancel",i),We("close",i),m=h;break;case"iframe":case"object":case"embed":We("load",i),m=h;break;case"video":case"audio":for(m=0;m<An.length;m++)We(An[m],i);m=h;break;case"source":We("error",i),m=h;break;case"img":case"image":case"link":We("error",i),We("load",i),m=h;break;case"details":We("toggle",i),m=h;break;case"input":ms(i,h),m=Tt(i,h),We("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=Q({},h,{value:void 0}),We("invalid",i);break;case"textarea":cf(i,h),m=sc(i,h),We("invalid",i);break;default:m=h}oc(l,m),R=m;for(g in R)if(R.hasOwnProperty(g)){var A=R[g];g==="style"?mf(i,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&ff(i,A)):g==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&mn(i,A):typeof A=="number"&&mn(i,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?A!=null&&g==="onScroll"&&We("scroll",i):A!=null&&E(i,g,A,C))}switch(l){case"input":Re(i),af(i,h,!1);break;case"textarea":Re(i),hf(i);break;case"option":h.value!=null&&i.setAttribute("value",""+oe(h.value));break;case"select":i.multiple=!!h.multiple,g=h.value,g!=null?_s(i,!!h.multiple,g,!1):h.defaultValue!=null&&_s(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ll)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dt(s),null;case 6:if(i&&s.stateNode!=null)Em(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(l=Yi(Wn.current),Yi(Er.current),pl(s)){if(h=s.stateNode,l=s.memoizedProps,h[kr]=s,(g=h.nodeValue!==l)&&(i=Yt,i!==null))switch(i.tag){case 3:ol(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ol(h.nodeValue,l,(i.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[kr]=s,s.stateNode=h}return Dt(s),null;case 13:if(He(Ge),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ve&&Gt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Dp(),Ms(),s.flags|=98560,g=!1;else if(g=pl(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[kr]=s}else Ms(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),g=!1}else mr!==null&&(Iu(mr),mr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Ge.current&1)!==0?ut===0&&(ut=3):Fu())),s.updateQueue!==null&&(s.flags|=4),Dt(s),null);case 4:return Os(),Eu(i,s),i===null&&Ln(s.stateNode.containerInfo),Dt(s),null;case 10:return eu(s.type._context),Dt(s),null;case 17:return Ft(s.type)&&cl(),Dt(s),null;case 19:if(He(Ge),g=s.memoizedState,g===null)return Dt(s),null;if(h=(s.flags&128)!==0,C=g.rendering,C===null)if(h)qn(g,!1);else{if(ut!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(C=xl(i),C!==null){for(s.flags|=128,qn(g,!1),h=C.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,i=h,g.flags&=14680066,C=g.alternate,C===null?(g.childLanes=0,g.lanes=i,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=C.childLanes,g.lanes=C.lanes,g.child=C.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=C.memoizedProps,g.memoizedState=C.memoizedState,g.updateQueue=C.updateQueue,g.type=C.type,i=C.dependencies,g.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return $e(Ge,Ge.current&1|2),s.child}i=i.sibling}g.tail!==null&&rt()>Fs&&(s.flags|=128,h=!0,qn(g,!1),s.lanes=4194304)}else{if(!h)if(i=xl(C),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),qn(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!Ve)return Dt(s),null}else 2*rt()-g.renderingStartTime>Fs&&l!==1073741824&&(s.flags|=128,h=!0,qn(g,!1),s.lanes=4194304);g.isBackwards?(C.sibling=s.child,s.child=C):(l=g.last,l!==null?l.sibling=C:s.child=C,g.last=C)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=rt(),s.sibling=null,l=Ge.current,$e(Ge,h?l&1|2:l&1),s):(Dt(s),null);case 22:case 23:return zu(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Xt&1073741824)!==0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function q1(i,s){switch(Yc(s),s.tag){case 1:return Ft(s.type)&&cl(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Os(),He(zt),He(Nt),lu(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return nu(s),null;case 13:if(He(Ge),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ms()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return He(Ge),null;case 4:return Os(),null;case 10:return eu(s.type._context),null;case 22:case 23:return zu(),null;case 24:return null;default:return null}}var Dl=!1,Pt=!1,Y1=typeof WeakSet=="function"?WeakSet:Set,me=null;function Bs(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Je(i,s,h)}else l.current=null}function Nu(i,s,l){try{l()}catch(h){Je(i,s,h)}}var Nm=!1;function G1(i,s){if(zc=Go,i=np(),jc(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var C=0,R=-1,A=-1,V=0,re=0,ne=i,te=null;t:for(;;){for(var fe;ne!==l||m!==0&&ne.nodeType!==3||(R=C+m),ne!==g||h!==0&&ne.nodeType!==3||(A=C+h),ne.nodeType===3&&(C+=ne.nodeValue.length),(fe=ne.firstChild)!==null;)te=ne,ne=fe;for(;;){if(ne===i)break t;if(te===l&&++V===m&&(R=C),te===g&&++re===h&&(A=C),(fe=ne.nextSibling)!==null)break;ne=te,te=ne.parentNode}ne=fe}l=R===-1||A===-1?null:{start:R,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fc={focusedElem:i,selectionRange:l},Go=!1,me=s;me!==null;)if(s=me,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,me=i;else for(;me!==null;){s=me;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,it=ge.memoizedState,F=s.stateNode,I=F.getSnapshotBeforeUpdate(s.elementType===s.type?ye:gr(s.type,ye),it);F.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){Je(s,s.return,le)}if(i=s.sibling,i!==null){i.return=s.return,me=i;break}me=s.return}return ge=Nm,Nm=!1,ge}function Yn(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var g=m.destroy;m.destroy=void 0,g!==void 0&&Nu(s,l,g)}m=m.next}while(m!==h)}}function Pl(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Ru(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Rm(i){var s=i.alternate;s!==null&&(i.alternate=null,Rm(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[kr],delete s[In],delete s[Uc],delete s[j1],delete s[M1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Dm(i){return i.tag===5||i.tag===3||i.tag===4}function Pm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Dm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Du(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ll));else if(h!==4&&(i=i.child,i!==null))for(Du(i,s,l),i=i.sibling;i!==null;)Du(i,s,l),i=i.sibling}function Pu(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Pu(i,s,l),i=i.sibling;i!==null;)Pu(i,s,l),i=i.sibling}var bt=null,_r=!1;function _i(i,s,l){for(l=l.child;l!==null;)jm(i,s,l),l=l.sibling}function jm(i,s,l){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Ho,l)}catch{}switch(l.tag){case 5:Pt||Bs(l,s);case 6:var h=bt,m=_r;bt=null,_i(i,s,l),bt=h,_r=m,bt!==null&&(_r?(i=bt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(_r?(i=bt,l=l.stateNode,i.nodeType===8?Hc(i.parentNode,l):i.nodeType===1&&Hc(i,l),En(i)):Hc(bt,l.stateNode));break;case 4:h=bt,m=_r,bt=l.stateNode.containerInfo,_r=!0,_i(i,s,l),bt=h,_r=m;break;case 0:case 11:case 14:case 15:if(!Pt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var g=m,C=g.destroy;g=g.tag,C!==void 0&&((g&2)!==0||(g&4)!==0)&&Nu(l,s,C),m=m.next}while(m!==h)}_i(i,s,l);break;case 1:if(!Pt&&(Bs(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){Je(l,s,R)}_i(i,s,l);break;case 21:_i(i,s,l);break;case 22:l.mode&1?(Pt=(h=Pt)||l.memoizedState!==null,_i(i,s,l),Pt=h):_i(i,s,l);break;default:_i(i,s,l)}}function Mm(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new Y1),s.forEach(function(h){var m=sS.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function vr(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var g=i,C=s,R=C;e:for(;R!==null;){switch(R.tag){case 5:bt=R.stateNode,_r=!1;break e;case 3:bt=R.stateNode.containerInfo,_r=!0;break e;case 4:bt=R.stateNode.containerInfo,_r=!0;break e}R=R.return}if(bt===null)throw Error(r(160));jm(g,C,m),bt=null,_r=!1;var A=m.alternate;A!==null&&(A.return=null),m.return=null}catch(V){Je(m,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Tm(s,i),s=s.sibling}function Tm(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(vr(s,i),Rr(i),h&4){try{Yn(3,i,i.return),Pl(3,i)}catch(ye){Je(i,i.return,ye)}try{Yn(5,i,i.return)}catch(ye){Je(i,i.return,ye)}}break;case 1:vr(s,i),Rr(i),h&512&&l!==null&&Bs(l,l.return);break;case 5:if(vr(s,i),Rr(i),h&512&&l!==null&&Bs(l,l.return),i.flags&32){var m=i.stateNode;try{mn(m,"")}catch(ye){Je(i,i.return,ye)}}if(h&4&&(m=i.stateNode,m!=null)){var g=i.memoizedProps,C=l!==null?l.memoizedProps:g,R=i.type,A=i.updateQueue;if(i.updateQueue=null,A!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&gs(m,g),lc(R,C);var V=lc(R,g);for(C=0;C<A.length;C+=2){var re=A[C],ne=A[C+1];re==="style"?mf(m,ne):re==="dangerouslySetInnerHTML"?ff(m,ne):re==="children"?mn(m,ne):E(m,re,ne,V)}switch(R){case"input":$i(m,g);break;case"textarea":uf(m,g);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!g.multiple;var fe=g.value;fe!=null?_s(m,!!g.multiple,fe,!1):te!==!!g.multiple&&(g.defaultValue!=null?_s(m,!!g.multiple,g.defaultValue,!0):_s(m,!!g.multiple,g.multiple?[]:"",!1))}m[In]=g}catch(ye){Je(i,i.return,ye)}}break;case 6:if(vr(s,i),Rr(i),h&4){if(i.stateNode===null)throw Error(r(162));m=i.stateNode,g=i.memoizedProps;try{m.nodeValue=g}catch(ye){Je(i,i.return,ye)}}break;case 3:if(vr(s,i),Rr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{En(s.containerInfo)}catch(ye){Je(i,i.return,ye)}break;case 4:vr(s,i),Rr(i);break;case 13:vr(s,i),Rr(i),m=i.child,m.flags&8192&&(g=m.memoizedState!==null,m.stateNode.isHidden=g,!g||m.alternate!==null&&m.alternate.memoizedState!==null||(Tu=rt())),h&4&&Mm(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(Pt=(V=Pt)||re,vr(s,i),Pt=V):vr(s,i),Rr(i),h&8192){if(V=i.memoizedState!==null,(i.stateNode.isHidden=V)&&!re&&(i.mode&1)!==0)for(me=i,re=i.child;re!==null;){for(ne=me=re;me!==null;){switch(te=me,fe=te.child,te.tag){case 0:case 11:case 14:case 15:Yn(4,te,te.return);break;case 1:Bs(te,te.return);var ge=te.stateNode;if(typeof ge.componentWillUnmount=="function"){h=te,l=te.return;try{s=h,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ye){Je(h,l,ye)}}break;case 5:Bs(te,te.return);break;case 22:if(te.memoizedState!==null){Om(ne);continue}}fe!==null?(fe.return=te,me=fe):Om(ne)}re=re.sibling}e:for(re=null,ne=i;;){if(ne.tag===5){if(re===null){re=ne;try{m=ne.stateNode,V?(g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ne.stateNode,A=ne.memoizedProps.style,C=A!=null&&A.hasOwnProperty("display")?A.display:null,R.style.display=pf("display",C))}catch(ye){Je(i,i.return,ye)}}}else if(ne.tag===6){if(re===null)try{ne.stateNode.nodeValue=V?"":ne.memoizedProps}catch(ye){Je(i,i.return,ye)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;re===ne&&(re=null),ne=ne.return}re===ne&&(re=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:vr(s,i),Rr(i),h&4&&Mm(i);break;case 21:break;default:vr(s,i),Rr(i)}}function Rr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Dm(l)){var h=l;break e}l=l.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(mn(m,""),h.flags&=-33);var g=Pm(i);Pu(i,g,m);break;case 3:case 4:var C=h.stateNode.containerInfo,R=Pm(i);Du(i,R,C);break;default:throw Error(r(161))}}catch(A){Je(i,i.return,A)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function X1(i,s,l){me=i,Am(i)}function Am(i,s,l){for(var h=(i.mode&1)!==0;me!==null;){var m=me,g=m.child;if(m.tag===22&&h){var C=m.memoizedState!==null||Dl;if(!C){var R=m.alternate,A=R!==null&&R.memoizedState!==null||Pt;R=Dl;var V=Pt;if(Dl=C,(Pt=A)&&!V)for(me=m;me!==null;)C=me,A=C.child,C.tag===22&&C.memoizedState!==null?Im(m):A!==null?(A.return=C,me=A):Im(m);for(;g!==null;)me=g,Am(g),g=g.sibling;me=m,Dl=R,Pt=V}Lm(i)}else(m.subtreeFlags&8772)!==0&&g!==null?(g.return=m,me=g):Lm(i)}}function Lm(i){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Pt||Pl(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Pt)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:gr(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Op(s,g,h);break;case 3:var C=s.updateQueue;if(C!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Op(s,C,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var A=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var re=V.memoizedState;if(re!==null){var ne=re.dehydrated;ne!==null&&En(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Pt||s.flags&512&&Ru(s)}catch(te){Je(s,s.return,te)}}if(s===i){me=null;break}if(l=s.sibling,l!==null){l.return=s.return,me=l;break}me=s.return}}function Om(i){for(;me!==null;){var s=me;if(s===i){me=null;break}var l=s.sibling;if(l!==null){l.return=s.return,me=l;break}me=s.return}}function Im(i){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Pl(4,s)}catch(A){Je(s,l,A)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(A){Je(s,m,A)}}var g=s.return;try{Ru(s)}catch(A){Je(s,g,A)}break;case 5:var C=s.return;try{Ru(s)}catch(A){Je(s,C,A)}}}catch(A){Je(s,s.return,A)}if(s===i){me=null;break}var R=s.sibling;if(R!==null){R.return=s.return,me=R;break}me=s.return}}var Z1=Math.ceil,jl=M.ReactCurrentDispatcher,ju=M.ReactCurrentOwner,lr=M.ReactCurrentBatchConfig,Ie=0,_t=null,ot=null,kt=0,Xt=0,zs=di(0),ut=0,Gn=null,Xi=0,Ml=0,Mu=0,Xn=null,Wt=null,Tu=0,Fs=1/0,Gr=null,Tl=!1,Au=null,vi=null,Al=!1,yi=null,Ll=0,Zn=0,Lu=null,Ol=-1,Il=0;function Lt(){return(Ie&6)!==0?rt():Ol!==-1?Ol:Ol=rt()}function xi(i){return(i.mode&1)===0?1:(Ie&2)!==0&&kt!==0?kt&-kt:A1.transition!==null?(Il===0&&(Il=Pf()),Il):(i=ze,i!==0||(i=window.event,i=i===void 0?16:zf(i.type)),i)}function yr(i,s,l,h){if(50<Zn)throw Zn=0,Lu=null,Error(r(185));Sn(i,l,h),((Ie&2)===0||i!==_t)&&(i===_t&&((Ie&2)===0&&(Ml|=l),ut===4&&Si(i,kt)),Ht(i,h),l===1&&Ie===0&&(s.mode&1)===0&&(Fs=rt()+500,hl&&pi()))}function Ht(i,s){var l=i.callbackNode;Ax(i,s);var h=Ko(i,i===_t?kt:0);if(h===0)l!==null&&Nf(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&Nf(l),s===1)i.tag===0?T1(zm.bind(null,i)):bp(zm.bind(null,i)),D1(function(){(Ie&6)===0&&pi()}),l=null;else{switch(jf(h)){case 1:l=pc;break;case 4:l=Rf;break;case 16:l=Wo;break;case 536870912:l=Df;break;default:l=Wo}l=qm(l,Bm.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Bm(i,s){if(Ol=-1,Il=0,(Ie&6)!==0)throw Error(r(327));var l=i.callbackNode;if($s()&&i.callbackNode!==l)return null;var h=Ko(i,i===_t?kt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=Bl(i,h);else{s=h;var m=Ie;Ie|=2;var g=$m();(_t!==i||kt!==s)&&(Gr=null,Fs=rt()+500,Qi(i,s));do try{eS();break}catch(R){Fm(i,R)}while(!0);Jc(),jl.current=g,Ie=m,ot!==null?s=0:(_t=null,kt=0,s=ut)}if(s!==0){if(s===2&&(m=mc(i),m!==0&&(h=m,s=Ou(i,m))),s===1)throw l=Gn,Qi(i,0),Si(i,h),Ht(i,rt()),l;if(s===6)Si(i,h);else{if(m=i.current.alternate,(h&30)===0&&!Q1(m)&&(s=Bl(i,h),s===2&&(g=mc(i),g!==0&&(h=g,s=Ou(i,g))),s===1))throw l=Gn,Qi(i,0),Si(i,h),Ht(i,rt()),l;switch(i.finishedWork=m,i.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:Ji(i,Wt,Gr);break;case 3:if(Si(i,h),(h&130023424)===h&&(s=Tu+500-rt(),10<s)){if(Ko(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Lt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Wc(Ji.bind(null,i,Wt,Gr),s);break}Ji(i,Wt,Gr);break;case 4:if(Si(i,h),(h&4194240)===h)break;for(s=i.eventTimes,m=-1;0<h;){var C=31-fr(h);g=1<<C,C=s[C],C>m&&(m=C),h&=~g}if(h=m,h=rt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Z1(h/1960))-h,10<h){i.timeoutHandle=Wc(Ji.bind(null,i,Wt,Gr),h);break}Ji(i,Wt,Gr);break;case 5:Ji(i,Wt,Gr);break;default:throw Error(r(329))}}}return Ht(i,rt()),i.callbackNode===l?Bm.bind(null,i):null}function Ou(i,s){var l=Xn;return i.current.memoizedState.isDehydrated&&(Qi(i,s).flags|=256),i=Bl(i,s),i!==2&&(s=Wt,Wt=l,s!==null&&Iu(s)),i}function Iu(i){Wt===null?Wt=i:Wt.push.apply(Wt,i)}function Q1(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],g=m.getSnapshot;m=m.value;try{if(!pr(g(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(i,s){for(s&=~Mu,s&=~Ml,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-fr(s),h=1<<l;i[l]=-1,s&=~h}}function zm(i){if((Ie&6)!==0)throw Error(r(327));$s();var s=Ko(i,0);if((s&1)===0)return Ht(i,rt()),null;var l=Bl(i,s);if(i.tag!==0&&l===2){var h=mc(i);h!==0&&(s=h,l=Ou(i,h))}if(l===1)throw l=Gn,Qi(i,0),Si(i,s),Ht(i,rt()),l;if(l===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ji(i,Wt,Gr),Ht(i,rt()),null}function Bu(i,s){var l=Ie;Ie|=1;try{return i(s)}finally{Ie=l,Ie===0&&(Fs=rt()+500,hl&&pi())}}function Zi(i){yi!==null&&yi.tag===0&&(Ie&6)===0&&$s();var s=Ie;Ie|=1;var l=lr.transition,h=ze;try{if(lr.transition=null,ze=1,i)return i()}finally{ze=h,lr.transition=l,Ie=s,(Ie&6)===0&&pi()}}function zu(){Xt=zs.current,He(zs)}function Qi(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,R1(l)),ot!==null)for(l=ot.return;l!==null;){var h=l;switch(Yc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cl();break;case 3:Os(),He(zt),He(Nt),lu();break;case 5:nu(h);break;case 4:Os();break;case 13:He(Ge);break;case 19:He(Ge);break;case 10:eu(h.type._context);break;case 22:case 23:zu()}l=l.return}if(_t=i,ot=i=wi(i.current,null),kt=Xt=s,ut=0,Gn=null,Mu=Ml=Xi=0,Wt=Xn=null,qi!==null){for(s=0;s<qi.length;s++)if(l=qi[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,g=l.pending;if(g!==null){var C=g.next;g.next=m,h.next=C}l.pending=h}qi=null}return i}function Fm(i,s){do{var l=ot;try{if(Jc(),Sl.current=kl,wl){for(var h=Xe.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}wl=!1}if(Gi=0,gt=ct=Xe=null,Hn=!1,Un=0,ju.current=null,l===null||l.return===null){ut=1,Gn=s,ot=null;break}e:{var g=i,C=l.return,R=l,A=s;if(s=kt,R.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=A,re=R,ne=re.tag;if((re.mode&1)===0&&(ne===0||ne===11||ne===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=hm(C);if(fe!==null){fe.flags&=-257,dm(fe,C,R,g,s),fe.mode&1&&um(g,V,s),s=fe,A=V;var ge=s.updateQueue;if(ge===null){var ye=new Set;ye.add(A),s.updateQueue=ye}else ge.add(A);break e}else{if((s&1)===0){um(g,V,s),Fu();break e}A=Error(r(426))}}else if(Ve&&R.mode&1){var it=hm(C);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),dm(it,C,R,g,s),Zc(Is(A,R));break e}}g=A=Is(A,R),ut!==4&&(ut=2),Xn===null?Xn=[g]:Xn.push(g),g=C;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var F=am(g,A,s);Lp(g,F);break e;case 1:R=A;var I=g.type,U=g.stateNode;if((g.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(vi===null||!vi.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var le=cm(g,R,s);Lp(g,le);break e}}g=g.return}while(g!==null)}Hm(l)}catch(xe){s=xe,ot===l&&l!==null&&(ot=l=l.return);continue}break}while(!0)}function $m(){var i=jl.current;return jl.current=kl,i===null?kl:i}function Fu(){(ut===0||ut===3||ut===2)&&(ut=4),_t===null||(Xi&268435455)===0&&(Ml&268435455)===0||Si(_t,kt)}function Bl(i,s){var l=Ie;Ie|=2;var h=$m();(_t!==i||kt!==s)&&(Gr=null,Qi(i,s));do try{J1();break}catch(m){Fm(i,m)}while(!0);if(Jc(),Ie=l,jl.current=h,ot!==null)throw Error(r(261));return _t=null,kt=0,ut}function J1(){for(;ot!==null;)Wm(ot)}function eS(){for(;ot!==null&&!kx();)Wm(ot)}function Wm(i){var s=Km(i.alternate,i,Xt);i.memoizedProps=i.pendingProps,s===null?Hm(i):ot=s,ju.current=null}function Hm(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=K1(l,s,Xt),l!==null){ot=l;return}}else{if(l=q1(l,s),l!==null){l.flags&=32767,ot=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{ut=6,ot=null;return}}if(s=s.sibling,s!==null){ot=s;return}ot=s=i}while(s!==null);ut===0&&(ut=5)}function Ji(i,s,l){var h=ze,m=lr.transition;try{lr.transition=null,ze=1,tS(i,s,l,h)}finally{lr.transition=m,ze=h}return null}function tS(i,s,l,h){do $s();while(yi!==null);if((Ie&6)!==0)throw Error(r(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var g=l.lanes|l.childLanes;if(Lx(i,g),i===_t&&(ot=_t=null,kt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Al||(Al=!0,qm(Wo,function(){return $s(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=lr.transition,lr.transition=null;var C=ze;ze=1;var R=Ie;Ie|=4,ju.current=null,G1(i,l),Tm(l,i),S1(Fc),Go=!!zc,Fc=zc=null,i.current=l,X1(l),Ex(),Ie=R,ze=C,lr.transition=g}else i.current=l;if(Al&&(Al=!1,yi=i,Ll=m),g=i.pendingLanes,g===0&&(vi=null),Dx(l.stateNode),Ht(i,rt()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Tl)throw Tl=!1,i=Au,Au=null,i;return(Ll&1)!==0&&i.tag!==0&&$s(),g=i.pendingLanes,(g&1)!==0?i===Lu?Zn++:(Zn=0,Lu=i):Zn=0,pi(),null}function $s(){if(yi!==null){var i=jf(Ll),s=lr.transition,l=ze;try{if(lr.transition=null,ze=16>i?16:i,yi===null)var h=!1;else{if(i=yi,yi=null,Ll=0,(Ie&6)!==0)throw Error(r(331));var m=Ie;for(Ie|=4,me=i.current;me!==null;){var g=me,C=g.child;if((me.flags&16)!==0){var R=g.deletions;if(R!==null){for(var A=0;A<R.length;A++){var V=R[A];for(me=V;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Yn(8,re,g)}var ne=re.child;if(ne!==null)ne.return=re,me=ne;else for(;me!==null;){re=me;var te=re.sibling,fe=re.return;if(Rm(re),re===V){me=null;break}if(te!==null){te.return=fe,me=te;break}me=fe}}}var ge=g.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var it=ye.sibling;ye.sibling=null,ye=it}while(ye!==null)}}me=g}}if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,me=C;else e:for(;me!==null;){if(g=me,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Yn(9,g,g.return)}var F=g.sibling;if(F!==null){F.return=g.return,me=F;break e}me=g.return}}var I=i.current;for(me=I;me!==null;){C=me;var U=C.child;if((C.subtreeFlags&2064)!==0&&U!==null)U.return=C,me=U;else e:for(C=I;me!==null;){if(R=me,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Pl(9,R)}}catch(xe){Je(R,R.return,xe)}if(R===C){me=null;break e}var le=R.sibling;if(le!==null){le.return=R.return,me=le;break e}me=R.return}}if(Ie=m,pi(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Ho,i)}catch{}h=!0}return h}finally{ze=l,lr.transition=s}}return!1}function Um(i,s,l){s=Is(l,s),s=am(i,s,1),i=gi(i,s,1),s=Lt(),i!==null&&(Sn(i,1,s),Ht(i,s))}function Je(i,s,l){if(i.tag===3)Um(i,i,l);else for(;s!==null;){if(s.tag===3){Um(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vi===null||!vi.has(h))){i=Is(l,i),i=cm(s,i,1),s=gi(s,i,1),i=Lt(),s!==null&&(Sn(s,1,i),Ht(s,i));break}}s=s.return}}function rS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=Lt(),i.pingedLanes|=i.suspendedLanes&l,_t===i&&(kt&l)===l&&(ut===4||ut===3&&(kt&130023424)===kt&&500>rt()-Tu?Qi(i,0):Mu|=l),Ht(i,s)}function Vm(i,s){s===0&&((i.mode&1)===0?s=1:(s=Vo,Vo<<=1,(Vo&130023424)===0&&(Vo=4194304)));var l=Lt();i=Kr(i,s),i!==null&&(Sn(i,s,l),Ht(i,l))}function iS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Vm(i,l)}function sS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),Vm(i,l)}var Km;Km=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||zt.current)$t=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return $t=!1,V1(i,s,l);$t=(i.flags&131072)!==0}else $t=!1,Ve&&(s.flags&1048576)!==0&&kp(s,fl,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Rl(i,s),i=s.pendingProps;var m=Ds(s,Nt.current);Ls(s,l),m=uu(null,s,h,i,m,l);var g=hu();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ft(h)?(g=!0,ul(s)):g=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,iu(s),m.updater=El,s.stateNode=m,m._reactInternals=s,_u(s,h,i,l),s=Su(null,s,h,!0,g,l)):(s.tag=0,Ve&&g&&qc(s),At(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Rl(i,s),i=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=oS(h),i=gr(h,i),m){case 0:s=xu(null,s,h,i,l);break e;case 1:s=vm(null,s,h,i,l);break e;case 11:s=fm(null,s,h,i,l);break e;case 14:s=pm(null,s,h,gr(h.type,i),l);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:gr(h,m),xu(i,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:gr(h,m),vm(i,s,h,m,l);case 3:e:{if(ym(s),i===null)throw Error(r(387));h=s.pendingProps,g=s.memoizedState,m=g.element,Ap(i,s),yl(s,h,null,l);var C=s.memoizedState;if(h=C.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){m=Is(Error(r(423)),s),s=xm(i,s,h,l,m);break e}else if(h!==m){m=Is(Error(r(424)),s),s=xm(i,s,h,l,m);break e}else for(Gt=hi(s.stateNode.containerInfo.firstChild),Yt=s,Ve=!0,mr=null,l=Mp(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ms(),h===m){s=Yr(i,s,l);break e}At(i,s,h,l)}s=s.child}return s;case 5:return Ip(s),i===null&&Xc(s),h=s.type,m=s.pendingProps,g=i!==null?i.memoizedProps:null,C=m.children,$c(h,m)?C=null:g!==null&&$c(h,g)&&(s.flags|=32),_m(i,s),At(i,s,C,l),s.child;case 6:return i===null&&Xc(s),null;case 13:return Sm(i,s,l);case 4:return su(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Ts(s,null,h,l):At(i,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:gr(h,m),fm(i,s,h,m,l);case 7:return At(i,s,s.pendingProps,l),s.child;case 8:return At(i,s,s.pendingProps.children,l),s.child;case 12:return At(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,g=s.memoizedProps,C=m.value,$e(gl,h._currentValue),h._currentValue=C,g!==null)if(pr(g.value,C)){if(g.children===m.children&&!zt.current){s=Yr(i,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){C=g.child;for(var A=R.firstContext;A!==null;){if(A.context===h){if(g.tag===1){A=qr(-1,l&-l),A.tag=2;var V=g.updateQueue;if(V!==null){V=V.shared;var re=V.pending;re===null?A.next=A:(A.next=re.next,re.next=A),V.pending=A}}g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),tu(g.return,l,s),R.lanes|=l;break}A=A.next}}else if(g.tag===10)C=g.type===s.type?null:g.child;else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,R=C.alternate,R!==null&&(R.lanes|=l),tu(C,l,s),C=g.sibling}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===s){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}At(i,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,Ls(s,l),m=nr(m),h=h(m),s.flags|=1,At(i,s,h,l),s.child;case 14:return h=s.type,m=gr(h,s.pendingProps),m=gr(h.type,m),pm(i,s,h,m,l);case 15:return mm(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:gr(h,m),Rl(i,s),s.tag=1,Ft(h)?(i=!0,ul(s)):i=!1,Ls(s,l),om(s,h,m),_u(s,h,m,l),Su(null,s,h,!0,i,l);case 19:return Cm(i,s,l);case 22:return gm(i,s,l)}throw Error(r(156,s.tag))};function qm(i,s){return Ef(i,s)}function nS(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(i,s,l,h){return new nS(i,s,l,h)}function $u(i){return i=i.prototype,!(!i||!i.isReactComponent)}function oS(i){if(typeof i=="function")return $u(i)?1:0;if(i!=null){if(i=i.$$typeof,i===K)return 11;if(i===L)return 14}return 2}function wi(i,s){var l=i.alternate;return l===null?(l=ar(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function zl(i,s,l,h,m,g){var C=2;if(h=i,typeof i=="function")$u(i)&&(C=1);else if(typeof i=="string")C=5;else e:switch(i){case B:return es(l.children,m,g,s);case z:C=8,m|=8;break;case J:return i=ar(12,l,s,m|2),i.elementType=J,i.lanes=g,i;case W:return i=ar(13,l,s,m),i.elementType=W,i.lanes=g,i;case H:return i=ar(19,l,s,m),i.elementType=H,i.lanes=g,i;case Y:return Fl(l,m,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case se:C=10;break e;case ie:C=9;break e;case K:C=11;break e;case L:C=14;break e;case $:C=16,h=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return s=ar(C,l,s,m),s.elementType=i,s.type=h,s.lanes=g,s}function es(i,s,l,h){return i=ar(7,i,h,s),i.lanes=l,i}function Fl(i,s,l,h){return i=ar(22,i,h,s),i.elementType=Y,i.lanes=l,i.stateNode={isHidden:!1},i}function Wu(i,s,l){return i=ar(6,i,null,s),i.lanes=l,i}function Hu(i,s,l){return s=ar(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function lS(i,s,l,h,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gc(0),this.expirationTimes=gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gc(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Uu(i,s,l,h,m,g,C,R,A){return i=new lS(i,s,l,R,A),s===1?(s=1,g===!0&&(s|=8)):s=0,g=ar(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},iu(g),i}function aS(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Ym(i){if(!i)return fi;i=i._reactInternals;e:{if(Wi(i)!==i||i.tag!==1)throw Error(r(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ft(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(i.tag===1){var l=i.type;if(Ft(l))return wp(i,l,s)}return s}function Gm(i,s,l,h,m,g,C,R,A){return i=Uu(l,h,!0,i,m,g,C,R,A),i.context=Ym(null),l=i.current,h=Lt(),m=xi(l),g=qr(h,m),g.callback=s??null,gi(l,g,m),i.current.lanes=m,Sn(i,m,h),Ht(i,h),i}function $l(i,s,l,h){var m=s.current,g=Lt(),C=xi(m);return l=Ym(l),s.context===null?s.context=l:s.pendingContext=l,s=qr(g,C),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=gi(m,s,C),i!==null&&(yr(i,m,C,g),vl(i,m,C)),C}function Wl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Xm(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Vu(i,s){Xm(i,s),(i=i.alternate)&&Xm(i,s)}function cS(){return null}var Zm=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ku(i){this._internalRoot=i}Hl.prototype.render=Ku.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));$l(i,s,null,null)},Hl.prototype.unmount=Ku.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Zi(function(){$l(null,i,null,null)}),s[Wr]=null}};function Hl(i){this._internalRoot=i}Hl.prototype.unstable_scheduleHydration=function(i){if(i){var s=Af();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ai.length&&s!==0&&s<ai[l].priority;l++);ai.splice(l,0,i),l===0&&If(i)}};function qu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ul(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Qm(){}function uS(i,s,l,h,m){if(m){if(typeof h=="function"){var g=h;h=function(){var V=Wl(C);g.call(V)}}var C=Gm(s,h,i,0,null,!1,!1,"",Qm);return i._reactRootContainer=C,i[Wr]=C.current,Ln(i.nodeType===8?i.parentNode:i),Zi(),C}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var R=h;h=function(){var V=Wl(A);R.call(V)}}var A=Uu(i,0,!1,null,null,!1,!1,"",Qm);return i._reactRootContainer=A,i[Wr]=A.current,Ln(i.nodeType===8?i.parentNode:i),Zi(function(){$l(s,A,l,h)}),A}function Vl(i,s,l,h,m){var g=l._reactRootContainer;if(g){var C=g;if(typeof m=="function"){var R=m;m=function(){var A=Wl(C);R.call(A)}}$l(s,C,i,m)}else C=uS(l,s,i,m,h);return Wl(C)}Mf=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=xn(s.pendingLanes);l!==0&&(_c(s,l|1),Ht(s,rt()),(Ie&6)===0&&(Fs=rt()+500,pi()))}break;case 13:Zi(function(){var h=Kr(i,1);if(h!==null){var m=Lt();yr(h,i,1,m)}}),Vu(i,1)}},vc=function(i){if(i.tag===13){var s=Kr(i,134217728);if(s!==null){var l=Lt();yr(s,i,134217728,l)}Vu(i,134217728)}},Tf=function(i){if(i.tag===13){var s=xi(i),l=Kr(i,s);if(l!==null){var h=Lt();yr(l,i,s,h)}Vu(i,s)}},Af=function(){return ze},Lf=function(i,s){var l=ze;try{return ze=i,s()}finally{ze=l}},uc=function(i,s,l){switch(s){case"input":if($i(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var m=al(h);if(!m)throw Error(r(90));Te(h),$i(h,m)}}}break;case"textarea":uf(i,l);break;case"select":s=l.value,s!=null&&_s(i,!!l.multiple,s,!1)}},yf=Bu,xf=Zi;var hS={usingClientEntryPoint:!1,Events:[Bn,Ns,al,_f,vf,Bu]},Qn={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dS={bundleType:Qn.bundleType,version:Qn.version,rendererPackageName:Qn.rendererPackageName,rendererConfig:Qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=bf(i),i===null?null:i.stateNode},findFiberByHostInstance:Qn.findFiberByHostInstance||cS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Ho=Kl.inject(dS),br=Kl}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS,Ut.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(s))throw Error(r(200));return aS(i,s,null,l)},Ut.createRoot=function(i,s){if(!qu(i))throw Error(r(299));var l=!1,h="",m=Zm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Uu(i,1,!1,null,null,l,!1,h,m),i[Wr]=s.current,Ln(i.nodeType===8?i.parentNode:i),new Ku(s)},Ut.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=bf(s),i=i===null?null:i.stateNode,i},Ut.flushSync=function(i){return Zi(i)},Ut.hydrate=function(i,s,l){if(!Ul(s))throw Error(r(200));return Vl(null,i,s,!0,l)},Ut.hydrateRoot=function(i,s,l){if(!qu(i))throw Error(r(405));var h=l!=null&&l.hydratedSources||null,m=!1,g="",C=Zm;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),s=Gm(s,null,i,1,l??null,m,!1,g,C),i[Wr]=s.current,Ln(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new Hl(s)},Ut.render=function(i,s,l){if(!Ul(s))throw Error(r(200));return Vl(null,i,s,!1,l)},Ut.unmountComponentAtNode=function(i){if(!Ul(i))throw Error(r(40));return i._reactRootContainer?(Zi(function(){Vl(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},Ut.unstable_batchedUpdates=Bu,Ut.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!Ul(l))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Vl(i,s,l,!1,h)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var og;function X_(){if(og)return Xu.exports;og=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xu.exports=xS(),Xu.exports}var lg;function SS(){if(lg)return ql;lg=1;var e=X_();return ql.createRoot=e.createRoot,ql.hydrateRoot=e.hydrateRoot,ql}var wS=SS();const CS="modulepreload",bS=function(e){return"/"+e},ag={},cg=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=u(r.map(f=>{if(f=bS(f),f in ag)return;ag[f]=!0;const y=f.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":CS,y||(w.as="script"),w.crossOrigin="",w.href=f,p&&w.setAttribute("nonce",p),document.head.appendChild(w),y)return new Promise((S,b)=>{w.addEventListener("load",S),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})};var _=Ed();const Kt=G_(_),Nd=pS({__proto__:null,default:Kt},[_]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ES=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),ug=e=>{const t=ES(e);return t.charAt(0).toUpperCase()+t.slice(1)},Z_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:u,...d},p)=>_.createElement("svg",{ref:p,...NS,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Z_("lucide",o),...d},[...u.map(([f,y])=>_.createElement(f,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=_.forwardRef(({className:n,...o},a)=>_.createElement(RS,{ref:a,iconNode:t,className:Z_(`lucide-${kS(ug(e))}`,`lucide-${e}`,n),...o}));return r.displayName=ug(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],PS=Se("activity",DS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],wa=Se("bot",jS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],Js=Se("bug",MS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AS=Se("check",TS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nn=Se("chevron-down",LS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],IS=Se("chevron-left",OS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ba=Se("chevron-right",BS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Dh=Se("chevron-up",zS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$S=Se("circle-alert",FS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HS=Se("circle-check-big",WS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ju=Se("circle-check",US);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],KS=Se("circle-stop",VS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YS=Se("circle-x",qS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],XS=Se("clock",GS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],za=Se("code-xml",ZS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Rd=Se("crosshair",QS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ew=Se("ellipsis-vertical",JS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],Q_=Se("file-code",tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],hg=Se("file-plus",rw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dg=Se("file-text",iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nw=Se("file-warning",sw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]],J_=Se("files",ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ph=Se("folder-open",lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],fg=Se("folder-plus",aw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],uw=Se("folder-tree",cw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],dw=Se("folder",hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Dd=Se("git-branch",fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],pg=Se("git-commit-horizontal",pw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]],gw=Se("git-pull-request",mw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ev=Se("info",_w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],yw=Se("keyboard",vw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Sw=Se("layout-dashboard",xw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],tv=Se("lightbulb",ww);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bw=Se("lock",Cw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ew=Se("package",kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Rw=Se("palette",Nw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Pw=Se("pause",Dw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],en=Se("play",jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],No=Se("refresh-cw",Mw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Aw=Se("save",Tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Ow=Se("scan",Lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Pd=Se("search",Iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zw=Se("send",Bw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rv=Se("settings",Fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],iv=Se("shield-alert",$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hw=Se("shield-check",Ww);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ei=Se("shield",Uw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],Kw=Se("skip-forward",Vw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yw=Se("square-pen",qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Xw=Se("star",Gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qw=Se("target",Zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],Mi=Se("terminal",Jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],sv=Se("trash-2",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],rC=Se("trending-up",tC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xs=Se("triangle-alert",iC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nC=Se("user",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],lC=Se("volume-2",oC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],cC=Se("volume-x",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jd=Se("x",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dC=Se("zap",hC);function fC({activeTab:e,onTabChange:t,isChatbotOpen:r,onChatbotToggle:n}){const o=[{id:"explorer",icon:J_,label:"Explorer"},{id:"search",icon:Pd,label:"Search"},{id:"dashboard",icon:Sw,label:"Security Dashboard"},{id:"source-control",icon:Dd,label:"Source Control"},{id:"debug",icon:Js,label:"Debug"},{id:"security",icon:ei,label:"Security Scan"},{id:"security-challenges",icon:iv,label:"Security Challenges"},{id:"exploit",icon:Rd,label:"Exploit Simulator"},{id:"extensions",icon:Ew,label:"Extensions"}];return c.jsxs("div",{className:"w-12 bg-[#1E1E1E] border-r border-[#2D2D30] flex flex-col items-center py-4 gap-2",children:[o.map(a=>{const u=a.icon;return c.jsxs("button",{onClick:()=>t(a.id),className:`w-full h-12 flex items-center justify-center transition-colors relative ${e===a.id?"text-white":"text-[#858585] hover:text-white"}`,title:a.label,children:[c.jsx(u,{size:24}),e===a.id&&c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-white"})]},a.id)}),c.jsx("div",{className:"w-8 h-px bg-[#2D2D30] my-2"}),c.jsxs("button",{onClick:n,className:`w-full h-12 flex items-center justify-center transition-colors relative ${r?"text-white":"text-[#858585] hover:text-white"}`,title:"AI Assistant",children:[c.jsx(wa,{size:24}),r&&c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-white"})]})]})}function pC(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function Ae(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}function Ro({isOpen:e,onClose:t,title:r,children:n}){const o=_.useRef(null);return _.useEffect(()=>{const a=u=>{u.key==="Escape"&&t()};if(e)return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,t]),_.useEffect(()=>{if(e&&o.current){const a=o.current.querySelector("input");a&&a.focus()}},[e]),e?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),c.jsxs("div",{ref:o,className:"relative bg-[#252526] border border-[#454545] rounded-lg shadow-2xl w-full max-w-md mx-4",onClick:a=>a.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#2D2D30]",children:[c.jsx("h2",{className:"text-[14px] font-medium text-[#CCCCCC]",children:r}),c.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-[#2A2D2E] text-[#CCCCCC] transition-colors",children:c.jsx(jd,{size:16})})]}),c.jsx("div",{className:"p-4",children:n})]})]}):null}function nv({isOpen:e,onClose:t,currentPath:r,onSuccess:n}){const[o,a]=_.useState(""),[u,d]=_.useState(""),[p,f]=_.useState(!1),y=async w=>{if(w.preventDefault(),!o.trim()){d("File name cannot be empty");return}if(o.includes("/")||o.includes("\\")){d("File name cannot contain / or \\");return}f(!0),d("");try{const S=`${r}${r.endsWith("/")||r.endsWith("\\")?"":"/"}${o}`;await Ae("create_file",{path:S}),a(""),n(),t()}catch(S){d(S||"Failed to create file")}finally{f(!1)}},v=()=>{a(""),d(""),t()};return c.jsx(Ro,{isOpen:e,onClose:v,title:"New File",children:c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"fileName",className:"block text-[13px] text-[#CCCCCC] mb-2",children:"File Name"}),c.jsx("input",{id:"fileName",type:"text",value:o,onChange:w=>a(w.target.value),placeholder:"example.txt",className:"w-full px-3 py-2 bg-[#3C3C3C] border border-[#454545] rounded text-[13px] text-[#CCCCCC] placeholder-[#858585] focus:outline-none focus:border-[#007ACC]",disabled:p}),u&&c.jsx("p",{className:"mt-2 text-[12px] text-red-400",children:u})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-[#3C3C3C] hover:bg-[#505050] text-[#CCCCCC] rounded text-[13px] transition-colors",disabled:p,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#007ACC] hover:bg-[#005A9E] text-white rounded text-[13px] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:p||!o.trim(),children:p?"Creating...":"Create"})]})]})})}function ov({isOpen:e,onClose:t,currentPath:r,onSuccess:n}){const[o,a]=_.useState(""),[u,d]=_.useState(""),[p,f]=_.useState(!1),y=async w=>{if(w.preventDefault(),!o.trim()){d("Folder name cannot be empty");return}if(o.includes("/")||o.includes("\\")){d("Folder name cannot contain / or \\");return}f(!0),d("");try{const S=`${r}${r.endsWith("/")||r.endsWith("\\")?"":"/"}${o}`;await Ae("create_directory",{path:S}),a(""),n(),t()}catch(S){d(S||"Failed to create folder")}finally{f(!1)}},v=()=>{a(""),d(""),t()};return c.jsx(Ro,{isOpen:e,onClose:v,title:"New Folder",children:c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"folderName",className:"block text-[13px] text-[#CCCCCC] mb-2",children:"Folder Name"}),c.jsx("input",{id:"folderName",type:"text",value:o,onChange:w=>a(w.target.value),placeholder:"new-folder",className:"w-full px-3 py-2 bg-[#3C3C3C] border border-[#454545] rounded text-[13px] text-[#CCCCCC] placeholder-[#858585] focus:outline-none focus:border-[#007ACC]",disabled:p}),u&&c.jsx("p",{className:"mt-2 text-[12px] text-red-400",children:u})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-[#3C3C3C] hover:bg-[#505050] text-[#CCCCCC] rounded text-[13px] transition-colors",disabled:p,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#007ACC] hover:bg-[#005A9E] text-white rounded text-[13px] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:p||!o.trim(),children:p?"Creating...":"Create"})]})]})})}function mC({isOpen:e,onClose:t,itemPath:r,itemName:n,itemType:o,onSuccess:a}){const[u,d]=_.useState(!1),[p,f]=_.useState(""),y=async()=>{d(!0),f("");try{await Ae("delete_file",{path:r}),a(),t()}catch(w){f(w||"Failed to delete")}finally{d(!1)}},v=()=>{f(""),t()};return c.jsx(Ro,{isOpen:e,onClose:v,title:`Delete ${o==="folder"?"Folder":"File"}`,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center",children:c.jsx(Xs,{className:"text-red-400",size:20})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:"text-[13px] text-[#CCCCCC] mb-2",children:["Are you sure you want to delete ",c.jsxs("span",{className:"font-semibold text-white",children:['"',n,'"']}),"?"]}),o==="folder"&&c.jsx("p",{className:"text-[12px] text-[#858585]",children:"This will permanently delete the folder and all its contents."}),o==="file"&&c.jsx("p",{className:"text-[12px] text-[#858585]",children:"This action cannot be undone."})]})]}),p&&c.jsx("div",{className:"px-3 py-2 bg-red-500/10 border border-red-500/30 rounded",children:c.jsx("p",{className:"text-[12px] text-red-400",children:p})}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-[#3C3C3C] hover:bg-[#505050] text-[#CCCCCC] rounded text-[13px] transition-colors",disabled:u,children:"Cancel"}),c.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded text-[13px] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Deleting...":"Delete"})]})]})})}function gC({isOpen:e,onClose:t,itemPath:r,itemName:n,itemType:o,onSuccess:a}){const[u,d]=_.useState(""),[p,f]=_.useState(""),[y,v]=_.useState(!1);_.useEffect(()=>{e&&d(n)},[e,n]);const w=async b=>{if(b.preventDefault(),!u.trim()){f("Name cannot be empty");return}if(u===n){t();return}if(u.includes("/")||u.includes("\\")){f("Name cannot contain / or \\");return}v(!0),f("");try{const x=r.split(/[/\\]/);x[x.length-1]=u;const k=x.join("/");await Ae("rename_file",{oldPath:r,newPath:k}),a(),t()}catch(x){f(x||"Failed to rename")}finally{v(!1)}},S=()=>{d(""),f(""),t()};return c.jsx(Ro,{isOpen:e,onClose:S,title:`Rename ${o==="folder"?"Folder":"File"}`,children:c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"newName",className:"block text-[13px] text-[#CCCCCC] mb-2",children:"New Name"}),c.jsx("input",{id:"newName",type:"text",value:u,onChange:b=>d(b.target.value),className:"w-full px-3 py-2 bg-[#3C3C3C] border border-[#454545] rounded text-[13px] text-[#CCCCCC] placeholder-[#858585] focus:outline-none focus:border-[#007ACC]",disabled:y}),p&&c.jsx("p",{className:"mt-2 text-[12px] text-red-400",children:p})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-[#3C3C3C] hover:bg-[#505050] text-[#CCCCCC] rounded text-[13px] transition-colors",disabled:y,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#007ACC] hover:bg-[#005A9E] text-white rounded text-[13px] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!u.trim()||u===n,children:y?"Renaming...":"Rename"})]})]})})}function _C({isOpen:e,onClose:t}){return c.jsx(Ro,{isOpen:e,onClose:t,title:"About CTR Secure IDE",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-[#2D2D30]",children:[c.jsx("div",{className:"bg-[#007ACC] p-3 rounded-lg flex items-center justify-center",children:c.jsx(ei,{size:28,className:"text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"CTR Secure IDE"}),c.jsx("p",{className:"text-sm text-[#858585]",children:"Secure coding workspace for developers"})]})]}),c.jsxs("div",{className:"space-y-3 text-sm",children:[c.jsx("p",{className:"text-[#CCCCCC]",children:"A modern, security-focused code editor and terminal that helps developers learn and practice secure coding in a local, privacy-friendly environment."}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(za,{size:16,className:"text-[#007ACC] mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"Secure Coding Workspace"}),c.jsx("p",{className:"text-[#858585]",children:"Integrated editor, terminal, and project tools designed for security-focused development."})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Mi,{size:16,className:"text-[#007ACC] mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"Safe Local Execution"}),c.jsx("p",{className:"text-[#858585]",children:"Run and test code locally while keeping source and data on your machine."})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(wa,{size:16,className:"text-[#007ACC] mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"AI Security Assistant"}),c.jsx("p",{className:"text-[#858585]",children:"Dedicated Security Review mode to help you understand vulnerabilities and safer patterns while you code."})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ei,{size:16,className:"text-[#007ACC] mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"Built-in Security Scanner & Challenges"}),c.jsx("p",{className:"text-[#858585]",children:"Static analysis on save, plus guided security challenges to practice fixing real issues like command injection and hardcoded secrets."})]})]})]})]}),c.jsxs("div",{className:"pt-4 border-t border-[#2D2D30] space-y-2",children:[c.jsx("p",{className:"text-xs text-[#858585]",children:"Built with Tauri, React, TypeScript, and Tailwind CSS"}),c.jsx("p",{className:"text-xs text-[#858585]",children:" 2024 CTR Terminal. All rights reserved."})]}),c.jsx("div",{className:"flex justify-end gap-2 pt-4",children:c.jsx("button",{onClick:t,className:"px-4 py-2 bg-[#007ACC] text-white rounded hover:bg-[#005A9E] transition-colors text-sm",children:"Close"})})]})})}function lv({node:e,level:t,onFileClick:r,selectedFile:n,onToggle:o,expandedFolders:a,onContextMenu:u}){const d=a.has(e.path),[p,f]=_.useState([]),[y,v]=_.useState(!1);_.useEffect(()=>{d&&e.type==="folder"&&p.length===0&&w()},[d]);const w=async()=>{v(!0);try{const x=await Ae("list_directory",{path:e.path});f(x)}catch(x){console.error("Failed to load directory:",x)}finally{v(!1)}},S=x=>{if(!x)return c.jsx(dg,{size:16,className:"text-[#858585]"});switch(x.toLowerCase()){case"js":case"jsx":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#F0DB4F] bg-[#2D2D30] rounded",children:"JS"});case"ts":case"tsx":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#3178C6] bg-[#2D2D30] rounded",children:"TS"});case"css":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#2196F3] bg-[#2D2D30] rounded",children:"CSS"});case"json":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#5CB85C] bg-[#2D2D30] rounded",children:"{}"});case"html":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#E44D26] bg-[#2D2D30] rounded",children:"HTML"});case"md":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-white bg-[#2D2D30] rounded",children:"MD"});case"rs":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#CE422B] bg-[#2D2D30] rounded",children:"RS"});case"py":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#3776AB] bg-[#2D2D30] rounded",children:"PY"});case"go":return c.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-[10px] text-[#00ADD8] bg-[#2D2D30] rounded",children:"GO"});default:return c.jsx(dg,{size:16,className:"text-[#858585]"})}};if(e.type==="folder")return c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>o(e.path),onContextMenu:x=>u(e,x),className:"w-full flex items-center gap-1 px-2 py-0.5 hover:bg-[#2A2D2E] text-left text-[13px] text-[#CCCCCC]",style:{paddingLeft:`${t*12+8}px`},children:[d?c.jsx(nn,{size:16,className:"text-[#CCCCCC] flex-shrink-0"}):c.jsx(Ba,{size:16,className:"text-[#CCCCCC] flex-shrink-0"}),d?c.jsx(Ph,{size:16,className:"text-[#DCAD60] flex-shrink-0"}):c.jsx(dw,{size:16,className:"text-[#DCAD60] flex-shrink-0"}),c.jsx("span",{className:"truncate",children:e.name})]}),d&&c.jsx("div",{children:y?c.jsx("div",{className:"text-[11px] text-[#858585] px-2 py-1",style:{paddingLeft:`${(t+1)*12+8}px`},children:"Loading..."}):p.map(x=>c.jsx(lv,{node:x,level:t+1,onFileClick:r,selectedFile:n,onToggle:o,expandedFolders:a,onContextMenu:u},x.path))})]});const b=n===e.path;return c.jsxs("button",{onClick:()=>r(e.path,e.name),onContextMenu:x=>u(e,x),className:`w-full flex items-center gap-2 px-2 py-0.5 text-left text-[13px] transition-colors ${b?"bg-[#37373D] text-white":"text-[#CCCCCC] hover:bg-[#2A2D2E]"}`,style:{paddingLeft:`${t*12+24}px`},children:[S(e.extension),c.jsx("span",{className:"truncate",children:e.name})]})}function vC({onFileClick:e,selectedFile:t,width:r,onWidthChange:n,workspaceFolder:o,onOpenFolder:a}){const[u,d]=_.useState(!1),[p,f]=_.useState(!1),[y,v]=_.useState(null),[w,S]=_.useState([]),[b,x]=_.useState(new Set),[k,N]=_.useState(!0),[P,E]=_.useState(null),[M,j]=_.useState(!1),[O,B]=_.useState(!1),[z,J]=_.useState(!1),[se,ie]=_.useState(!1),[K,W]=_.useState(null),[H,L]=_.useState("");_.useEffect(()=>{o?Y(o):$()},[o]),_.useEffect(()=>{const oe=()=>E(null);if(P)return document.addEventListener("click",oe),()=>document.removeEventListener("click",oe)},[P]);const $=async()=>{try{const oe=await Ae("get_home_directory");v(oe),L(oe);const de=await Ae("list_directory",{path:oe});S(de)}catch(oe){console.error("Failed to load home directory:",oe)}finally{N(!1)}},Y=async oe=>{N(!0);try{v(oe),L(oe);const de=await Ae("list_directory",{path:oe});S(de)}catch(de){console.error("Failed to load directory:",de)}finally{N(!1)}},D=oe=>{x(de=>{const we=new Set(de);return we.has(oe)?we.delete(oe):we.add(oe),we})},X=(oe,de)=>{de.preventDefault(),E({node:oe,x:de.clientX,y:de.clientY})},Q=()=>{if(P){const oe=P.node.type==="folder"?P.node.path:y||"";L(oe),j(!0),E(null)}},T=()=>{if(P){const oe=P.node.type==="folder"?P.node.path:y||"";L(oe),B(!0),E(null)}},q=()=>{P&&(W(P.node),J(!0),E(null))},ce=()=>{P&&(W(P.node),ie(!0),E(null))},Z=async()=>{if(y){N(!0);try{const oe=await Ae("list_directory",{path:y});S(oe),x(new Set)}catch(oe){console.error("Failed to refresh directory:",oe)}finally{N(!1)}}},ue=oe=>{oe.preventDefault(),f(!0)},pe=oe=>{if(p){const de=oe.clientX-48;de>=200&&de<=600&&n(de)}},ee=()=>{f(!1)};return _.useEffect(()=>{if(p)return document.addEventListener("mousemove",pe),document.addEventListener("mouseup",ee),()=>{document.removeEventListener("mousemove",pe),document.removeEventListener("mouseup",ee)}},[p]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-[#252526] border-r border-[#2D2D30] flex flex-col h-full relative",style:{width:`${r}px`},children:[c.jsxs("div",{className:"px-3 py-2 text-[11px] text-[#CCCCCC] uppercase tracking-wide flex items-center justify-between group",children:[c.jsx("span",{children:o?o.split(/[/\\]/).pop():"Explorer"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>d(!u),className:"p-1 rounded hover:bg-[#2A2D2E] opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(ew,{size:14})}),u&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),c.jsxs("div",{className:"absolute right-0 top-6 z-20 w-56 bg-[#3C3C3C] border border-[#454545] rounded shadow-lg py-1 text-[13px] normal-case",children:[c.jsxs("button",{onClick:()=>{a(),d(!1)},className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(Ph,{size:14}),c.jsx("span",{children:"Open Folder..."})]}),c.jsx("div",{className:"border-t border-[#454545] my-1"}),c.jsxs("button",{onClick:()=>{L(y||""),j(!0),d(!1)},className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(hg,{size:14}),c.jsx("span",{children:"New File..."})]}),c.jsxs("button",{onClick:()=>{L(y||""),B(!0),d(!1)},className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(fg,{size:14}),c.jsx("span",{children:"New Folder..."})]}),c.jsx("div",{className:"border-t border-[#454545] my-1"}),c.jsxs("button",{onClick:()=>{Z(),d(!1)},className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(No,{size:14}),c.jsx("span",{children:"Refresh Explorer"})]}),c.jsxs("button",{onClick:()=>{x(new Set),d(!1)},className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(uw,{size:14}),c.jsx("span",{children:"Collapse Folders in Explorer"})]})]})]})]})]}),c.jsx("div",{className:"px-3 py-1 text-[11px] text-[#858585] border-b border-[#2D2D30] truncate",children:y||"No folder open"}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:o?k?c.jsx("div",{className:"flex items-center justify-center h-32 text-[#858585] text-[12px]",children:"Loading..."}):w.length===0?c.jsx("div",{className:"flex items-center justify-center h-32 text-[#858585] text-[12px]",children:"Empty directory"}):w.map(oe=>c.jsx(lv,{node:oe,level:0,onFileClick:e,selectedFile:t,onToggle:D,expandedFolders:b,onContextMenu:X},oe.path)):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[#858585] text-[12px] p-4 text-center",children:[c.jsx(Ph,{size:48,className:"mb-4 opacity-50"}),c.jsx("p",{className:"mb-2",children:"No folder opened"}),c.jsx("button",{onClick:a,className:"mt-2 px-4 py-2 bg-[#0E639C] hover:bg-[#1177BB] text-white rounded text-[13px]",children:"Open Folder"})]})}),c.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-col-resize bg-[#2D2D30]",onMouseDown:ue})]}),P&&c.jsxs("div",{className:"fixed z-30 w-56 bg-[#3C3C3C] border border-[#454545] rounded shadow-lg py-1 text-[13px]",style:{left:P.x,top:P.y},children:[c.jsxs("button",{onClick:Q,className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(hg,{size:14}),c.jsx("span",{children:"New File..."})]}),c.jsxs("button",{onClick:T,className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(fg,{size:14}),c.jsx("span",{children:"New Folder..."})]}),c.jsx("div",{className:"border-t border-[#454545] my-1"}),c.jsxs("button",{onClick:ce,className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-[#CCCCCC]",children:[c.jsx(Yw,{size:14}),c.jsx("span",{children:"Rename..."})]}),c.jsxs("button",{onClick:q,className:"w-full flex items-center gap-3 px-3 py-1.5 hover:bg-[#2A2D2E] text-left text-red-400",children:[c.jsx(sv,{size:14}),c.jsx("span",{children:"Delete"})]})]}),c.jsx(nv,{isOpen:M,onClose:()=>j(!1),currentPath:H,onSuccess:Z}),c.jsx(ov,{isOpen:O,onClose:()=>B(!1),currentPath:H,onSuccess:Z}),K&&c.jsxs(c.Fragment,{children:[c.jsx(mC,{isOpen:z,onClose:()=>{J(!1),W(null)},itemPath:K.path,itemName:K.name,itemType:K.type,onSuccess:Z}),c.jsx(gC,{isOpen:se,onClose:()=>{ie(!1),W(null)},itemPath:K.path,itemName:K.name,itemType:K.type,onSuccess:Z})]})]})}function mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function yC(e){if(Array.isArray(e))return e}function xC(e,t,r){return(t=NC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,a,u,d=[],p=!0,f=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(p=(n=a.call(r)).done)&&(d.push(n.value),d.length!==t);p=!0);}catch(y){f=!0,o=y}finally{try{if(!p&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(f)throw o}}return d}}function wC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gg(Object(r),!0).forEach(function(n){xC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CC(e,t){if(e==null)return{};var r,n,o=bC(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function bC(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kC(e,t){return yC(e)||SC(e,t)||RC(e,t)||wC()}function EC(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NC(e){var t=EC(e,"string");return typeof t=="symbol"?t:t+""}function RC(e,t){if(e){if(typeof e=="string")return mg(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mg(e,t):void 0}}function DC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vg(Object(r),!0).forEach(function(n){DC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PC(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(o,a){return a(o)},n)}}function ho(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return t.apply(r,[].concat(o,d))}}}function Ca(e){return{}.toString.call(e).includes("Object")}function jC(e){return!Object.keys(e).length}function So(e){return typeof e=="function"}function MC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function TC(e,t){return Ca(t)||Ti("changeType"),Object.keys(t).some(function(r){return!MC(e,r)})&&Ti("changeField"),t}function AC(e){So(e)||Ti("selectorType")}function LC(e){So(e)||Ca(e)||Ti("handlerType"),Ca(e)&&Object.values(e).some(function(t){return!So(t)})&&Ti("handlersType")}function OC(e){e||Ti("initialIsRequired"),Ca(e)||Ti("initialType"),jC(e)&&Ti("initialContent")}function IC(e,t){throw new Error(e[t]||e.default)}var BC={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ti=ho(IC)(BC),Yl={changes:TC,selector:AC,handler:LC,initial:OC};function zC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yl.initial(e),Yl.handler(t);var r={current:e},n=ho(WC)(r,t),o=ho($C)(r),a=ho(Yl.changes)(e),u=ho(FC)(r);function d(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Yl.selector(f),f(r.current)}function p(f){PC(n,o,a,u)(f)}return[d,p]}function FC(e,t){return So(t)?t(e.current):t}function $C(e,t){return e.current=yg(yg({},e.current),t),t}function WC(e,t,r){return So(t)?t(e.current):Object.keys(r).forEach(function(n){var o;return(o=t[n])===null||o===void 0?void 0:o.call(t,e.current[n])}),r}var HC={create:zC},UC={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function VC(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return t.apply(r,[].concat(o,d))}}}function KC(e){return{}.toString.call(e).includes("Object")}function qC(e){return e||xg("configIsRequired"),KC(e)||xg("configType"),e.urls?(YC(),{paths:{vs:e.urls.monacoBase}}):e}function YC(){console.warn(av.deprecation)}function GC(e,t){throw new Error(e[t]||e.default)}var av={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},xg=VC(GC)(av),XC={config:qC},ZC=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(o){return r.reduceRight(function(a,u){return u(a)},o)}};function cv(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],cv(e[r],t[r]))}),_g(_g({},e),t)}var QC={type:"cancelation",msg:"operation is manually canceled"};function eh(e){var t=!1,r=new Promise(function(n,o){e.then(function(a){return t?o(QC):n(a)}),e.catch(o)});return r.cancel=function(){return t=!0},r}var JC=["monaco"],eb=HC.create({config:UC,isInitialized:!1,resolve:null,reject:null,monaco:null}),uv=kC(eb,2),Do=uv[0],Fa=uv[1];function tb(e){var t=XC.config(e),r=t.monaco,n=CC(t,JC);Fa(function(o){return{config:cv(o.config,n),monaco:r}})}function rb(){var e=Do(function(t){var r=t.monaco,n=t.isInitialized,o=t.resolve;return{monaco:r,isInitialized:n,resolve:o}});if(!e.isInitialized){if(Fa({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),eh(th);if(window.monaco&&window.monaco.editor)return hv(window.monaco),e.resolve(window.monaco),eh(th);ZC(ib,nb)(ob)}return eh(th)}function ib(e){return document.body.appendChild(e)}function sb(e){var t=document.createElement("script");return e&&(t.src=e),t}function nb(e){var t=Do(function(n){var o=n.config,a=n.reject;return{config:o,reject:a}}),r=sb("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function ob(){var e=Do(function(r){var n=r.config,o=r.resolve,a=r.reject;return{config:n,resolve:o,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m||r;hv(n),e.resolve(n)},function(r){e.reject(r)})}function hv(e){Do().monaco||Fa({monaco:e})}function lb(){return Do(function(e){var t=e.monaco;return t})}var th=new Promise(function(e,t){return Fa({resolve:e,reject:t})}),dv={config:tb,init:rb,__getMonacoInstance:lb},ab={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},rh=ab,cb={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},ub=cb;function hb({children:e}){return Kt.createElement("div",{style:ub.container},e)}var db=hb,fb=db;function pb({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:a,wrapperProps:u}){return Kt.createElement("section",{style:{...rh.wrapper,width:e,height:t},...u},!r&&Kt.createElement(fb,null,n),Kt.createElement("div",{ref:o,style:{...rh.fullWidth,...!r&&rh.hide},className:a}))}var mb=pb,fv=_.memo(mb);function gb(e){_.useEffect(e,[])}var pv=gb;function _b(e,t,r=!0){let n=_.useRef(!0);_.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var er=_b;function yo(){}function Ys(e,t,r,n){return vb(e,n)||yb(e,t,r,n)}function vb(e,t){return e.editor.getModel(mv(e,t))}function yb(e,t,r,n){return e.editor.createModel(t,r,n?mv(e,n):void 0)}function mv(e,t){return e.Uri.parse(t)}function xb({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:u,keepCurrentOriginalModel:d=!1,keepCurrentModifiedModel:p=!1,theme:f="light",loading:y="Loading...",options:v={},height:w="100%",width:S="100%",className:b,wrapperProps:x={},beforeMount:k=yo,onMount:N=yo}){let[P,E]=_.useState(!1),[M,j]=_.useState(!0),O=_.useRef(null),B=_.useRef(null),z=_.useRef(null),J=_.useRef(N),se=_.useRef(k),ie=_.useRef(!1);pv(()=>{let L=dv.init();return L.then($=>(B.current=$)&&j(!1)).catch($=>$?.type!=="cancelation"&&console.error("Monaco initialization: error:",$)),()=>O.current?H():L.cancel()}),er(()=>{if(O.current&&B.current){let L=O.current.getOriginalEditor(),$=Ys(B.current,e||"",n||r||"text",a||"");$!==L.getModel()&&L.setModel($)}},[a],P),er(()=>{if(O.current&&B.current){let L=O.current.getModifiedEditor(),$=Ys(B.current,t||"",o||r||"text",u||"");$!==L.getModel()&&L.setModel($)}},[u],P),er(()=>{let L=O.current.getModifiedEditor();L.getOption(B.current.editor.EditorOption.readOnly)?L.setValue(t||""):t!==L.getValue()&&(L.executeEdits("",[{range:L.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),L.pushUndoStop())},[t],P),er(()=>{O.current?.getModel()?.original.setValue(e||"")},[e],P),er(()=>{let{original:L,modified:$}=O.current.getModel();B.current.editor.setModelLanguage(L,n||r||"text"),B.current.editor.setModelLanguage($,o||r||"text")},[r,n,o],P),er(()=>{B.current?.editor.setTheme(f)},[f],P),er(()=>{O.current?.updateOptions(v)},[v],P);let K=_.useCallback(()=>{if(!B.current)return;se.current(B.current);let L=Ys(B.current,e||"",n||r||"text",a||""),$=Ys(B.current,t||"",o||r||"text",u||"");O.current?.setModel({original:L,modified:$})},[r,t,o,e,n,a,u]),W=_.useCallback(()=>{!ie.current&&z.current&&(O.current=B.current.editor.createDiffEditor(z.current,{automaticLayout:!0,...v}),K(),B.current?.editor.setTheme(f),E(!0),ie.current=!0)},[v,f,K]);_.useEffect(()=>{P&&J.current(O.current,B.current)},[P]),_.useEffect(()=>{!M&&!P&&W()},[M,P,W]);function H(){let L=O.current?.getModel();d||L?.original?.dispose(),p||L?.modified?.dispose(),O.current?.dispose()}return Kt.createElement(fv,{width:S,height:w,isEditorReady:P,loading:y,_ref:z,className:b,wrapperProps:x})}var Sb=xb;_.memo(Sb);function wb(e){let t=_.useRef();return _.useEffect(()=>{t.current=e},[e]),t.current}var Cb=wb,Gl=new Map;function bb({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:a,theme:u="light",line:d,loading:p="Loading...",options:f={},overrideServices:y={},saveViewState:v=!0,keepCurrentModel:w=!1,width:S="100%",height:b="100%",className:x,wrapperProps:k={},beforeMount:N=yo,onMount:P=yo,onChange:E,onValidate:M=yo}){let[j,O]=_.useState(!1),[B,z]=_.useState(!0),J=_.useRef(null),se=_.useRef(null),ie=_.useRef(null),K=_.useRef(P),W=_.useRef(N),H=_.useRef(),L=_.useRef(n),$=Cb(a),Y=_.useRef(!1),D=_.useRef(!1);pv(()=>{let T=dv.init();return T.then(q=>(J.current=q)&&z(!1)).catch(q=>q?.type!=="cancelation"&&console.error("Monaco initialization: error:",q)),()=>se.current?Q():T.cancel()}),er(()=>{let T=Ys(J.current,e||n||"",t||o||"",a||r||"");T!==se.current?.getModel()&&(v&&Gl.set($,se.current?.saveViewState()),se.current?.setModel(T),v&&se.current?.restoreViewState(Gl.get(a)))},[a],j),er(()=>{se.current?.updateOptions(f)},[f],j),er(()=>{!se.current||n===void 0||(se.current.getOption(J.current.editor.EditorOption.readOnly)?se.current.setValue(n):n!==se.current.getValue()&&(D.current=!0,se.current.executeEdits("",[{range:se.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),se.current.pushUndoStop(),D.current=!1))},[n],j),er(()=>{let T=se.current?.getModel();T&&o&&J.current?.editor.setModelLanguage(T,o)},[o],j),er(()=>{d!==void 0&&se.current?.revealLine(d)},[d],j),er(()=>{J.current?.editor.setTheme(u)},[u],j);let X=_.useCallback(()=>{if(!(!ie.current||!J.current)&&!Y.current){W.current(J.current);let T=a||r,q=Ys(J.current,n||e||"",t||o||"",T||"");se.current=J.current?.editor.create(ie.current,{model:q,automaticLayout:!0,...f},y),v&&se.current.restoreViewState(Gl.get(T)),J.current.editor.setTheme(u),d!==void 0&&se.current.revealLine(d),O(!0),Y.current=!0}},[e,t,r,n,o,a,f,y,v,u,d]);_.useEffect(()=>{j&&K.current(se.current,J.current)},[j]),_.useEffect(()=>{!B&&!j&&X()},[B,j,X]),L.current=n,_.useEffect(()=>{j&&E&&(H.current?.dispose(),H.current=se.current?.onDidChangeModelContent(T=>{D.current||E(se.current.getValue(),T)}))},[j,E]),_.useEffect(()=>{if(j){let T=J.current.editor.onDidChangeMarkers(q=>{let ce=se.current.getModel()?.uri;if(ce&&q.find(Z=>Z.path===ce.path)){let Z=J.current.editor.getModelMarkers({resource:ce});M?.(Z)}});return()=>{T?.dispose()}}return()=>{}},[j,M]);function Q(){H.current?.dispose(),w?v&&Gl.set(a,se.current.saveViewState()):se.current.getModel()?.dispose(),se.current.dispose()}return Kt.createElement(fv,{width:S,height:b,isEditorReady:j,loading:p,_ref:ie,className:x,wrapperProps:k})}var kb=bb,Eb=_.memo(kb),Nb=Eb;function Rb({openFiles:e,activeFile:t,onFileClose:r,onFileSelect:n,onSaveReady:o}){const[a,u]=_.useState(new Map),[d,p]=_.useState(new Map),[f,y]=_.useState(!1),v=_.useRef(null),w=_.useRef(null),S=e.find(O=>O.path===t),b=d.has(t||"")?d.get(t||"")||"":a.get(t||"")||"",x=t&&d.has(t);_.useEffect(()=>{e.forEach(O=>{a.has(O.path)||k(O.path)})},[e]),_.useEffect(()=>{o&&o(N)},[t,d]);const k=async O=>{try{const B=await Ae("read_file",{path:O});u(z=>new Map(z).set(O,B))}catch(B){console.error("Failed to load file:",B),u(z=>new Map(z).set(O,`// Error loading file: ${B}`))}},N=async()=>{if(!(!t||!d.has(t))){y(!0);try{await Ae("write_file",{path:t,content:d.get(t)}),u(O=>new Map(O).set(t,d.get(t))),p(O=>{const B=new Map(O);return B.delete(t),B}),await P(t)}catch(O){console.error("Failed to save file:",O),alert(`Failed to save file: ${O}`)}finally{y(!1)}}},P=async O=>{if(!(!O||!v.current||!w.current))try{const B=await Ae("scan_file_for_issues",{path:O}),z=v.current.getModel();if(!z)return;const J=w.current,se=(B.issues||[]).map(ie=>{let K=J.MarkerSeverity.Info;return ie.severity==="High"?K=J.MarkerSeverity.Error:ie.severity==="Medium"?K=J.MarkerSeverity.Warning:ie.severity==="Low"&&(K=J.MarkerSeverity.Info),{severity:K,message:ie.message,startLineNumber:ie.line,endLineNumber:ie.line,startColumn:1,endColumn:120}})||[];J.editor.setModelMarkers(z,"security-scan",se)}catch(B){console.error("Security scan on save failed",B)}},E=O=>{if(t&&O!==void 0){const B=a.get(t)||"";p(O!==B?z=>new Map(z).set(t,O):z=>{const J=new Map(z);return J.delete(t),J})}},M=(O,B)=>{v.current=O,w.current=B,O.addCommand(B.KeyMod.CtrlCmd|B.KeyCode.KeyS,()=>{N()}),O.focus()},j=O=>{const B=O.split(".").pop()?.toLowerCase();return{js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",json:"json",html:"html",css:"css",scss:"scss",py:"python",rs:"rust",go:"go",java:"java",c:"c",cpp:"cpp",h:"cpp",md:"markdown",xml:"xml",yaml:"yaml",yml:"yaml",toml:"toml",sh:"shell",bash:"shell",sql:"sql",php:"php",rb:"ruby",swift:"swift",kt:"kotlin",dart:"dart"}[B||""]||"plaintext"};return c.jsxs("div",{className:"flex-1 bg-[#1E1E1E] flex flex-col",children:[c.jsxs("div",{className:"flex bg-[#252526] border-b border-[#2D2D30] items-center",children:[c.jsx("div",{className:"flex flex-1 overflow-x-auto",children:e.map(O=>c.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 text-[13px] border-r border-[#2D2D30] cursor-pointer group flex-shrink-0 ${t===O.path?"bg-[#1E1E1E] text-white":"text-[#969696] hover:bg-[#2A2D2E]"}`,onClick:()=>n(O.path),children:[c.jsx("span",{className:"truncate max-w-[150px]",children:O.name}),d.has(O.path)&&c.jsx("span",{className:"text-white",children:""}),c.jsx("button",{onClick:B=>{B.stopPropagation(),r(O.path)},className:"opacity-0 group-hover:opacity-100 hover:bg-[#3E3E42] rounded p-0.5 transition-opacity",children:c.jsx(jd,{size:14})})]},O.path))}),x&&c.jsxs("button",{onClick:N,disabled:f,className:"flex items-center gap-2 px-4 py-2 text-[13px] text-[#CCCCCC] hover:bg-[#2A2D2E] border-l border-[#2D2D30] disabled:opacity-50",title:"Save (Ctrl+S)",children:[c.jsx(Aw,{size:14}),c.jsx("span",{children:f?"Saving...":"Save"})]})]}),S&&c.jsx("div",{className:"flex items-center gap-2 px-4 py-1.5 text-[12px] text-[#CCCCCC] bg-[#1E1E1E] border-b border-[#2D2D30]",children:c.jsx("span",{className:"text-[#858585] truncate",children:S.path})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:S?c.jsx(Nb,{height:"100%",language:j(S.name),value:b,onChange:E,onMount:M,theme:"vs-dark",options:{fontSize:13,fontFamily:"'Consolas', 'Courier New', monospace",lineHeight:19,minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,wordWrap:"off",renderWhitespace:"selection",suggestOnTriggerCharacters:!0,quickSuggestions:!0,formatOnPaste:!0,formatOnType:!0,autoIndent:"full",bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,mouseWheelZoom:!0}}):c.jsx("div",{className:"flex items-center justify-center h-full text-[#858585]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-[14px] font-medium",children:"No file selected"}),c.jsx("p",{className:"text-[11px] mt-2",children:"Select a file from the Explorer to view its contents"})]})})})]})}/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var gv=Object.defineProperty,Db=Object.getOwnPropertyDescriptor,Pb=(e,t)=>{for(var r in t)gv(e,r,{get:t[r],enumerable:!0})},tt=(e,t,r,n)=>{for(var o=n>1?void 0:n?Db(t,r):t,a=e.length-1,u;a>=0;a--)(u=e[a])&&(o=(n?u(t,r,o):u(o))||o);return n&&o&&gv(t,r,o),o},he=(e,t)=>(r,n)=>t(r,n,e),Sg="Terminal input",jh={get:()=>Sg,set:e=>Sg=e},wg="Too much output to announce, navigate to rows manually to read",Mh={get:()=>wg,set:e=>wg=e};function jb(e){return e.replace(/\r?\n/g,"\r")}function Mb(e,t){return t?"\x1B[200~"+e+"\x1B[201~":e}function Tb(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()}function Ab(e,t,r,n){if(e.stopPropagation(),e.clipboardData){let o=e.clipboardData.getData("text/plain");_v(o,t,r,n)}}function _v(e,t,r,n){e=jb(e),e=Mb(e,r.decPrivateModes.bracketedPasteMode&&n.rawOptions.ignoreBracketedPasteMode!==!0),r.triggerDataEvent(e,!0),t.value=""}function vv(e,t,r){let n=r.getBoundingClientRect(),o=e.clientX-n.left-10,a=e.clientY-n.top-10;t.style.width="20px",t.style.height="20px",t.style.left=`${o}px`,t.style.top=`${a}px`,t.style.zIndex="1000",t.focus()}function Cg(e,t,r,n,o){vv(e,t,r),o&&n.rightClickSelect(e),t.value=n.selectionText,t.select()}function Pi(e){return e>65535?(e-=65536,String.fromCharCode((e>>10)+55296)+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)}function $a(e,t=0,r=e.length){let n="";for(let o=t;o<r;++o){let a=e[o];a>65535?(a-=65536,n+=String.fromCharCode((a>>10)+55296)+String.fromCharCode(a%1024+56320)):n+=String.fromCharCode(a)}return n}var Lb=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){let r=e.length;if(!r)return 0;let n=0,o=0;if(this._interim){let a=e.charCodeAt(o++);56320<=a&&a<=57343?t[n++]=(this._interim-55296)*1024+a-56320+65536:(t[n++]=this._interim,t[n++]=a),this._interim=0}for(let a=o;a<r;++a){let u=e.charCodeAt(a);if(55296<=u&&u<=56319){if(++a>=r)return this._interim=u,n;let d=e.charCodeAt(a);56320<=d&&d<=57343?t[n++]=(u-55296)*1024+d-56320+65536:(t[n++]=u,t[n++]=d);continue}u!==65279&&(t[n++]=u)}return n}},Ob=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){let r=e.length;if(!r)return 0;let n=0,o,a,u,d,p=0,f=0;if(this.interim[0]){let w=!1,S=this.interim[0];S&=(S&224)===192?31:(S&240)===224?15:7;let b=0,x;for(;(x=this.interim[++b]&63)&&b<4;)S<<=6,S|=x;let k=(this.interim[0]&224)===192?2:(this.interim[0]&240)===224?3:4,N=k-b;for(;f<N;){if(f>=r)return 0;if(x=e[f++],(x&192)!==128){f--,w=!0;break}else this.interim[b++]=x,S<<=6,S|=x&63}w||(k===2?S<128?f--:t[n++]=S:k===3?S<2048||S>=55296&&S<=57343||S===65279||(t[n++]=S):S<65536||S>1114111||(t[n++]=S)),this.interim.fill(0)}let y=r-4,v=f;for(;v<r;){for(;v<y&&!((o=e[v])&128)&&!((a=e[v+1])&128)&&!((u=e[v+2])&128)&&!((d=e[v+3])&128);)t[n++]=o,t[n++]=a,t[n++]=u,t[n++]=d,v+=4;if(o=e[v++],o<128)t[n++]=o;else if((o&224)===192){if(v>=r)return this.interim[0]=o,n;if(a=e[v++],(a&192)!==128){v--;continue}if(p=(o&31)<<6|a&63,p<128){v--;continue}t[n++]=p}else if((o&240)===224){if(v>=r)return this.interim[0]=o,n;if(a=e[v++],(a&192)!==128){v--;continue}if(v>=r)return this.interim[0]=o,this.interim[1]=a,n;if(u=e[v++],(u&192)!==128){v--;continue}if(p=(o&15)<<12|(a&63)<<6|u&63,p<2048||p>=55296&&p<=57343||p===65279)continue;t[n++]=p}else if((o&248)===240){if(v>=r)return this.interim[0]=o,n;if(a=e[v++],(a&192)!==128){v--;continue}if(v>=r)return this.interim[0]=o,this.interim[1]=a,n;if(u=e[v++],(u&192)!==128){v--;continue}if(v>=r)return this.interim[0]=o,this.interim[1]=a,this.interim[2]=u,n;if(d=e[v++],(d&192)!==128){v--;continue}if(p=(o&7)<<18|(a&63)<<12|(u&63)<<6|d&63,p<65536||p>1114111)continue;t[n++]=p}}return n}},yv="",ji=" ",Po=class xv{constructor(){this.fg=0,this.bg=0,this.extended=new ba}static toColorRGB(t){return[t>>>16&255,t>>>8&255,t&255]}static fromColorRGB(t){return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255}clone(){let t=new xv;return t.fg=this.fg,t.bg=this.bg,t.extended=this.extended.clone(),t}isInverse(){return this.fg&67108864}isBold(){return this.fg&134217728}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:this.fg&268435456}isBlink(){return this.fg&536870912}isInvisible(){return this.fg&1073741824}isItalic(){return this.bg&67108864}isDim(){return this.bg&134217728}isStrikethrough(){return this.fg&2147483648}isProtected(){return this.bg&536870912}isOverline(){return this.bg&1073741824}getFgColorMode(){return this.fg&50331648}getBgColorMode(){return this.bg&50331648}isFgRGB(){return(this.fg&50331648)===50331648}isBgRGB(){return(this.bg&50331648)===50331648}isFgPalette(){return(this.fg&50331648)===16777216||(this.fg&50331648)===33554432}isBgPalette(){return(this.bg&50331648)===16777216||(this.bg&50331648)===33554432}isFgDefault(){return(this.fg&50331648)===0}isBgDefault(){return(this.bg&50331648)===0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(this.fg&50331648){case 16777216:case 33554432:return this.fg&255;case 50331648:return this.fg&16777215;default:return-1}}getBgColor(){switch(this.bg&50331648){case 16777216:case 33554432:return this.bg&255;case 50331648:return this.bg&16777215;default:return-1}}hasExtendedAttrs(){return this.bg&268435456}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(this.bg&268435456&&~this.extended.underlineColor)switch(this.extended.underlineColor&50331648){case 16777216:case 33554432:return this.extended.underlineColor&255;case 50331648:return this.extended.underlineColor&16777215;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return this.bg&268435456&&~this.extended.underlineColor?this.extended.underlineColor&50331648:this.getFgColorMode()}isUnderlineColorRGB(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===50331648:this.isFgRGB()}isUnderlineColorPalette(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===16777216||(this.extended.underlineColor&50331648)===33554432:this.isFgPalette()}isUnderlineColorDefault(){return this.bg&268435456&&~this.extended.underlineColor?(this.extended.underlineColor&50331648)===0:this.isFgDefault()}getUnderlineStyle(){return this.fg&268435456?this.bg&268435456?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}},ba=class Sv{constructor(t=0,r=0){this._ext=0,this._urlId=0,this._ext=t,this._urlId=r}get ext(){return this._urlId?this._ext&-469762049|this.underlineStyle<<26:this._ext}set ext(t){this._ext=t}get underlineStyle(){return this._urlId?5:(this._ext&469762048)>>26}set underlineStyle(t){this._ext&=-469762049,this._ext|=t<<26&469762048}get underlineColor(){return this._ext&67108863}set underlineColor(t){this._ext&=-67108864,this._ext|=t&67108863}get urlId(){return this._urlId}set urlId(t){this._urlId=t}get underlineVariantOffset(){let t=(this._ext&3758096384)>>29;return t<0?t^4294967288:t}set underlineVariantOffset(t){this._ext&=536870911,this._ext|=t<<29&3758096384}clone(){return new Sv(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}},dr=class wv extends Po{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new ba,this.combinedData=""}static fromCharData(t){let r=new wv;return r.setFromCharData(t),r}isCombined(){return this.content&2097152}getWidth(){return this.content>>22}getChars(){return this.content&2097152?this.combinedData:this.content&2097151?Pi(this.content&2097151):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):this.content&2097151}setFromCharData(t){this.fg=t[0],this.bg=0;let r=!1;if(t[1].length>2)r=!0;else if(t[1].length===2){let n=t[1].charCodeAt(0);if(55296<=n&&n<=56319){let o=t[1].charCodeAt(1);56320<=o&&o<=57343?this.content=(n-55296)*1024+o-56320+65536|t[2]<<22:r=!0}else r=!0}else this.content=t[1].charCodeAt(0)|t[2]<<22;r&&(this.combinedData=t[1],this.content=2097152|t[2]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},bg="di$target",Th="di$dependencies",ih=new Map;function Ib(e){return e[Th]||[]}function Ct(e){if(ih.has(e))return ih.get(e);let t=function(r,n,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Bb(t,r,o)};return t._id=e,ih.set(e,t),t}function Bb(e,t,r){t[bg]===t?t[Th].push({id:e,index:r}):(t[Th]=[{id:e,index:r}],t[bg]=t)}var It=Ct("BufferService"),Cv=Ct("CoreMouseService"),fs=Ct("CoreService"),zb=Ct("CharsetService"),Md=Ct("InstantiationService"),bv=Ct("LogService"),Bt=Ct("OptionsService"),kv=Ct("OscLinkService"),Fb=Ct("UnicodeService"),jo=Ct("DecorationService"),Ah=class{constructor(e,t,r){this._bufferService=e,this._optionsService=t,this._oscLinkService=r}provideLinks(e,t){let r=this._bufferService.buffer.lines.get(e-1);if(!r){t(void 0);return}let n=[],o=this._optionsService.rawOptions.linkHandler,a=new dr,u=r.getTrimmedLength(),d=-1,p=-1,f=!1;for(let y=0;y<u;y++)if(!(p===-1&&!r.hasContent(y))){if(r.loadCell(y,a),a.hasExtendedAttrs()&&a.extended.urlId)if(p===-1){p=y,d=a.extended.urlId;continue}else f=a.extended.urlId!==d;else p!==-1&&(f=!0);if(f||p!==-1&&y===u-1){let v=this._oscLinkService.getLinkData(d)?.uri;if(v){let w={start:{x:p+1,y:e},end:{x:y+(!f&&y===u-1?1:0),y:e}},S=!1;if(!o?.allowNonHttpProtocols)try{let b=new URL(v);["http:","https:"].includes(b.protocol)||(S=!0)}catch{S=!0}S||n.push({text:v,range:w,activate:(b,x)=>o?o.activate(b,x,w):$b(b,x),hover:(b,x)=>o?.hover?.(b,x,w),leave:(b,x)=>o?.leave?.(b,x,w)})}f=!1,a.hasExtendedAttrs()&&a.extended.urlId?(p=y,d=a.extended.urlId):(p=-1,d=-1)}}t(n)}};Ah=tt([he(0,It),he(1,Bt),he(2,kv)],Ah);function $b(e,t){if(confirm(`Do you want to navigate to ${t}?

WARNING: This link could potentially be dangerous`)){let r=window.open();if(r){try{r.opener=null}catch{}r.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}var Wa=Ct("CharSizeService"),ii=Ct("CoreBrowserService"),Td=Ct("MouseService"),si=Ct("RenderService"),Wb=Ct("SelectionService"),Ev=Ct("CharacterJoinerService"),on=Ct("ThemeService"),Nv=Ct("LinkProviderService"),Hb=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?kg.isErrorNoTelemetry(e)?new kg(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(t=>{t(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},Ub=new Hb;function fa(e){Vb(e)||Ub.onUnexpectedError(e)}var Lh="Canceled";function Vb(e){return e instanceof Kb?!0:e instanceof Error&&e.name===Lh&&e.message===Lh}var Kb=class extends Error{constructor(){super(Lh),this.name=this.message}};function qb(e){return new Error(`Illegal argument: ${e}`)}var kg=class Oh extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof Oh)return t;let r=new Oh;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},Ih=class Rv extends Error{constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,Rv.prototype)}};function Zt(e,t=0){return e[e.length-(1+t)]}var Yb;(e=>{function t(a){return a<0}e.isLessThan=t;function r(a){return a<=0}e.isLessThanOrEqual=r;function n(a){return a>0}e.isGreaterThan=n;function o(a){return a===0}e.isNeitherLessOrGreaterThan=o,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(Yb||={});function Gb(e,t){let r=this,n=!1,o;return function(){return n||(n=!0,t||(o=e.apply(r,arguments))),o}}var Dv;(e=>{function t(M){return M&&typeof M=="object"&&typeof M[Symbol.iterator]=="function"}e.is=t;let r=Object.freeze([]);function n(){return r}e.empty=n;function*o(M){yield M}e.single=o;function a(M){return t(M)?M:o(M)}e.wrap=a;function u(M){return M||r}e.from=u;function*d(M){for(let j=M.length-1;j>=0;j--)yield M[j]}e.reverse=d;function p(M){return!M||M[Symbol.iterator]().next().done===!0}e.isEmpty=p;function f(M){return M[Symbol.iterator]().next().value}e.first=f;function y(M,j){let O=0;for(let B of M)if(j(B,O++))return!0;return!1}e.some=y;function v(M,j){for(let O of M)if(j(O))return O}e.find=v;function*w(M,j){for(let O of M)j(O)&&(yield O)}e.filter=w;function*S(M,j){let O=0;for(let B of M)yield j(B,O++)}e.map=S;function*b(M,j){let O=0;for(let B of M)yield*j(B,O++)}e.flatMap=b;function*x(...M){for(let j of M)yield*j}e.concat=x;function k(M,j,O){let B=O;for(let z of M)B=j(B,z);return B}e.reduce=k;function*N(M,j,O=M.length){for(j<0&&(j+=M.length),O<0?O+=M.length:O>M.length&&(O=M.length);j<O;j++)yield M[j]}e.slice=N;function P(M,j=Number.POSITIVE_INFINITY){let O=[];if(j===0)return[O,M];let B=M[Symbol.iterator]();for(let z=0;z<j;z++){let J=B.next();if(J.done)return[O,e.empty()];O.push(J.value)}return[O,{[Symbol.iterator](){return B}}]}e.consume=P;async function E(M){let j=[];for await(let O of M)j.push(O);return Promise.resolve(j)}e.asyncToArray=E})(Dv||={});function ls(e){if(Dv.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function Xb(...e){return qe(()=>ls(e))}function qe(e){return{dispose:Gb(()=>{e()})}}var Pv=class jv{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{ls(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?jv.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),void 0)}};Pv.DISABLE_DISPOSED_WARNING=!1;var Ai=Pv,je=class{constructor(){this._store=new Ai,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};je.None=Object.freeze({dispose(){}});var tn=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}clearAndLeak(){let e=this._value;return this._value=void 0,e}},Jr=typeof window=="object"?window:globalThis,Bh=class zh{constructor(t){this.element=t,this.next=zh.Undefined,this.prev=zh.Undefined}};Bh.Undefined=new Bh(void 0);var Ze=Bh,Eg=class{constructor(){this._first=Ze.Undefined,this._last=Ze.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Ze.Undefined}clear(){let e=this._first;for(;e!==Ze.Undefined;){let t=e.next;e.prev=Ze.Undefined,e.next=Ze.Undefined,e=t}this._first=Ze.Undefined,this._last=Ze.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){let r=new Ze(e);if(this._first===Ze.Undefined)this._first=r,this._last=r;else if(t){let o=this._last;this._last=r,r.prev=o,o.next=r}else{let o=this._first;this._first=r,r.next=o,o.prev=r}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(r))}}shift(){if(this._first!==Ze.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ze.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Ze.Undefined&&e.next!==Ze.Undefined){let t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Ze.Undefined&&e.next===Ze.Undefined?(this._first=Ze.Undefined,this._last=Ze.Undefined):e.next===Ze.Undefined?(this._last=this._last.prev,this._last.next=Ze.Undefined):e.prev===Ze.Undefined&&(this._first=this._first.next,this._first.prev=Ze.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ze.Undefined;)yield e.element,e=e.next}},Zb=globalThis.performance&&typeof globalThis.performance.now=="function",Qb=class Mv{static create(t){return new Mv(t)}constructor(t){this._now=Zb&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}},Et;(e=>{e.None=()=>je.None;function t(K,W){return v(K,()=>{},0,void 0,!0,void 0,W)}e.defer=t;function r(K){return(W,H=null,L)=>{let $=!1,Y;return Y=K(D=>{if(!$)return Y?Y.dispose():$=!0,W.call(H,D)},null,L),$&&Y.dispose(),Y}}e.once=r;function n(K,W,H){return f((L,$=null,Y)=>K(D=>L.call($,W(D)),null,Y),H)}e.map=n;function o(K,W,H){return f((L,$=null,Y)=>K(D=>{W(D),L.call($,D)},null,Y),H)}e.forEach=o;function a(K,W,H){return f((L,$=null,Y)=>K(D=>W(D)&&L.call($,D),null,Y),H)}e.filter=a;function u(K){return K}e.signal=u;function d(...K){return(W,H=null,L)=>{let $=Xb(...K.map(Y=>Y(D=>W.call(H,D))));return y($,L)}}e.any=d;function p(K,W,H,L){let $=H;return n(K,Y=>($=W($,Y),$),L)}e.reduce=p;function f(K,W){let H,L={onWillAddFirstListener(){H=K($.fire,$)},onDidRemoveLastListener(){H?.dispose()}},$=new ae(L);return W?.add($),$.event}function y(K,W){return W instanceof Array?W.push(K):W&&W.add(K),K}function v(K,W,H=100,L=!1,$=!1,Y,D){let X,Q,T,q=0,ce,Z={leakWarningThreshold:Y,onWillAddFirstListener(){X=K(pe=>{q++,Q=W(Q,pe),L&&!T&&(ue.fire(Q),Q=void 0),ce=()=>{let ee=Q;Q=void 0,T=void 0,(!L||q>1)&&ue.fire(ee),q=0},typeof H=="number"?(clearTimeout(T),T=setTimeout(ce,H)):T===void 0&&(T=0,queueMicrotask(ce))})},onWillRemoveListener(){$&&q>0&&ce?.()},onDidRemoveLastListener(){ce=void 0,X.dispose()}},ue=new ae(Z);return D?.add(ue),ue.event}e.debounce=v;function w(K,W=0,H){return e.debounce(K,(L,$)=>L?(L.push($),L):[$],W,void 0,!0,void 0,H)}e.accumulate=w;function S(K,W=(L,$)=>L===$,H){let L=!0,$;return a(K,Y=>{let D=L||!W(Y,$);return L=!1,$=Y,D},H)}e.latch=S;function b(K,W,H){return[e.filter(K,W,H),e.filter(K,L=>!W(L),H)]}e.split=b;function x(K,W=!1,H=[],L){let $=H.slice(),Y=K(Q=>{$?$.push(Q):X.fire(Q)});L&&L.add(Y);let D=()=>{$?.forEach(Q=>X.fire(Q)),$=null},X=new ae({onWillAddFirstListener(){Y||(Y=K(Q=>X.fire(Q)),L&&L.add(Y))},onDidAddFirstListener(){$&&(W?setTimeout(D):D())},onDidRemoveLastListener(){Y&&Y.dispose(),Y=null}});return L&&L.add(X),X.event}e.buffer=x;function k(K,W){return(H,L,$)=>{let Y=W(new P);return K(function(D){let X=Y.evaluate(D);X!==N&&H.call(L,X)},void 0,$)}}e.chain=k;let N=Symbol("HaltChainable");class P{constructor(){this.steps=[]}map(W){return this.steps.push(W),this}forEach(W){return this.steps.push(H=>(W(H),H)),this}filter(W){return this.steps.push(H=>W(H)?H:N),this}reduce(W,H){let L=H;return this.steps.push($=>(L=W(L,$),L)),this}latch(W=(H,L)=>H===L){let H=!0,L;return this.steps.push($=>{let Y=H||!W($,L);return H=!1,L=$,Y?$:N}),this}evaluate(W){for(let H of this.steps)if(W=H(W),W===N)break;return W}}function E(K,W,H=L=>L){let L=(...X)=>D.fire(H(...X)),$=()=>K.on(W,L),Y=()=>K.removeListener(W,L),D=new ae({onWillAddFirstListener:$,onDidRemoveLastListener:Y});return D.event}e.fromNodeEventEmitter=E;function M(K,W,H=L=>L){let L=(...X)=>D.fire(H(...X)),$=()=>K.addEventListener(W,L),Y=()=>K.removeEventListener(W,L),D=new ae({onWillAddFirstListener:$,onDidRemoveLastListener:Y});return D.event}e.fromDOMEventEmitter=M;function j(K){return new Promise(W=>r(K)(W))}e.toPromise=j;function O(K){let W=new ae;return K.then(H=>{W.fire(H)},()=>{W.fire(void 0)}).finally(()=>{W.dispose()}),W.event}e.fromPromise=O;function B(K,W){return K(H=>W.fire(H))}e.forward=B;function z(K,W,H){return W(H),K(L=>W(L))}e.runAndSubscribe=z;class J{constructor(W,H){this._observable=W,this._counter=0,this._hasChanged=!1;let L={onWillAddFirstListener:()=>{W.addObserver(this)},onDidRemoveLastListener:()=>{W.removeObserver(this)}};this.emitter=new ae(L),H&&H.add(this.emitter)}beginUpdate(W){this._counter++}handlePossibleChange(W){}handleChange(W,H){this._hasChanged=!0}endUpdate(W){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function se(K,W){return new J(K,W).emitter.event}e.fromObservable=se;function ie(K){return(W,H,L)=>{let $=0,Y=!1,D={beginUpdate(){$++},endUpdate(){$--,$===0&&(K.reportChanges(),Y&&(Y=!1,W.call(H)))},handlePossibleChange(){},handleChange(){Y=!0}};K.addObserver(D),K.reportChanges();let X={dispose(){K.removeObserver(D)}};return L instanceof Ai?L.add(X):Array.isArray(L)&&L.push(X),X}}e.fromObservableLight=ie})(Et||={});var Fh=class $h{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${$h._idPool++}`,$h.all.add(this)}start(t){this._stopWatch=new Qb,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};Fh.all=new Set,Fh._idPool=0;var Jb=Fh,e2=-1,Tv=class Av{constructor(t,r,n=(Av._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=r,this.name=n,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let o=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,o+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[a,u]=this.getMostFrequentStack(),d=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${u}):`;console.warn(d),console.warn(a);let p=new i2(d,a);this._errorHandler(p)}return()=>{let a=this._stacks.get(t.value)||0;this._stacks.set(t.value,a-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,o]of this._stacks)(!t||r<o)&&(t=[n,o],r=o);return t}};Tv._idPool=1;var t2=Tv,r2=class Lv{constructor(t){this.value=t}static create(){let t=new Error;return new Lv(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},i2=class extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}},s2=class extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}},n2=0,sh=class{constructor(e){this.value=e,this.id=n2++}},o2=2,l2,ae=class{constructor(e){this._size=0,this._options=e,this._leakageMon=this._options?.leakWarningThreshold?new t2(e?.onListenerError??fa,this._options?.leakWarningThreshold??e2):void 0,this._perfMon=this._options?._profName?new Jb(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,t,r)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let u=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(u);let d=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],p=new s2(`${u}. HINT: Stack shows most frequent listener (${d[1]}-times)`,d[0]);return(this._options?.onListenerError||fa)(p),je.None}if(this._disposed)return je.None;t&&(e=e.bind(t));let n=new sh(e),o;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(n.stack=r2.create(),o=this._leakageMon.check(n.stack,this._size+1)),this._listeners?this._listeners instanceof sh?(this._deliveryQueue??=new a2,this._listeners=[this._listeners,n]):this._listeners.push(n):(this._options?.onWillAddFirstListener?.(this),this._listeners=n,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=qe(()=>{o?.(),this._removeListener(n)});return r instanceof Ai?r.add(a):Array.isArray(r)&&r.push(a),a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let t=this._listeners,r=t.indexOf(e);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[r]=void 0;let n=this._deliveryQueue.current===this;if(this._size*o2<=t.length){let o=0;for(let a=0;a<t.length;a++)t[a]?t[o++]=t[a]:n&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=o}}_deliver(e,t){if(!e)return;let r=this._options?.onListenerError||fa;if(!r){e.value(t);return}try{e.value(t)}catch(n){r(n)}}_deliverQueue(e){let t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof sh)this._deliver(this._listeners,e);else{let t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}},a2=class{constructor(){this.i=-1,this.end=0}enqueue(e,t,r){this.i=0,this.end=r,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}},Wh=class{constructor(){this.mapWindowIdToZoomLevel=new Map,this._onDidChangeZoomLevel=new ae,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this.mapWindowIdToZoomFactor=new Map,this._onDidChangeFullscreen=new ae,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event,this.mapWindowIdToFullScreen=new Map}getZoomLevel(t){return this.mapWindowIdToZoomLevel.get(this.getWindowId(t))??0}setZoomLevel(t,r){if(this.getZoomLevel(r)===t)return;let n=this.getWindowId(r);this.mapWindowIdToZoomLevel.set(n,t),this._onDidChangeZoomLevel.fire(n)}getZoomFactor(t){return this.mapWindowIdToZoomFactor.get(this.getWindowId(t))??1}setZoomFactor(t,r){this.mapWindowIdToZoomFactor.set(this.getWindowId(r),t)}setFullscreen(t,r){if(this.isFullscreen(r)===t)return;let n=this.getWindowId(r);this.mapWindowIdToFullScreen.set(n,t),this._onDidChangeFullscreen.fire(n)}isFullscreen(t){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(t))}getWindowId(t){return t.vscodeWindowId}};Wh.INSTANCE=new Wh;var Ad=Wh;function c2(e,t,r){typeof t=="string"&&(t=e.matchMedia(t)),t.addEventListener("change",r)}Ad.INSTANCE.onDidChangeZoomLevel;function u2(e){return Ad.INSTANCE.getZoomFactor(e)}Ad.INSTANCE.onDidChangeFullscreen;var ln=typeof navigator=="object"?navigator.userAgent:"",Hh=ln.indexOf("Firefox")>=0,h2=ln.indexOf("AppleWebKit")>=0,Ld=ln.indexOf("Chrome")>=0,d2=!Ld&&ln.indexOf("Safari")>=0;ln.indexOf("Electron/")>=0;ln.indexOf("Android")>=0;var nh=!1;if(typeof Jr.matchMedia=="function"){let e=Jr.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),t=Jr.matchMedia("(display-mode: fullscreen)");nh=e.matches,c2(Jr,e,({matches:r})=>{nh&&t.matches||(nh=r)})}var Gs="en",Uh=!1,Vh=!1,pa=!1,Ov=!1,Xl,ma=Gs,Ng=Gs,f2,Qr,os=globalThis,Jt;typeof os.vscode<"u"&&typeof os.vscode.process<"u"?Jt=os.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Jt=process);var p2=typeof Jt?.versions?.electron=="string",m2=p2&&Jt?.type==="renderer";if(typeof Jt=="object"){Uh=Jt.platform==="win32",Vh=Jt.platform==="darwin",pa=Jt.platform==="linux",pa&&Jt.env.SNAP&&Jt.env.SNAP_REVISION,Jt.env.CI||Jt.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Xl=Gs,ma=Gs;let e=Jt.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e);Xl=t.userLocale,Ng=t.osLocale,ma=t.resolvedLanguage||Gs,f2=t.languagePack?.translationsConfigFile}catch{}Ov=!0}else typeof navigator=="object"&&!m2?(Qr=navigator.userAgent,Uh=Qr.indexOf("Windows")>=0,Vh=Qr.indexOf("Macintosh")>=0,(Qr.indexOf("Macintosh")>=0||Qr.indexOf("iPad")>=0||Qr.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,pa=Qr.indexOf("Linux")>=0,Qr?.indexOf("Mobi")>=0,ma=globalThis._VSCODE_NLS_LANGUAGE||Gs,Xl=navigator.language.toLowerCase(),Ng=Xl):console.error("Unable to resolve platform.");var Iv=Uh,Ir=Vh,g2=pa,Rg=Ov,zr=Qr,bi=ma,_2;(e=>{function t(){return bi}e.value=t;function r(){return bi.length===2?bi==="en":bi.length>=3?bi[0]==="e"&&bi[1]==="n"&&bi[2]==="-":!1}e.isDefaultVariant=r;function n(){return bi==="en"}e.isDefault=n})(_2||={});var v2=typeof os.postMessage=="function"&&!os.importScripts;(()=>{if(v2){let e=[];os.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,o=e.length;n<o;n++){let a=e[n];if(a.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),a.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),os.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var y2=!!(zr&&zr.indexOf("Chrome")>=0);zr&&zr.indexOf("Firefox")>=0;!y2&&zr&&zr.indexOf("Safari")>=0;zr&&zr.indexOf("Edg/")>=0;zr&&zr.indexOf("Android")>=0;var Ws=typeof navigator=="object"?navigator:{};Rg||document.queryCommandSupported&&document.queryCommandSupported("copy")||Ws&&Ws.clipboard&&Ws.clipboard.writeText,Rg||Ws&&Ws.clipboard&&Ws.clipboard.readText;var Od=class{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}},oh=new Od,Dg=new Od,Pg=new Od,x2=new Array(230),Bv;(e=>{function t(d){return oh.keyCodeToStr(d)}e.toString=t;function r(d){return oh.strToKeyCode(d)}e.fromString=r;function n(d){return Dg.keyCodeToStr(d)}e.toUserSettingsUS=n;function o(d){return Pg.keyCodeToStr(d)}e.toUserSettingsGeneral=o;function a(d){return Dg.strToKeyCode(d)||Pg.strToKeyCode(d)}e.fromUserSettings=a;function u(d){if(d>=98&&d<=113)return null;switch(d){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return oh.keyCodeToStr(d)}e.toElectronAccelerator=u})(Bv||={});var S2=class zv{constructor(t,r,n,o,a){this.ctrlKey=t,this.shiftKey=r,this.altKey=n,this.metaKey=o,this.keyCode=a}equals(t){return t instanceof zv&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode}getHashCode(){let t=this.ctrlKey?"1":"0",r=this.shiftKey?"1":"0",n=this.altKey?"1":"0",o=this.metaKey?"1":"0";return`K${t}${r}${n}${o}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toKeybinding(){return new w2([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}},w2=class{constructor(e){if(e.length===0)throw qb("chords");this.chords=e}getHashCode(){let e="";for(let t=0,r=this.chords.length;t<r;t++)t!==0&&(e+=";"),e+=this.chords[t].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let t=0;t<this.chords.length;t++)if(!this.chords[t].equals(e.chords[t]))return!1;return!0}};function C2(e){if(e.charCode){let r=String.fromCharCode(e.charCode).toUpperCase();return Bv.fromString(r)}let t=e.keyCode;if(t===3)return 7;if(Hh)switch(t){case 59:return 85;case 60:if(g2)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Ir)return 57;break}else if(h2&&(Ir&&t===93||!Ir&&t===92))return 57;return x2[t]||0}var b2=Ir?256:2048,k2=512,E2=1024,N2=Ir?2048:256,jg=class{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=C2(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=b2),this.altKey&&(t|=k2),this.shiftKey&&(t|=E2),this.metaKey&&(t|=N2),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new S2(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}},Mg=new WeakMap;function R2(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,r=e.parent.location;if(t.origin!=="null"&&r.origin!=="null"&&t.origin!==r.origin)return null}catch{return null}return e.parent}var D2=class{static getSameOriginWindowChain(e){let t=Mg.get(e);if(!t){t=[],Mg.set(e,t);let r=e,n;do n=R2(r),n?t.push({window:new WeakRef(r),iframeElement:r.frameElement||null}):t.push({window:new WeakRef(r),iframeElement:null}),r=n;while(r)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let r=0,n=0,o=this.getSameOriginWindowChain(e);for(let a of o){let u=a.window.deref();if(r+=u?.scrollY??0,n+=u?.scrollX??0,u===t||!a.iframeElement)break;let d=a.iframeElement.getBoundingClientRect();r+=d.top,n+=d.left}return{top:r,left:n}}},Zl=class{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);let r=D2.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=r.left,this.posy-=r.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}},Tg=class{constructor(e,t=0,r=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=r,this.deltaX=t;let n=!1;if(Ld){let o=navigator.userAgent.match(/Chrome\/(\d+)/);n=(o?parseInt(o[1]):123)<=122}if(e){let o=e,a=e,u=e.view?.devicePixelRatio||1;if(typeof o.wheelDeltaY<"u")n?this.deltaY=o.wheelDeltaY/(120*u):this.deltaY=o.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS<"u"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(e.type==="wheel"){let d=e;d.deltaMode===d.DOM_DELTA_LINE?Hh&&!Ir?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof o.wheelDeltaX<"u")d2&&Iv?this.deltaX=-(o.wheelDeltaX/120):n?this.deltaX=o.wheelDeltaX/(120*u):this.deltaX=o.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS<"u"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){let d=e;d.deltaMode===d.DOM_DELTA_LINE?Hh&&!Ir?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(n?this.deltaY=e.wheelDelta/(120*u):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}},Fv=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),P2;(e=>{function t(r){return r===e.None||r===e.Cancelled||r instanceof j2?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Et.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Fv})})(P2||={});var j2=class{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Fv:(this._emitter||(this._emitter=new ae),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},Id=class{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new Ih("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new Ih("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}},M2=class{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,t,r=globalThis){if(this.isDisposed)throw new Ih("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();let n=r.setInterval(()=>{e()},t);this.disposable=qe(()=>{r.clearInterval(n),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}},T2;(e=>{async function t(n){let o,a=await Promise.all(n.map(u=>u.then(d=>d,d=>{o||(o=d)})));if(typeof o<"u")throw o;return a}e.settled=t;function r(n){return new Promise(async(o,a)=>{try{await n(o,a)}catch(u){a(u)}})}e.withAsyncBody=r})(T2||={});var Ag=class ur{static fromArray(t){return new ur(r=>{r.emitMany(t)})}static fromPromise(t){return new ur(async r=>{r.emitMany(await t)})}static fromPromises(t){return new ur(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new ur(async r=>{await Promise.all(t.map(async n=>{for await(let o of n)r.emitOne(o)}))})}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new ae,queueMicrotask(async()=>{let n={emitOne:o=>this.emitOne(o),emitMany:o=>this.emitMany(o),reject:o=>this.reject(o)};try{await Promise.resolve(t(n)),this.resolve()}catch(o){this.reject(o)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await Et.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>(this._onReturn?.(),{done:!0,value:void 0})}}static map(t,r){return new ur(async n=>{for await(let o of t)n.emitOne(r(o))})}map(t){return ur.map(this,t)}static filter(t,r){return new ur(async n=>{for await(let o of t)r(o)&&n.emitOne(o)})}filter(t){return ur.filter(this,t)}static coalesce(t){return ur.filter(t,r=>!!r)}coalesce(){return ur.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return ur.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};Ag.EMPTY=Ag.fromArray([]);var{getWindow:Lr,getWindowId:A2,onDidRegisterWindow:L2}=(function(){let e=new Map,t={window:Jr,disposables:new Ai};e.set(Jr.vscodeWindowId,t);let r=new ae,n=new ae,o=new ae;function a(u,d){return(typeof u=="number"?e.get(u):void 0)??(d?t:void 0)}return{onDidRegisterWindow:r.event,onWillUnregisterWindow:o.event,onDidUnregisterWindow:n.event,registerWindow(u){if(e.has(u.vscodeWindowId))return je.None;let d=new Ai,p={window:u,disposables:d.add(new Ai)};return e.set(u.vscodeWindowId,p),d.add(qe(()=>{e.delete(u.vscodeWindowId),n.fire(u)})),d.add(Ne(u,yt.BEFORE_UNLOAD,()=>{o.fire(u)})),r.fire(p),d},getWindows(){return e.values()},getWindowsCount(){return e.size},getWindowId(u){return u.vscodeWindowId},hasWindow(u){return e.has(u)},getWindowById:a,getWindow(u){let d=u;if(d?.ownerDocument?.defaultView)return d.ownerDocument.defaultView.window;let p=u;return p?.view?p.view.window:Jr},getDocument(u){return Lr(u).document}}})(),O2=class{constructor(e,t,r,n){this._node=e,this._type=t,this._handler=r,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}};function Ne(e,t,r,n){return new O2(e,t,r,n)}var Lg=function(e,t,r,n){return Ne(e,t,r,n)},Bd,I2=class extends M2{constructor(e){super(),this.defaultTarget=e&&Lr(e)}cancelAndSet(e,t,r){return super.cancelAndSet(e,t,r??this.defaultTarget)}},Og=class{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){fa(e)}}static sort(e,t){return t.priority-e.priority}};(function(){let e=new Map,t=new Map,r=new Map,n=new Map,o=a=>{r.set(a,!1);let u=e.get(a)??[];for(t.set(a,u),e.set(a,[]),n.set(a,!0);u.length>0;)u.sort(Og.sort),u.shift().execute();n.set(a,!1)};Bd=(a,u,d=0)=>{let p=A2(a),f=new Og(u,d),y=e.get(p);return y||(y=[],e.set(p,y)),y.push(f),r.get(p)||(r.set(p,!0),a.requestAnimationFrame(()=>o(p))),f}})();function B2(e){let t=e.getBoundingClientRect(),r=Lr(e);return{left:t.left+r.scrollX,top:t.top+r.scrollY,width:t.width,height:t.height}}var yt={CLICK:"click",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",BLUR:"blur",INPUT:"input"},z2=class{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingTop="",this._paddingLeft="",this._paddingBottom="",this._paddingRight="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){let t=Vt(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){let t=Vt(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){let t=Vt(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){let t=Vt(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){let t=Vt(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){let t=Vt(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){let t=Vt(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingTop(e){let t=Vt(e);this._paddingTop!==t&&(this._paddingTop=t,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){let t=Vt(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){let t=Vt(e);this._paddingBottom!==t&&(this._paddingBottom=t,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){let t=Vt(e);this._paddingRight!==t&&(this._paddingRight=t,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){let t=Vt(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){let t=Vt(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){let t=Vt(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}};function Vt(e){return typeof e=="number"?`${e}px`:e}function xo(e){return new z2(e)}var $v=class{constructor(){this._hooks=new Ai,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;let r=this._onStopCallback;this._onStopCallback=null,e&&r&&r(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,r,n,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=n,this._onStopCallback=o;let a=e;try{e.setPointerCapture(t),this._hooks.add(qe(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{a=Lr(e)}this._hooks.add(Ne(a,yt.POINTER_MOVE,u=>{if(u.buttons!==r){this.stopMonitoring(!0);return}u.preventDefault(),this._pointerMoveCallback(u)})),this._hooks.add(Ne(a,yt.POINTER_UP,u=>this.stopMonitoring(!0)))}};function F2(e,t,r){let n=null,o=null;if(typeof r.value=="function"?(n="value",o=r.value,o.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof r.get=="function"&&(n="get",o=r.get),!o)throw new Error("not supported");let a=`$memoize$${t}`;r[n]=function(...u){return this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,u)}),this[a]}}var Tr;(e=>(e.Tap="-xterm-gesturetap",e.Change="-xterm-gesturechange",e.Start="-xterm-gesturestart",e.End="-xterm-gesturesend",e.Contextmenu="-xterm-gesturecontextmenu"))(Tr||={});var fo=class jt extends je{constructor(){super(),this.dispatched=!1,this.targets=new Eg,this.ignoreTargets=new Eg,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(Et.runAndSubscribe(L2,({window:t,disposables:r})=>{r.add(Ne(t.document,"touchstart",n=>this.onTouchStart(n),{passive:!1})),r.add(Ne(t.document,"touchend",n=>this.onTouchEnd(t,n))),r.add(Ne(t.document,"touchmove",n=>this.onTouchMove(n),{passive:!1}))},{window:Jr,disposables:this._store}))}static addTarget(t){if(!jt.isTouchDevice())return je.None;jt.INSTANCE||(jt.INSTANCE=new jt);let r=jt.INSTANCE.targets.push(t);return qe(r)}static ignoreTarget(t){if(!jt.isTouchDevice())return je.None;jt.INSTANCE||(jt.INSTANCE=new jt);let r=jt.INSTANCE.ignoreTargets.push(t);return qe(r)}static isTouchDevice(){return"ontouchstart"in Jr||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(t){let r=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,o=t.targetTouches.length;n<o;n++){let a=t.targetTouches.item(n);this.activeTouches[a.identifier]={id:a.identifier,initialTarget:a.target,initialTimeStamp:r,initialPageX:a.pageX,initialPageY:a.pageY,rollingTimestamps:[r],rollingPageX:[a.pageX],rollingPageY:[a.pageY]};let u=this.newGestureEvent(Tr.Start,a.target);u.pageX=a.pageX,u.pageY=a.pageY,this.dispatchEvent(u)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}onTouchEnd(t,r){let n=Date.now(),o=Object.keys(this.activeTouches).length;for(let a=0,u=r.changedTouches.length;a<u;a++){let d=r.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(d.identifier))){console.warn("move of an UNKNOWN touch",d);continue}let p=this.activeTouches[d.identifier],f=Date.now()-p.initialTimeStamp;if(f<jt.HOLD_DELAY&&Math.abs(p.initialPageX-Zt(p.rollingPageX))<30&&Math.abs(p.initialPageY-Zt(p.rollingPageY))<30){let y=this.newGestureEvent(Tr.Tap,p.initialTarget);y.pageX=Zt(p.rollingPageX),y.pageY=Zt(p.rollingPageY),this.dispatchEvent(y)}else if(f>=jt.HOLD_DELAY&&Math.abs(p.initialPageX-Zt(p.rollingPageX))<30&&Math.abs(p.initialPageY-Zt(p.rollingPageY))<30){let y=this.newGestureEvent(Tr.Contextmenu,p.initialTarget);y.pageX=Zt(p.rollingPageX),y.pageY=Zt(p.rollingPageY),this.dispatchEvent(y)}else if(o===1){let y=Zt(p.rollingPageX),v=Zt(p.rollingPageY),w=Zt(p.rollingTimestamps)-p.rollingTimestamps[0],S=y-p.rollingPageX[0],b=v-p.rollingPageY[0],x=[...this.targets].filter(k=>p.initialTarget instanceof Node&&k.contains(p.initialTarget));this.inertia(t,x,n,Math.abs(S)/w,S>0?1:-1,y,Math.abs(b)/w,b>0?1:-1,v)}this.dispatchEvent(this.newGestureEvent(Tr.End,p.initialTarget)),delete this.activeTouches[d.identifier]}this.dispatched&&(r.preventDefault(),r.stopPropagation(),this.dispatched=!1)}newGestureEvent(t,r){let n=document.createEvent("CustomEvent");return n.initEvent(t,!1,!0),n.initialTarget=r,n.tapCount=0,n}dispatchEvent(t){if(t.type===Tr.Tap){let r=new Date().getTime(),n=0;r-this._lastSetTapCountTime>jt.CLEAR_TAP_COUNT_TIME?n=1:n=2,this._lastSetTapCountTime=r,t.tapCount=n}else(t.type===Tr.Change||t.type===Tr.Contextmenu)&&(this._lastSetTapCountTime=0);if(t.initialTarget instanceof Node){for(let n of this.ignoreTargets)if(n.contains(t.initialTarget))return;let r=[];for(let n of this.targets)if(n.contains(t.initialTarget)){let o=0,a=t.initialTarget;for(;a&&a!==n;)o++,a=a.parentElement;r.push([o,n])}r.sort((n,o)=>n[0]-o[0]);for(let[n,o]of r)o.dispatchEvent(t),this.dispatched=!0}}inertia(t,r,n,o,a,u,d,p,f){this.handle=Bd(t,()=>{let y=Date.now(),v=y-n,w=0,S=0,b=!0;o+=jt.SCROLL_FRICTION*v,d+=jt.SCROLL_FRICTION*v,o>0&&(b=!1,w=a*o*v),d>0&&(b=!1,S=p*d*v);let x=this.newGestureEvent(Tr.Change);x.translationX=w,x.translationY=S,r.forEach(k=>k.dispatchEvent(x)),b||this.inertia(t,r,y,o,a,u+w,d,p,f+S)})}onTouchMove(t){let r=Date.now();for(let n=0,o=t.changedTouches.length;n<o;n++){let a=t.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("end of an UNKNOWN touch",a);continue}let u=this.activeTouches[a.identifier],d=this.newGestureEvent(Tr.Change,u.initialTarget);d.translationX=a.pageX-Zt(u.rollingPageX),d.translationY=a.pageY-Zt(u.rollingPageY),d.pageX=a.pageX,d.pageY=a.pageY,this.dispatchEvent(d),u.rollingPageX.length>3&&(u.rollingPageX.shift(),u.rollingPageY.shift(),u.rollingTimestamps.shift()),u.rollingPageX.push(a.pageX),u.rollingPageY.push(a.pageY),u.rollingTimestamps.push(r)}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}};fo.SCROLL_FRICTION=-.005,fo.HOLD_DELAY=700,fo.CLEAR_TAP_COUNT_TIME=400,tt([F2],fo,"isTouchDevice",1);var $2=fo,zd=class extends je{onclick(e,t){this._register(Ne(e,yt.CLICK,r=>t(new Zl(Lr(e),r))))}onmousedown(e,t){this._register(Ne(e,yt.MOUSE_DOWN,r=>t(new Zl(Lr(e),r))))}onmouseover(e,t){this._register(Ne(e,yt.MOUSE_OVER,r=>t(new Zl(Lr(e),r))))}onmouseleave(e,t){this._register(Ne(e,yt.MOUSE_LEAVE,r=>t(new Zl(Lr(e),r))))}onkeydown(e,t){this._register(Ne(e,yt.KEY_DOWN,r=>t(new jg(r))))}onkeyup(e,t){this._register(Ne(e,yt.KEY_UP,r=>t(new jg(r))))}oninput(e,t){this._register(Ne(e,yt.INPUT,t))}onblur(e,t){this._register(Ne(e,yt.BLUR,t))}onfocus(e,t){this._register(Ne(e,yt.FOCUS,t))}onchange(e,t){this._register(Ne(e,yt.CHANGE,t))}ignoreGesture(e){return $2.ignoreTarget(e)}},Ig=11,W2=class extends zd{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.style.position="absolute",this.domNode.style.width=Ig+"px",this.domNode.style.height=Ig+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new $v),this._register(Lg(this.bgDomNode,yt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(Lg(this.domNode,yt.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new I2),this._pointerdownScheduleRepeatTimer=this._register(new Id)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,Lr(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}},H2=class Kh{constructor(t,r,n,o,a,u,d){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(r=r|0,n=n|0,o=o|0,a=a|0,u=u|0,d=d|0),this.rawScrollLeft=o,this.rawScrollTop=d,r<0&&(r=0),o+r>n&&(o=n-r),o<0&&(o=0),a<0&&(a=0),d+a>u&&(d=u-a),d<0&&(d=0),this.width=r,this.scrollWidth=n,this.scrollLeft=o,this.height=a,this.scrollHeight=u,this.scrollTop=d}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,r){return new Kh(this._forceIntegerValues,typeof t.width<"u"?t.width:this.width,typeof t.scrollWidth<"u"?t.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof t.height<"u"?t.height:this.height,typeof t.scrollHeight<"u"?t.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new Kh(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft<"u"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop<"u"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,r){let n=this.width!==t.width,o=this.scrollWidth!==t.scrollWidth,a=this.scrollLeft!==t.scrollLeft,u=this.height!==t.height,d=this.scrollHeight!==t.scrollHeight,p=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:r,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:o,scrollLeftChanged:a,heightChanged:u,scrollHeightChanged:d,scrollTopChanged:p}}},U2=class extends je{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ae),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new H2(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){let r=this._state.withScrollDimensions(e,t);this._setState(r,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){let t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};let r=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===r.scrollLeft&&this._smoothScrolling.to.scrollTop===r.scrollTop)return;let n;t?n=new zg(this._smoothScrolling.from,r,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,r,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{let r=this._state.withScrollPosition(e);this._smoothScrolling=zg.start(this._state,r,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;let e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){let r=this._state;r.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(r,t)))}},Bg=class{constructor(e,t,r){this.scrollLeft=e,this.scrollTop=t,this.isDone=r}};function lh(e,t){let r=t-e;return function(n){return e+r*q2(n)}}function V2(e,t,r){return function(n){return n<r?e(n/r):t((n-r)/(1-r))}}var zg=class qh{constructor(t,r,n,o){this.from=t,this.to=r,this.duration=o,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,r,n){if(Math.abs(t-r)>2.5*n){let o,a;return t<r?(o=t+.75*n,a=r-.75*n):(o=t-.75*n,a=r+.75*n),V2(lh(t,o),lh(a,r),.33)}return lh(t,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){let r=(t-this.startTime)/this.duration;if(r<1){let n=this.scrollLeft(r),o=this.scrollTop(r);return new Bg(n,o,!1)}return new Bg(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,r,n){return qh.start(t,r,n)}static start(t,r,n){n=n+10;let o=Date.now()-10;return new qh(t,r,o,n)}};function K2(e){return Math.pow(e,3)}function q2(e){return 1-K2(1-e)}var Y2=class extends je{constructor(e,t,r){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=r,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Id)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){let e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}},G2=140,Wv=class extends zd{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Y2(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new $v),this._shouldRender=!0,this.domNode=xo(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(Ne(this.domNode.domNode,yt.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){let t=this._register(new W2(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,r,n){this.slider=xo(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof r=="number"&&this.slider.setWidth(r),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(Ne(this.slider.domNode,yt.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){let t=this.domNode.domNode.getClientRects()[0].top,r=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);r<=o&&o<=n?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,r;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,r=e.offsetY;else{let o=B2(this.domNode.domNode);t=e.pageX-o.left,r=e.pageY-o.top}let n=this._pointerDownRelativePosition(t,r);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;let t=this._sliderPointerPosition(e),r=this._sliderOrthogonalPointerPosition(e),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{let a=this._sliderOrthogonalPointerPosition(o),u=Math.abs(a-r);if(Iv&&u>G2){this._setDesiredScrollPositionNow(n.getScrollPosition());return}let d=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(d))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}},Hv=class Yh{constructor(t,r,n,o,a,u){this._scrollbarSize=Math.round(r),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(t),this._visibleSize=o,this._scrollSize=a,this._scrollPosition=u,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Yh(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(t){let r=Math.round(t);return this._visibleSize!==r?(this._visibleSize=r,this._refreshComputedValues(),!0):!1}setScrollSize(t){let r=Math.round(t);return this._scrollSize!==r?(this._scrollSize=r,this._refreshComputedValues(),!0):!1}setScrollPosition(t){let r=Math.round(t);return this._scrollPosition!==r?(this._scrollPosition=r,this._refreshComputedValues(),!0):!1}setScrollbarSize(t){this._scrollbarSize=Math.round(t)}setOppositeScrollbarSize(t){this._oppositeScrollbarSize=Math.round(t)}static _computeValues(t,r,n,o,a){let u=Math.max(0,n-t),d=Math.max(0,u-2*r),p=o>0&&o>n;if(!p)return{computedAvailableSize:Math.round(u),computedIsNeeded:p,computedSliderSize:Math.round(d),computedSliderRatio:0,computedSliderPosition:0};let f=Math.round(Math.max(20,Math.floor(n*d/o))),y=(d-f)/(o-n),v=a*y;return{computedAvailableSize:Math.round(u),computedIsNeeded:p,computedSliderSize:Math.round(f),computedSliderRatio:y,computedSliderPosition:Math.round(v)}}_refreshComputedValues(){let t=Yh._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize-this._computedSliderSize/2;return Math.round(r/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(t){if(!this._computedIsNeeded)return 0;let r=t-this._arrowSize,n=this._scrollPosition;return r<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n}getDesiredScrollPositionFromDelta(t){if(!this._computedIsNeeded)return 0;let r=this._computedSliderPosition+t;return Math.round(r/this._computedSliderRatio)}},X2=class extends Wv{constructor(e,t,r){let n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new Hv(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}},Z2=class extends Wv{constructor(e,t,r){let n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:r,scrollbarState:new Hv(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows)throw new Error("horizontalHasArrows is not supported in xterm.js");this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}},Q2=500,Fg=50,J2=class{constructor(e,t,r){this.timestamp=e,this.deltaX=t,this.deltaY=r,this.score=0}},Gh=class{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let t=1,r=0,n=1,o=this._rear;do{let a=o===this._front?t:Math.pow(2,-n);if(t-=a,r+=this._memory[o].score*a,o===this._front)break;o=(this._capacity+o-1)%this._capacity,n++}while(!0);return r<=.5}acceptStandardWheelEvent(t){if(Ld){let r=Lr(t.browserEvent),n=u2(r);this.accept(Date.now(),t.deltaX*n,t.deltaY*n)}else this.accept(Date.now(),t.deltaX,t.deltaY)}accept(t,r,n){let o=null,a=new J2(t,r,n);this._front===-1&&this._rear===-1?(this._memory[0]=a,this._front=0,this._rear=0):(o=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=a),a.score=this._computeScore(a,o)}_computeScore(t,r){if(Math.abs(t.deltaX)>0&&Math.abs(t.deltaY)>0)return 1;let n=.5;if((!this._isAlmostInt(t.deltaX)||!this._isAlmostInt(t.deltaY))&&(n+=.25),r){let o=Math.abs(t.deltaX),a=Math.abs(t.deltaY),u=Math.abs(r.deltaX),d=Math.abs(r.deltaY),p=Math.max(Math.min(o,u),1),f=Math.max(Math.min(a,d),1),y=Math.max(o,u),v=Math.max(a,d);y%p===0&&v%f===0&&(n-=.5)}return Math.min(Math.max(n,0),1)}_isAlmostInt(t){return Math.abs(Math.round(t)-t)<.01}};Gh.INSTANCE=new Gh;var ek=Gh,tk=class extends zd{constructor(e,t,r){super(),this._onScroll=this._register(new ae),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ae),this.onWillScroll=this._onWillScroll.event,this._options=ik(t),this._scrollable=r,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));let n={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Z2(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new X2(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="xterm-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=xo(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=xo(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=xo(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new Id),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=ls(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Ir&&(this._options.className+=" mac"),this._domNode.className="xterm-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new Tg(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=ls(this._mouseWheelToDispose),e)){let t=r=>{this._onMouseWheel(new Tg(r))};this._mouseWheelToDispose.push(Ne(this._listenOnDomNode,yt.MOUSE_WHEEL,t,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;let t=ek.INSTANCE;t.acceptStandardWheelEvent(e);let r=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,a=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&a+o===0?a=o=0:Math.abs(o)>=Math.abs(a)?a=0:o=0),this._options.flipAxes&&([o,a]=[a,o]);let u=!Ir&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||u)&&!a&&(a=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(a=a*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);let d=this._scrollable.getFutureScrollPosition(),p={};if(o){let f=Fg*o,y=d.scrollTop-(f<0?Math.floor(f):Math.ceil(f));this._verticalScrollbar.writeScrollPosition(p,y)}if(a){let f=Fg*a,y=d.scrollLeft-(f<0?Math.floor(f):Math.ceil(f));this._horizontalScrollbar.writeScrollPosition(p,y)}p=this._scrollable.validateScrollPosition(p),(d.scrollLeft!==p.scrollLeft||d.scrollTop!==p.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(p):this._scrollable.setScrollPositionNow(p),r=!0)}let n=r;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){let e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,r=e.scrollLeft>0,n=r?" left":"",o=t?" top":"",a=r||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${a}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Q2)}},rk=class extends tk{constructor(e,t,r){super(e,t,r)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};function ik(e){let t={lazyRender:typeof e.lazyRender<"u"?e.lazyRender:!1,className:typeof e.className<"u"?e.className:"",useShadows:typeof e.useShadows<"u"?e.useShadows:!0,handleMouseWheel:typeof e.handleMouseWheel<"u"?e.handleMouseWheel:!0,flipAxes:typeof e.flipAxes<"u"?e.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof e.consumeMouseWheelIfScrollbarIsNeeded<"u"?e.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof e.alwaysConsumeMouseWheel<"u"?e.alwaysConsumeMouseWheel:!1,scrollYToX:typeof e.scrollYToX<"u"?e.scrollYToX:!1,mouseWheelScrollSensitivity:typeof e.mouseWheelScrollSensitivity<"u"?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof e.fastScrollSensitivity<"u"?e.fastScrollSensitivity:5,scrollPredominantAxis:typeof e.scrollPredominantAxis<"u"?e.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof e.mouseWheelSmoothScroll<"u"?e.mouseWheelSmoothScroll:!0,arrowSize:typeof e.arrowSize<"u"?e.arrowSize:11,listenOnDomNode:typeof e.listenOnDomNode<"u"?e.listenOnDomNode:null,horizontal:typeof e.horizontal<"u"?e.horizontal:1,horizontalScrollbarSize:typeof e.horizontalScrollbarSize<"u"?e.horizontalScrollbarSize:10,horizontalSliderSize:typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:0,horizontalHasArrows:typeof e.horizontalHasArrows<"u"?e.horizontalHasArrows:!1,vertical:typeof e.vertical<"u"?e.vertical:1,verticalScrollbarSize:typeof e.verticalScrollbarSize<"u"?e.verticalScrollbarSize:10,verticalHasArrows:typeof e.verticalHasArrows<"u"?e.verticalHasArrows:!1,verticalSliderSize:typeof e.verticalSliderSize<"u"?e.verticalSliderSize:0,scrollByPage:typeof e.scrollByPage<"u"?e.scrollByPage:!1};return t.horizontalSliderSize=typeof e.horizontalSliderSize<"u"?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=typeof e.verticalSliderSize<"u"?e.verticalSliderSize:t.verticalScrollbarSize,Ir&&(t.className+=" mac"),t}var Xh=class extends je{constructor(e,t,r,n,o,a,u,d){super(),this._bufferService=r,this._optionsService=u,this._renderService=d,this._onRequestScrollLines=this._register(new ae),this.onRequestScrollLines=this._onRequestScrollLines.event,this._isSyncing=!1,this._isHandlingScroll=!1,this._suppressOnScrollHandler=!1;let p=this._register(new U2({forceIntegerValues:!1,smoothScrollDuration:this._optionsService.rawOptions.smoothScrollDuration,scheduleAtNextAnimationFrame:f=>Bd(n.window,f)}));this._register(this._optionsService.onSpecificOptionChange("smoothScrollDuration",()=>{p.setSmoothScrollDuration(this._optionsService.rawOptions.smoothScrollDuration)})),this._scrollableElement=this._register(new rk(t,{vertical:1,horizontal:2,useShadows:!1,mouseWheelSmoothScroll:!0,...this._getChangeOptions()},p)),this._register(this._optionsService.onMultipleOptionChange(["scrollSensitivity","fastScrollSensitivity","overviewRuler"],()=>this._scrollableElement.updateOptions(this._getChangeOptions()))),this._register(o.onProtocolChange(f=>{this._scrollableElement.updateOptions({handleMouseWheel:!(f&16)})})),this._scrollableElement.setScrollDimensions({height:0,scrollHeight:0}),this._register(Et.runAndSubscribe(a.onChangeColors,()=>{this._scrollableElement.getDomNode().style.backgroundColor=a.colors.background.css})),e.appendChild(this._scrollableElement.getDomNode()),this._register(qe(()=>this._scrollableElement.getDomNode().remove())),this._styleElement=n.mainDocument.createElement("style"),t.appendChild(this._styleElement),this._register(qe(()=>this._styleElement.remove())),this._register(Et.runAndSubscribe(a.onChangeColors,()=>{this._styleElement.textContent=[".xterm .xterm-scrollable-element > .scrollbar > .slider {",`  background: ${a.colors.scrollbarSliderBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider:hover {",`  background: ${a.colors.scrollbarSliderHoverBackground.css};`,"}",".xterm .xterm-scrollable-element > .scrollbar > .slider.active {",`  background: ${a.colors.scrollbarSliderActiveBackground.css};`,"}"].join(`
`)})),this._register(this._bufferService.onResize(()=>this.queueSync())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._latestYDisp=void 0,this.queueSync()})),this._register(this._bufferService.onScroll(()=>this._sync())),this._register(this._scrollableElement.onScroll(f=>this._handleScroll(f)))}scrollLines(e){let t=this._scrollableElement.getScrollPosition();this._scrollableElement.setScrollPosition({reuseAnimation:!0,scrollTop:t.scrollTop+e*this._renderService.dimensions.css.cell.height})}scrollToLine(e,t){t&&(this._latestYDisp=e),this._scrollableElement.setScrollPosition({reuseAnimation:!t,scrollTop:e*this._renderService.dimensions.css.cell.height})}_getChangeOptions(){return{mouseWheelScrollSensitivity:this._optionsService.rawOptions.scrollSensitivity,fastScrollSensitivity:this._optionsService.rawOptions.fastScrollSensitivity,verticalScrollbarSize:this._optionsService.rawOptions.overviewRuler?.width||14}}queueSync(e){e!==void 0&&(this._latestYDisp=e),this._queuedAnimationFrame===void 0&&(this._queuedAnimationFrame=this._renderService.addRefreshCallback(()=>{this._queuedAnimationFrame=void 0,this._sync(this._latestYDisp)}))}_sync(e=this._bufferService.buffer.ydisp){!this._renderService||this._isSyncing||(this._isSyncing=!0,this._suppressOnScrollHandler=!0,this._scrollableElement.setScrollDimensions({height:this._renderService.dimensions.css.canvas.height,scrollHeight:this._renderService.dimensions.css.cell.height*this._bufferService.buffer.lines.length}),this._suppressOnScrollHandler=!1,e!==this._latestYDisp&&this._scrollableElement.setScrollPosition({scrollTop:e*this._renderService.dimensions.css.cell.height}),this._isSyncing=!1)}_handleScroll(e){if(!this._renderService||this._isHandlingScroll||this._suppressOnScrollHandler)return;this._isHandlingScroll=!0;let t=Math.round(e.scrollTop/this._renderService.dimensions.css.cell.height),r=t-this._bufferService.buffer.ydisp;r!==0&&(this._latestYDisp=t,this._onRequestScrollLines.fire(r)),this._isHandlingScroll=!1}};Xh=tt([he(2,It),he(3,ii),he(4,Cv),he(5,on),he(6,Bt),he(7,si)],Xh);var Zh=class extends je{constructor(e,t,r,n,o){super(),this._screenElement=e,this._bufferService=t,this._coreBrowserService=r,this._decorationService=n,this._renderService=o,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this._register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this._register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this._register(this._decorationService.onDecorationRemoved(a=>this._removeDecoration(a))),this._register(qe(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){let t=this._coreBrowserService.mainDocument.createElement("div");t.classList.add("xterm-decoration"),t.classList.toggle("xterm-decoration-top-layer",e?.options?.layer==="top"),t.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,t.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,t.style.top=`${(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height}px`,t.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let r=e.options.x??0;return r&&r>this._bufferService.cols&&(t.style.display="none"),this._refreshXPosition(e,t),t}_refreshStyle(e){let t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let r=this._decorationElements.get(e);r||(r=this._createElement(e),e.element=r,this._decorationElements.set(e,r),this._container.appendChild(r),e.onDispose(()=>{this._decorationElements.delete(e),r.remove()})),r.style.display=this._altBufferIsActive?"none":"block",this._altBufferIsActive||(r.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,r.style.height=`${(e.options.height||1)*this._renderService.dimensions.css.cell.height}px`,r.style.top=`${t*this._renderService.dimensions.css.cell.height}px`,r.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`),e.onRenderEmitter.fire(r)}}_refreshXPosition(e,t=e.element){if(!t)return;let r=e.options.x??0;(e.options.anchor||"left")==="right"?t.style.right=r?`${r*this._renderService.dimensions.css.cell.width}px`:"":t.style.left=r?`${r*this._renderService.dimensions.css.cell.width}px`:""}_removeDecoration(e){this._decorationElements.get(e)?.remove(),this._decorationElements.delete(e),e.dispose()}};Zh=tt([he(1,It),he(2,ii),he(3,jo),he(4,si)],Zh);var sk=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(let t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position)){this._addLineToZone(t,e.marker.line);return}}if(this._zonePoolIndex<this._zonePool.length){this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,this._zones.push(this._zonePool[this._zonePoolIndex++]);return}this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}},Dr={full:0,left:0,center:0,right:0},ki={full:0,left:0,center:0,right:0},eo={full:0,left:0,center:0,right:0},ka=class extends je{constructor(e,t,r,n,o,a,u,d){super(),this._viewportElement=e,this._screenElement=t,this._bufferService=r,this._decorationService=n,this._renderService=o,this._optionsService=a,this._themeService=u,this._coreBrowserService=d,this._colorZoneStore=new sk,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement),this._register(qe(()=>this._canvas?.remove()));let p=this._canvas.getContext("2d");if(p)this._ctx=p;else throw new Error("Ctx cannot be null");this._register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this._register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0))),this._register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this._register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this._register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})),this._register(this._renderService.onRender(()=>{(!this._containerHeight||this._containerHeight!==this._screenElement.clientHeight)&&(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this._register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._register(this._optionsService.onSpecificOptionChange("overviewRuler",()=>this._queueRefresh(!0))),this._register(this._themeService.onChangeColors(()=>this._queueRefresh())),this._queueRefresh(!0)}get _width(){return this._optionsService.options.overviewRuler?.width||0}_refreshDrawConstants(){let e=Math.floor((this._canvas.width-1)/3),t=Math.ceil((this._canvas.width-1)/3);ki.full=this._canvas.width,ki.left=e,ki.center=t,ki.right=e,this._refreshDrawHeightConstants(),eo.full=1,eo.left=1,eo.center=1+ki.left,eo.right=1+ki.left+ki.center}_refreshDrawHeightConstants(){Dr.full=Math.round(2*this._coreBrowserService.dpr);let e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowserService.dpr);Dr.left=t,Dr.center=t,Dr.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Dr.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Dr.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Dr.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*Dr.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1,this._renderRulerOutline();let e=this._colorZoneStore.zones;for(let t of e)t.position!=="full"&&this._renderColorZone(t);for(let t of e)t.position==="full"&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderRulerOutline(){this._ctx.fillStyle=this._themeService.colors.overviewRulerBorder.css,this._ctx.fillRect(0,0,1,this._canvas.height),this._optionsService.rawOptions.overviewRuler.showTopBorder&&this._ctx.fillRect(1,0,this._canvas.width-1,1),this._optionsService.rawOptions.overviewRuler.showBottomBorder&&this._ctx.fillRect(1,this._canvas.height-1,this._canvas.width-1,this._canvas.height)}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(eo[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-Dr[e.position||"full"]/2),ki[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+Dr[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};ka=tt([he(2,It),he(3,jo),he(4,si),he(5,Bt),he(6,on),he(7,ii)],ka);var G;(e=>(e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="\x07",e.BS="\b",e.HT="	",e.LF=`
`,e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="\x1B",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""))(G||={});var ga;(e=>(e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""))(ga||={});var Uv;(e=>e.ST=`${G.ESC}\\`)(Uv||={});var Qh=class{constructor(e,t,r,n,o,a){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=n,this._coreService=o,this._renderService=a,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(e.keyCode===20||e.keyCode===229||e.keyCode===16||e.keyCode===17||e.keyCode===18)return!1;this._finalizeComposition(!1)}return e.keyCode===229?(this._handleAnyTextareaChanges(),!1):!0}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){let t={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){this._isSendingComposition=!1;let r;t.start+=this._dataAlreadySent.length,this._isComposing?r=this._textarea.value.substring(t.start,this._compositionPosition.start):r=this._textarea.value.substring(t.start),r.length>0&&this._coreService.triggerDataEvent(r,!0)}},0)}else{this._isSendingComposition=!1;let t=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(t,!0)}}_handleAnyTextareaChanges(){let e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let t=this._textarea.value,r=t.replace(e,"");this._dataAlreadySent=r,t.length>e.length?this._coreService.triggerDataEvent(r,!0):t.length<e.length?this._coreService.triggerDataEvent(`${G.DEL}`,!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let t=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._renderService.dimensions.css.cell.height,n=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,o=t*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=o+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=r+"px",this._compositionView.style.lineHeight=r+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let a=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=n+"px",this._textarea.style.width=Math.max(a.width,1)+"px",this._textarea.style.height=Math.max(a.height,1)+"px",this._textarea.style.lineHeight=a.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};Qh=tt([he(2,It),he(3,Bt),he(4,fs),he(5,si)],Qh);var xt=0,St=0,wt=0,et=0,$g={css:"#00000000",rgba:0},at;(e=>{function t(o,a,u,d){return d!==void 0?`#${ts(o)}${ts(a)}${ts(u)}${ts(d)}`:`#${ts(o)}${ts(a)}${ts(u)}`}e.toCss=t;function r(o,a,u,d=255){return(o<<24|a<<16|u<<8|d)>>>0}e.toRgba=r;function n(o,a,u,d){return{css:e.toCss(o,a,u,d),rgba:e.toRgba(o,a,u,d)}}e.toColor=n})(at||={});var Ue;(e=>{function t(p,f){if(et=(f.rgba&255)/255,et===1)return{css:f.css,rgba:f.rgba};let y=f.rgba>>24&255,v=f.rgba>>16&255,w=f.rgba>>8&255,S=p.rgba>>24&255,b=p.rgba>>16&255,x=p.rgba>>8&255;xt=S+Math.round((y-S)*et),St=b+Math.round((v-b)*et),wt=x+Math.round((w-x)*et);let k=at.toCss(xt,St,wt),N=at.toRgba(xt,St,wt);return{css:k,rgba:N}}e.blend=t;function r(p){return(p.rgba&255)===255}e.isOpaque=r;function n(p,f,y){let v=_a.ensureContrastRatio(p.rgba,f.rgba,y);if(v)return at.toColor(v>>24&255,v>>16&255,v>>8&255)}e.ensureContrastRatio=n;function o(p){let f=(p.rgba|255)>>>0;return[xt,St,wt]=_a.toChannels(f),{css:at.toCss(xt,St,wt),rgba:f}}e.opaque=o;function a(p,f){return et=Math.round(f*255),[xt,St,wt]=_a.toChannels(p.rgba),{css:at.toCss(xt,St,wt,et),rgba:at.toRgba(xt,St,wt,et)}}e.opacity=a;function u(p,f){return et=p.rgba&255,a(p,et*f/255)}e.multiplyOpacity=u;function d(p){return[p.rgba>>24&255,p.rgba>>16&255,p.rgba>>8&255]}e.toColorRGB=d})(Ue||={});var Qe;(e=>{let t,r;try{let o=document.createElement("canvas");o.width=1,o.height=1;let a=o.getContext("2d",{willReadFrequently:!0});a&&(t=a,t.globalCompositeOperation="copy",r=t.createLinearGradient(0,0,1,1))}catch{}function n(o){if(o.match(/#[\da-f]{3,8}/i))switch(o.length){case 4:return xt=parseInt(o.slice(1,2).repeat(2),16),St=parseInt(o.slice(2,3).repeat(2),16),wt=parseInt(o.slice(3,4).repeat(2),16),at.toColor(xt,St,wt);case 5:return xt=parseInt(o.slice(1,2).repeat(2),16),St=parseInt(o.slice(2,3).repeat(2),16),wt=parseInt(o.slice(3,4).repeat(2),16),et=parseInt(o.slice(4,5).repeat(2),16),at.toColor(xt,St,wt,et);case 7:return{css:o,rgba:(parseInt(o.slice(1),16)<<8|255)>>>0};case 9:return{css:o,rgba:parseInt(o.slice(1),16)>>>0}}let a=o.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(a)return xt=parseInt(a[1]),St=parseInt(a[2]),wt=parseInt(a[3]),et=Math.round((a[5]===void 0?1:parseFloat(a[5]))*255),at.toColor(xt,St,wt,et);if(!t||!r)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=r,t.fillStyle=o,typeof t.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[xt,St,wt,et]=t.getImageData(0,0,1,1).data,et!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:at.toRgba(xt,St,wt,et),css:o}}e.toColor=n})(Qe||={});var Ot;(e=>{function t(n){return r(n>>16&255,n>>8&255,n&255)}e.relativeLuminance=t;function r(n,o,a){let u=n/255,d=o/255,p=a/255,f=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4),y=d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4),v=p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4);return f*.2126+y*.7152+v*.0722}e.relativeLuminance2=r})(Ot||={});var _a;(e=>{function t(u,d){if(et=(d&255)/255,et===1)return d;let p=d>>24&255,f=d>>16&255,y=d>>8&255,v=u>>24&255,w=u>>16&255,S=u>>8&255;return xt=v+Math.round((p-v)*et),St=w+Math.round((f-w)*et),wt=S+Math.round((y-S)*et),at.toRgba(xt,St,wt)}e.blend=t;function r(u,d,p){let f=Ot.relativeLuminance(u>>8),y=Ot.relativeLuminance(d>>8);if(Xr(f,y)<p){if(y<f){let S=n(u,d,p),b=Xr(f,Ot.relativeLuminance(S>>8));if(b<p){let x=o(u,d,p),k=Xr(f,Ot.relativeLuminance(x>>8));return b>k?S:x}return S}let v=o(u,d,p),w=Xr(f,Ot.relativeLuminance(v>>8));if(w<p){let S=n(u,d,p),b=Xr(f,Ot.relativeLuminance(S>>8));return w>b?v:S}return v}}e.ensureContrastRatio=r;function n(u,d,p){let f=u>>24&255,y=u>>16&255,v=u>>8&255,w=d>>24&255,S=d>>16&255,b=d>>8&255,x=Xr(Ot.relativeLuminance2(w,S,b),Ot.relativeLuminance2(f,y,v));for(;x<p&&(w>0||S>0||b>0);)w-=Math.max(0,Math.ceil(w*.1)),S-=Math.max(0,Math.ceil(S*.1)),b-=Math.max(0,Math.ceil(b*.1)),x=Xr(Ot.relativeLuminance2(w,S,b),Ot.relativeLuminance2(f,y,v));return(w<<24|S<<16|b<<8|255)>>>0}e.reduceLuminance=n;function o(u,d,p){let f=u>>24&255,y=u>>16&255,v=u>>8&255,w=d>>24&255,S=d>>16&255,b=d>>8&255,x=Xr(Ot.relativeLuminance2(w,S,b),Ot.relativeLuminance2(f,y,v));for(;x<p&&(w<255||S<255||b<255);)w=Math.min(255,w+Math.ceil((255-w)*.1)),S=Math.min(255,S+Math.ceil((255-S)*.1)),b=Math.min(255,b+Math.ceil((255-b)*.1)),x=Xr(Ot.relativeLuminance2(w,S,b),Ot.relativeLuminance2(f,y,v));return(w<<24|S<<16|b<<8|255)>>>0}e.increaseLuminance=o;function a(u){return[u>>24&255,u>>16&255,u>>8&255,u&255]}e.toChannels=a})(_a||={});function ts(e){let t=e.toString(16);return t.length<2?"0"+t:t}function Xr(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}var nk=class extends Po{constructor(e,t,r){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=r}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}},Ea=class{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new dr}register(e){let t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(this._characterJoiners.length===0)return[];let t=this._bufferService.buffer.lines.get(e);if(!t||t.length===0)return[];let r=[],n=t.translateToString(!0),o=0,a=0,u=0,d=t.getFg(0),p=t.getBg(0);for(let f=0;f<t.getTrimmedLength();f++)if(t.loadCell(f,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==d||this._workCell.bg!==p){if(f-o>1){let y=this._getJoinedRanges(n,u,a,t,o);for(let v=0;v<y.length;v++)r.push(y[v])}o=f,u=a,d=this._workCell.fg,p=this._workCell.bg}a+=this._workCell.getChars().length||ji.length}if(this._bufferService.cols-o>1){let f=this._getJoinedRanges(n,u,a,t,o);for(let y=0;y<f.length;y++)r.push(f[y])}return r}_getJoinedRanges(e,t,r,n,o){let a=e.substring(t,r),u=[];try{u=this._characterJoiners[0].handler(a)}catch(d){console.error(d)}for(let d=1;d<this._characterJoiners.length;d++)try{let p=this._characterJoiners[d].handler(a);for(let f=0;f<p.length;f++)Ea._mergeRanges(u,p[f])}catch(p){console.error(p)}return this._stringRangesToCellRanges(u,n,o),u}_stringRangesToCellRanges(e,t,r){let n=0,o=!1,a=0,u=e[n];if(u){for(let d=r;d<this._bufferService.cols;d++){let p=t.getWidth(d),f=t.getString(d).length||ji.length;if(p!==0){if(!o&&u[0]<=a&&(u[0]=d,o=!0),u[1]<=a){if(u[1]=d,u=e[++n],!u)break;u[0]<=a?(u[0]=d,o=!0):o=!1}a+=f}}u&&(u[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let r=!1;for(let n=0;n<e.length;n++){let o=e[n];if(r){if(t[1]<=o[0])return e[n-1][1]=t[1],e;if(t[1]<=o[1])return e[n-1][1]=Math.max(t[1],o[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=o[0])return e.splice(n,0,t),e;if(t[1]<=o[1])return o[0]=Math.min(t[0],o[0]),e;t[0]<o[1]&&(o[0]=Math.min(t[0],o[0]),r=!0);continue}}return r?e[e.length-1][1]=t[1]:e.push(t),e}};Ea=tt([he(0,It)],Ea);function ok(e){return 57508<=e&&e<=57558}function lk(e){return 9472<=e&&e<=9631}function ak(e){return ok(e)||lk(e)}function ck(){return{css:{canvas:Ql(),cell:Ql()},device:{canvas:Ql(),cell:Ql(),char:{width:0,height:0,left:0,top:0}}}}function Ql(){return{width:0,height:0}}var Jh=class{constructor(e,t,r,n,o,a,u){this._document=e,this._characterJoinerService=t,this._optionsService=r,this._coreBrowserService=n,this._coreService=o,this._decorationService=a,this._themeService=u,this._workCell=new dr,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r}createRow(e,t,r,n,o,a,u,d,p,f,y){let v=[],w=this._characterJoinerService.getJoinedCharacters(t),S=this._themeService.colors,b=e.getNoBgTrimmedLength();r&&b<a+1&&(b=a+1);let x,k=0,N="",P=0,E=0,M=0,j=0,O=!1,B=0,z=!1,J=0,se=0,ie=[],K=f!==-1&&y!==-1;for(let W=0;W<b;W++){e.loadCell(W,this._workCell);let H=this._workCell.getWidth();if(H===0)continue;let L=!1,$=W>=se,Y=W,D=this._workCell;if(w.length>0&&W===w[0][0]&&$){let ke=w.shift(),Tt=this._isCellInSelection(ke[0],t);for(P=ke[0]+1;P<ke[1];P++)$&&=Tt===this._isCellInSelection(P,t);$&&=!r||a<ke[0]||a>=ke[1],$?(L=!0,D=new nk(this._workCell,e.translateToString(!0,ke[0],ke[1]),ke[1]-ke[0]),Y=ke[1]-1,H=D.getWidth()):se=ke[1]}let X=this._isCellInSelection(W,t),Q=r&&W===a,T=K&&W>=f&&W<=y,q=!1;this._decorationService.forEachDecorationAtCell(W,t,void 0,ke=>{q=!0});let ce=D.getChars()||ji;if(ce===" "&&(D.isUnderline()||D.isOverline())&&(ce=""),J=H*d-p.get(ce,D.isBold(),D.isItalic()),!x)x=this._document.createElement("span");else if(k&&(X&&z||!X&&!z&&D.bg===E)&&(X&&z&&S.selectionForeground||D.fg===M)&&D.extended.ext===j&&T===O&&J===B&&!Q&&!L&&!q&&$){D.isInvisible()?N+=ji:N+=ce,k++;continue}else k&&(x.textContent=N),x=this._document.createElement("span"),k=0,N="";if(E=D.bg,M=D.fg,j=D.extended.ext,O=T,B=J,z=X,L&&a>=W&&a<=Y&&(a=W),!this._coreService.isCursorHidden&&Q&&this._coreService.isCursorInitialized){if(ie.push("xterm-cursor"),this._coreBrowserService.isFocused)u&&ie.push("xterm-cursor-blink"),ie.push(n==="bar"?"xterm-cursor-bar":n==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(o)switch(o){case"outline":ie.push("xterm-cursor-outline");break;case"block":ie.push("xterm-cursor-block");break;case"bar":ie.push("xterm-cursor-bar");break;case"underline":ie.push("xterm-cursor-underline");break}}if(D.isBold()&&ie.push("xterm-bold"),D.isItalic()&&ie.push("xterm-italic"),D.isDim()&&ie.push("xterm-dim"),D.isInvisible()?N=ji:N=D.getChars()||ji,D.isUnderline()&&(ie.push(`xterm-underline-${D.extended.underlineStyle}`),N===" "&&(N=""),!D.isUnderlineColorDefault()))if(D.isUnderlineColorRGB())x.style.textDecorationColor=`rgb(${Po.toColorRGB(D.getUnderlineColor()).join(",")})`;else{let ke=D.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&D.isBold()&&ke<8&&(ke+=8),x.style.textDecorationColor=S.ansi[ke].css}D.isOverline()&&(ie.push("xterm-overline"),N===" "&&(N="")),D.isStrikethrough()&&ie.push("xterm-strikethrough"),T&&(x.style.textDecoration="underline");let Z=D.getFgColor(),ue=D.getFgColorMode(),pe=D.getBgColor(),ee=D.getBgColorMode(),oe=!!D.isInverse();if(oe){let ke=Z;Z=pe,pe=ke;let Tt=ue;ue=ee,ee=Tt}let de,we,Re=!1;this._decorationService.forEachDecorationAtCell(W,t,void 0,ke=>{ke.options.layer!=="top"&&Re||(ke.backgroundColorRGB&&(ee=50331648,pe=ke.backgroundColorRGB.rgba>>8&16777215,de=ke.backgroundColorRGB),ke.foregroundColorRGB&&(ue=50331648,Z=ke.foregroundColorRGB.rgba>>8&16777215,we=ke.foregroundColorRGB),Re=ke.options.layer==="top")}),!Re&&X&&(de=this._coreBrowserService.isFocused?S.selectionBackgroundOpaque:S.selectionInactiveBackgroundOpaque,pe=de.rgba>>8&16777215,ee=50331648,Re=!0,S.selectionForeground&&(ue=50331648,Z=S.selectionForeground.rgba>>8&16777215,we=S.selectionForeground)),Re&&ie.push("xterm-decoration-top");let Te;switch(ee){case 16777216:case 33554432:Te=S.ansi[pe],ie.push(`xterm-bg-${pe}`);break;case 50331648:Te=at.toColor(pe>>16,pe>>8&255,pe&255),this._addStyle(x,`background-color:#${Wg((pe>>>0).toString(16),"0",6)}`);break;case 0:default:oe?(Te=S.foreground,ie.push("xterm-bg-257")):Te=S.background}switch(de||D.isDim()&&(de=Ue.multiplyOpacity(Te,.5)),ue){case 16777216:case 33554432:D.isBold()&&Z<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Z+=8),this._applyMinimumContrast(x,Te,S.ansi[Z],D,de,void 0)||ie.push(`xterm-fg-${Z}`);break;case 50331648:let ke=at.toColor(Z>>16&255,Z>>8&255,Z&255);this._applyMinimumContrast(x,Te,ke,D,de,we)||this._addStyle(x,`color:#${Wg(Z.toString(16),"0",6)}`);break;case 0:default:this._applyMinimumContrast(x,Te,S.foreground,D,de,we)||oe&&ie.push("xterm-fg-257")}ie.length&&(x.className=ie.join(" "),ie.length=0),!Q&&!L&&!q&&$?k++:x.textContent=N,J!==this.defaultSpacing&&(x.style.letterSpacing=`${J}px`),v.push(x),W=Y}return x&&k&&(x.textContent=N),v}_applyMinimumContrast(e,t,r,n,o,a){if(this._optionsService.rawOptions.minimumContrastRatio===1||ak(n.getCode()))return!1;let u=this._getContrastCache(n),d;if(!o&&!a&&(d=u.getColor(t.rgba,r.rgba)),d===void 0){let p=this._optionsService.rawOptions.minimumContrastRatio/(n.isDim()?2:1);d=Ue.ensureContrastRatio(o||t,a||r,p),u.setColor((o||t).rgba,(a||r).rgba,d??null)}return d?(this._addStyle(e,`color:${d.css}`),!0):!1}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style",`${e.getAttribute("style")||""}${t};`)}_isCellInSelection(e,t){let r=this._selectionStart,n=this._selectionEnd;return!r||!n?!1:this._columnSelectMode?r[0]<=n[0]?e>=r[0]&&t>=r[1]&&e<n[0]&&t<=n[1]:e<r[0]&&t>=r[1]&&e>=n[0]&&t<=n[1]:t>r[1]&&t<n[1]||r[1]===n[1]&&t===r[1]&&e>=r[0]&&e<n[0]||r[1]<n[1]&&t===n[1]&&e<n[0]||r[1]<n[1]&&t===r[1]&&e>=r[0]}};Jh=tt([he(1,Ev),he(2,Bt),he(3,ii),he(4,fs),he(5,jo),he(6,on)],Jh);function Wg(e,t,r){for(;e.length<r;)e=t+e;return e}var uk=class{constructor(e,t){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let r=e.createElement("span");r.classList.add("xterm-char-measure-element");let n=e.createElement("span");n.classList.add("xterm-char-measure-element"),n.style.fontWeight="bold";let o=e.createElement("span");o.classList.add("xterm-char-measure-element"),o.style.fontStyle="italic";let a=e.createElement("span");a.classList.add("xterm-char-measure-element"),a.style.fontWeight="bold",a.style.fontStyle="italic",this._measureElements=[r,n,o,a],this._container.appendChild(r),this._container.appendChild(n),this._container.appendChild(o),this._container.appendChild(a),t.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,r,n){e===this._font&&t===this._fontSize&&r===this._weight&&n===this._weightBold||(this._font=e,this._fontSize=t,this._weight=r,this._weightBold=n,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${r}`,this._measureElements[1].style.fontWeight=`${n}`,this._measureElements[2].style.fontWeight=`${r}`,this._measureElements[3].style.fontWeight=`${n}`,this.clear())}get(e,t,r){let n=0;if(!t&&!r&&e.length===1&&(n=e.charCodeAt(0))<256){if(this._flat[n]!==-9999)return this._flat[n];let u=this._measure(e,0);return u>0&&(this._flat[n]=u),u}let o=e;t&&(o+="B"),r&&(o+="I");let a=this._holey.get(o);if(a===void 0){let u=0;t&&(u|=1),r&&(u|=2),a=this._measure(e,u),a>0&&this._holey.set(o,a)}return a}_measure(e,t){let r=this._measureElements[t];return r.textContent=e.repeat(32),r.offsetWidth/32}},hk=class{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(e,t,r,n=!1){if(this.selectionStart=t,this.selectionEnd=r,!t||!r||t[0]===r[0]&&t[1]===r[1]){this.clear();return}let o=e.buffers.active.ydisp,a=t[1]-o,u=r[1]-o,d=Math.max(a,0),p=Math.min(u,e.rows-1);if(d>=e.rows||p<0){this.clear();return}this.hasSelection=!0,this.columnSelectMode=n,this.viewportStartRow=a,this.viewportEndRow=u,this.viewportCappedStartRow=d,this.viewportCappedEndRow=p,this.startCol=t[0],this.endCol=r[0]}isCellSelected(e,t,r){return this.hasSelection?(r-=e.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?t>=this.startCol&&r>=this.viewportCappedStartRow&&t<this.endCol&&r<=this.viewportCappedEndRow:t<this.startCol&&r>=this.viewportCappedStartRow&&t>=this.endCol&&r<=this.viewportCappedEndRow:r>this.viewportStartRow&&r<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportEndRow&&t<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportStartRow&&t>=this.startCol):!1}};function dk(){return new hk}var ah="xterm-dom-renderer-owner-",cr="xterm-rows",Jl="xterm-fg-",Hg="xterm-bg-",to="xterm-focus",ea="xterm-selection",fk=1,ed=class extends je{constructor(e,t,r,n,o,a,u,d,p,f,y,v,w,S){super(),this._terminal=e,this._document=t,this._element=r,this._screenElement=n,this._viewportElement=o,this._helperContainer=a,this._linkifier2=u,this._charSizeService=p,this._optionsService=f,this._bufferService=y,this._coreService=v,this._coreBrowserService=w,this._themeService=S,this._terminalClass=fk++,this._rowElements=[],this._selectionRenderModel=dk(),this.onRequestRedraw=this._register(new ae).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(cr),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(ea),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=ck(),this._updateDimensions(),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._themeService.onChangeColors(b=>this._injectCss(b))),this._injectCss(this._themeService.colors),this._rowFactory=d.createInstance(Jh,document),this._element.classList.add(ah+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this._register(this._linkifier2.onShowLinkUnderline(b=>this._handleLinkHover(b))),this._register(this._linkifier2.onHideLinkUnderline(b=>this._handleLinkLeave(b))),this._register(qe(()=>{this._element.classList.remove(ah+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new uk(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let r of this._rowElements)r.style.width=`${this.dimensions.css.canvas.width}px`,r.style.height=`${this.dimensions.css.cell.height}px`,r.style.lineHeight=`${this.dimensions.css.cell.height}px`,r.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let t=`${this._terminalSelector} .${cr} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t=`${this._terminalSelector} .${cr} { pointer-events: none; color: ${e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;t+=`${this._terminalSelector} .${cr} .xterm-dim { color: ${Ue.multiplyOpacity(e.foreground,.5).css};}`,t+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let r=`blink_underline_${this._terminalClass}`,n=`blink_bar_${this._terminalClass}`,o=`blink_block_${this._terminalClass}`;t+=`@keyframes ${r} { 50% {  border-bottom-style: hidden; }}`,t+=`@keyframes ${n} { 50% {  box-shadow: none; }}`,t+=`@keyframes ${o} { 0% {  background-color: ${e.cursor.css};  color: ${e.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${e.cursor.css}; }}`,t+=`${this._terminalSelector} .${cr}.${to} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${r} 1s step-end infinite;}${this._terminalSelector} .${cr}.${to} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${n} 1s step-end infinite;}${this._terminalSelector} .${cr}.${to} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${o} 1s step-end infinite;}${this._terminalSelector} .${cr} .xterm-cursor.xterm-cursor-block { background-color: ${e.cursor.css}; color: ${e.cursorAccent.css};}${this._terminalSelector} .${cr} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${e.cursor.css} !important; color: ${e.cursorAccent.css} !important;}${this._terminalSelector} .${cr} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${e.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${cr} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${e.cursor.css} inset;}${this._terminalSelector} .${cr} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,t+=`${this._terminalSelector} .${ea} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${ea} div { position: absolute; background-color: ${e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${ea} div { position: absolute; background-color: ${e.selectionInactiveBackgroundOpaque.css};}`;for(let[a,u]of e.ansi.entries())t+=`${this._terminalSelector} .${Jl}${a} { color: ${u.css}; }${this._terminalSelector} .${Jl}${a}.xterm-dim { color: ${Ue.multiplyOpacity(u,.5).css}; }${this._terminalSelector} .${Hg}${a} { background-color: ${u.css}; }`;t+=`${this._terminalSelector} .${Jl}257 { color: ${Ue.opaque(e.background).css}; }${this._terminalSelector} .${Jl}257.xterm-dim { color: ${Ue.multiplyOpacity(Ue.opaque(e.background),.5).css}; }${this._terminalSelector} .${Hg}257 { background-color: ${e.foreground.css}; }`,this._themeStyleElement.textContent=t}_setDefaultSpacing(){let e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${e}px`,this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let r=this._rowElements.length;r<=t;r++){let n=this._document.createElement("div");this._rowContainer.appendChild(n),this._rowElements.push(n)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(to),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(to),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,r){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),!e||!t||(this._selectionRenderModel.update(this._terminal,e,t,r),!this._selectionRenderModel.hasSelection))return;let n=this._selectionRenderModel.viewportStartRow,o=this._selectionRenderModel.viewportEndRow,a=this._selectionRenderModel.viewportCappedStartRow,u=this._selectionRenderModel.viewportCappedEndRow,d=this._document.createDocumentFragment();if(r){let p=e[0]>t[0];d.appendChild(this._createSelectionElement(a,p?t[0]:e[0],p?e[0]:t[0],u-a+1))}else{let p=n===a?e[0]:0,f=a===o?t[0]:this._bufferService.cols;d.appendChild(this._createSelectionElement(a,p,f));let y=u-a-1;if(d.appendChild(this._createSelectionElement(a+1,0,this._bufferService.cols,y)),a!==u){let v=o===u?t[0]:this._bufferService.cols;d.appendChild(this._createSelectionElement(u,0,v))}}this._selectionContainer.appendChild(d)}_createSelectionElement(e,t,r,n=1){let o=this._document.createElement("div"),a=t*this.dimensions.css.cell.width,u=this.dimensions.css.cell.width*(r-t);return a+u>this.dimensions.css.canvas.width&&(u=this.dimensions.css.canvas.width-a),o.style.height=`${n*this.dimensions.css.cell.height}px`,o.style.top=`${e*this.dimensions.css.cell.height}px`,o.style.left=`${a}px`,o.style.width=`${u}px`,o}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let e of this._rowElements)e.replaceChildren()}renderRows(e,t){let r=this._bufferService.buffer,n=r.ybase+r.y,o=Math.min(r.x,this._bufferService.cols-1),a=this._coreService.decPrivateModes.cursorBlink??this._optionsService.rawOptions.cursorBlink,u=this._coreService.decPrivateModes.cursorStyle??this._optionsService.rawOptions.cursorStyle,d=this._optionsService.rawOptions.cursorInactiveStyle;for(let p=e;p<=t;p++){let f=p+r.ydisp,y=this._rowElements[p],v=r.lines.get(f);if(!y||!v)break;y.replaceChildren(...this._rowFactory.createRow(v,f,f===n,u,d,o,a,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${ah}${this._terminalClass}`}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,r,n,o,a){r<0&&(e=0),n<0&&(t=0);let u=this._bufferService.rows-1;r=Math.max(Math.min(r,u),0),n=Math.max(Math.min(n,u),0),o=Math.min(o,this._bufferService.cols);let d=this._bufferService.buffer,p=d.ybase+d.y,f=Math.min(d.x,o-1),y=this._optionsService.rawOptions.cursorBlink,v=this._optionsService.rawOptions.cursorStyle,w=this._optionsService.rawOptions.cursorInactiveStyle;for(let S=r;S<=n;++S){let b=S+d.ydisp,x=this._rowElements[S],k=d.lines.get(b);if(!x||!k)break;x.replaceChildren(...this._rowFactory.createRow(k,b,b===p,v,w,f,y,this.dimensions.css.cell.width,this._widthCache,a?S===r?e:0:-1,a?(S===n?t:o)-1:-1))}}};ed=tt([he(7,Md),he(8,Wa),he(9,Bt),he(10,It),he(11,fs),he(12,ii),he(13,on)],ed);var td=class extends je{constructor(e,t,r){super(),this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=this._register(new ae),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this._register(new mk(this._optionsService))}catch{this._measureStrategy=this._register(new pk(e,t,this._optionsService))}this._register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){let e=this._measureStrategy.measure();(e.width!==this.width||e.height!==this.height)&&(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};td=tt([he(2,Bt)],td);var Vv=class extends je{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(e,t){e!==void 0&&e>0&&t!==void 0&&t>0&&(this._result.width=e,this._result.height=t)}},pk=class extends Vv{constructor(e,t,r){super(),this._document=e,this._parentElement=t,this._optionsService=r,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}},mk=class extends Vv{constructor(e){super(),this._optionsService=e,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let t=this._ctx.measureText("W");if(!("width"in t&&"fontBoundingBoxAscent"in t&&"fontBoundingBoxDescent"in t))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let e=this._ctx.measureText("W");return this._validateAndSet(e.width,e.fontBoundingBoxAscent+e.fontBoundingBoxDescent),this._result}},gk=class extends je{constructor(e,t,r){super(),this._textarea=e,this._window=t,this.mainDocument=r,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=this._register(new _k(this._window)),this._onDprChange=this._register(new ae),this.onDprChange=this._onDprChange.event,this._onWindowChange=this._register(new ae),this.onWindowChange=this._onWindowChange.event,this._register(this.onWindowChange(n=>this._screenDprMonitor.setWindow(n))),this._register(Et.forward(this._screenDprMonitor.onDprChange,this._onDprChange)),this._register(Ne(this._textarea,"focus",()=>this._isFocused=!0)),this._register(Ne(this._textarea,"blur",()=>this._isFocused=!1))}get window(){return this._window}set window(e){this._window!==e&&(this._window=e,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}},_k=class extends je{constructor(e){super(),this._parentWindow=e,this._windowResizeListener=this._register(new tn),this._onDprChange=this._register(new ae),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this._register(qe(()=>this.clearListener()))}setWindow(e){this._parentWindow=e,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=Ne(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){!this._resolutionMediaMatchList||!this._outerListener||(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}},vk=class extends je{constructor(){super(),this.linkProviders=[],this._register(qe(()=>this.linkProviders.length=0))}registerLinkProvider(e){return this.linkProviders.push(e),{dispose:()=>{let t=this.linkProviders.indexOf(e);t!==-1&&this.linkProviders.splice(t,1)}}}};function Fd(e,t,r){let n=r.getBoundingClientRect(),o=e.getComputedStyle(r),a=parseInt(o.getPropertyValue("padding-left")),u=parseInt(o.getPropertyValue("padding-top"));return[t.clientX-n.left-a,t.clientY-n.top-u]}function yk(e,t,r,n,o,a,u,d,p){if(!a)return;let f=Fd(e,t,r);if(f)return f[0]=Math.ceil((f[0]+(p?u/2:0))/u),f[1]=Math.ceil(f[1]/d),f[0]=Math.min(Math.max(f[0],1),n+(p?1:0)),f[1]=Math.min(Math.max(f[1],1),o),f}var rd=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,r,n,o){return yk(window,e,t,r,n,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(e,t){let r=Fd(window,e,t);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};rd=tt([he(0,si),he(1,Wa)],rd);var xk=class{constructor(e,t){this._renderCallback=e,this._coreBrowserService=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t,!this._animationFrame&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0){this._runRefreshCallbacks();return}let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}},Kv={};Pb(Kv,{getSafariVersion:()=>wk,isChromeOS:()=>Xv,isFirefox:()=>qv,isIpad:()=>Ck,isIphone:()=>bk,isLegacyEdge:()=>Sk,isLinux:()=>$d,isMac:()=>Na,isNode:()=>Ha,isSafari:()=>Yv,isWindows:()=>Gv});var Ha=typeof process<"u"&&"title"in process,Mo=Ha?"node":navigator.userAgent,To=Ha?"node":navigator.platform,qv=Mo.includes("Firefox"),Sk=Mo.includes("Edge"),Yv=/^((?!chrome|android).)*safari/i.test(Mo);function wk(){if(!Yv)return 0;let e=Mo.match(/Version\/(\d+)/);return e===null||e.length<2?0:parseInt(e[1])}var Na=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(To),Ck=To==="iPad",bk=To==="iPhone",Gv=["Windows","Win16","Win32","WinCE"].includes(To),$d=To.indexOf("Linux")>=0,Xv=/\bCrOS\b/.test(Mo),Zv=class{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,r=0,n=e.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(t=performance.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,performance.now()-t),r=Math.max(t,r),o=e.timeRemaining(),r*1.5>o){n-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-t))}ms`),this._start();return}n=o}this.clear()}},kk=class extends Zv{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){let t=performance.now()+e;return{timeRemaining:()=>Math.max(0,t-performance.now())}}},Ek=class extends Zv{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}},Ra=!Ha&&"requestIdleCallback"in window?Ek:kk,Nk=class{constructor(){this._queue=new Ra}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}},id=class extends je{constructor(e,t,r,n,o,a,u,d,p){super(),this._rowCount=e,this._optionsService=r,this._charSizeService=n,this._coreService=o,this._coreBrowserService=d,this._renderer=this._register(new tn),this._pausedResizeTask=new Nk,this._observerDisposable=this._register(new tn),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this._register(new ae),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this._register(new ae),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this._register(new ae),this.onRender=this._onRender.event,this._onRefreshRequest=this._register(new ae),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new xk((f,y)=>this._renderRows(f,y),this._coreBrowserService),this._register(this._renderDebouncer),this._syncOutputHandler=new Rk(this._coreBrowserService,this._coreService,()=>this._fullRefresh()),this._register(qe(()=>this._syncOutputHandler.dispose())),this._register(this._coreBrowserService.onDprChange(()=>this.handleDevicePixelRatioChange())),this._register(u.onResize(()=>this._fullRefresh())),this._register(u.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this._register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this._register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this._register(a.onDecorationRegistered(()=>this._fullRefresh())),this._register(a.onDecorationRemoved(()=>this._fullRefresh())),this._register(this._optionsService.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(u.cols,u.rows),this._fullRefresh()})),this._register(this._optionsService.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(u.buffer.y,u.buffer.y,!0))),this._register(p.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(this._coreBrowserService.window,t),this._register(this._coreBrowserService.onWindowChange(f=>this._registerIntersectionObserver(f,t)))}get dimensions(){return this._renderer.value.dimensions}_registerIntersectionObserver(e,t){if("IntersectionObserver"in e){let r=new e.IntersectionObserver(n=>this._handleIntersectionChange(n[n.length-1]),{threshold:0});r.observe(t),this._observerDisposable.value=qe(()=>r.disconnect())}}_handleIntersectionChange(e){this._isPaused=e.isIntersecting===void 0?e.intersectionRatio===0:!e.isIntersecting,!this._isPaused&&!this._charSizeService.hasValidSize&&this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t,r=!1){if(this._isPaused){this._needsFullRefresh=!0;return}if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(e,t);return}let n=this._syncOutputHandler.flush();n&&(e=Math.min(e,n.start),t=Math.max(t,n.end)),r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount)}_renderRows(e,t){if(this._renderer.value){if(this._coreService.decPrivateModes.synchronizedOutput){this._syncOutputHandler.bufferRows(e,t);return}e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0}}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value&&(this._renderer.value.onRequestRedraw(t=>this.refreshRows(t.start,t.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(e,t)):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(e,t,r){this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,this._renderer.value?.handleSelectionChanged(e,t,r)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};id=tt([he(2,Bt),he(3,Wa),he(4,fs),he(5,jo),he(6,It),he(7,ii),he(8,on)],id);var Rk=class{constructor(e,t,r){this._coreBrowserService=e,this._coreService=t,this._onTimeout=r,this._start=0,this._end=0,this._isBuffering=!1}bufferRows(e,t){this._isBuffering?(this._start=Math.min(this._start,e),this._end=Math.max(this._end,t)):(this._start=e,this._end=t,this._isBuffering=!0),this._timeout===void 0&&(this._timeout=this._coreBrowserService.window.setTimeout(()=>{this._timeout=void 0,this._coreService.decPrivateModes.synchronizedOutput=!1,this._onTimeout()},1e3))}flush(){if(this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0),!this._isBuffering)return;let e={start:this._start,end:this._end};return this._isBuffering=!1,e}dispose(){this._timeout!==void 0&&(this._coreBrowserService.window.clearTimeout(this._timeout),this._timeout=void 0)}};function Dk(e,t,r,n){let o=r.buffer.x,a=r.buffer.y;if(!r.buffer.hasScrollback)return Mk(o,a,e,t,r,n)+Ua(a,t,r,n)+Tk(o,a,e,t,r,n);let u;if(a===t)return u=o>e?"D":"C",Co(Math.abs(o-e),wo(u,n));u=a>t?"D":"C";let d=Math.abs(a-t),p=jk(a>t?e:o,r)+(d-1)*r.cols+1+Pk(a>t?o:e);return Co(p,wo(u,n))}function Pk(e,t){return e-1}function jk(e,t){return t.cols-e}function Mk(e,t,r,n,o,a){return Ua(t,n,o,a).length===0?"":Co(Jv(e,t,e,t-as(t,o),!1,o).length,wo("D",a))}function Ua(e,t,r,n){let o=e-as(e,r),a=t-as(t,r),u=Math.abs(o-a)-Ak(e,t,r);return Co(u,wo(Qv(e,t),n))}function Tk(e,t,r,n,o,a){let u;Ua(t,n,o,a).length>0?u=n-as(n,o):u=t;let d=n,p=Lk(e,t,r,n,o,a);return Co(Jv(e,u,r,d,p==="C",o).length,wo(p,a))}function Ak(e,t,r){let n=0,o=e-as(e,r),a=t-as(t,r);for(let u=0;u<Math.abs(o-a);u++){let d=Qv(e,t)==="A"?-1:1;r.buffer.lines.get(o+d*u)?.isWrapped&&n++}return n}function as(e,t){let r=0,n=t.buffer.lines.get(e),o=n?.isWrapped;for(;o&&e>=0&&e<t.rows;)r++,n=t.buffer.lines.get(--e),o=n?.isWrapped;return r}function Lk(e,t,r,n,o,a){let u;return Ua(r,n,o,a).length>0?u=n-as(n,o):u=t,e<r&&u<=n||e>=r&&u<n?"C":"D"}function Qv(e,t){return e>t?"A":"B"}function Jv(e,t,r,n,o,a){let u=e,d=t,p="";for(;(u!==r||d!==n)&&d>=0&&d<a.buffer.lines.length;)u+=o?1:-1,o&&u>a.cols-1?(p+=a.buffer.translateBufferLineToString(d,!1,e,u),u=0,e=0,d++):!o&&u<0&&(p+=a.buffer.translateBufferLineToString(d,!1,0,e+1),u=a.cols-1,e=u,d--);return p+a.buffer.translateBufferLineToString(d,!1,e,u)}function wo(e,t){let r=t?"O":"[";return G.ESC+r+e}function Co(e,t){e=Math.floor(e);let r="";for(let n=0;n<e;n++)r+=t;return r}var Ok=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:!this.selectionEnd||!this.selectionStart?this.selectionStart:this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols===0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let e=this.selectionStart,t=this.selectionEnd;return!e||!t?!1:e[1]>t[1]||e[1]===t[1]&&e[0]>t[0]}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}};function Ug(e,t){if(e.start.y>e.end.y)throw new Error(`Buffer range end (${e.end.x}, ${e.end.y}) cannot be before start (${e.start.x}, ${e.start.y})`);return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}var ch=50,Ik=15,Bk=50,zk=500,Fk="",$k=new RegExp(Fk,"g"),sd=class extends je{constructor(e,t,r,n,o,a,u,d,p){super(),this._element=e,this._screenElement=t,this._linkifier=r,this._bufferService=n,this._coreService=o,this._mouseService=a,this._optionsService=u,this._renderService=d,this._coreBrowserService=p,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new dr,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this._register(new ae),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this._register(new ae),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this._register(new ae),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this._register(new ae),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=f=>this._handleMouseMove(f),this._mouseUpListener=f=>this._handleMouseUp(f),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(f=>this._handleTrim(f)),this._register(this._bufferService.buffers.onBufferActivate(f=>this._handleBufferActivate(f))),this.enable(),this._model=new Ok(this._bufferService),this._activeSelectionMode=0,this._register(qe(()=>{this._removeMouseDownListeners()})),this._register(this._bufferService.onResize(f=>{f.rowsChanged&&this.clearSelection()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!e||!t?!1:e[0]!==t[0]||e[1]!==t[1]}get selectionText(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";let r=this._bufferService.buffer,n=[];if(this._activeSelectionMode===3){if(e[0]===t[0])return"";let o=e[0]<t[0]?e[0]:t[0],a=e[0]<t[0]?t[0]:e[0];for(let u=e[1];u<=t[1];u++){let d=r.translateBufferLineToString(u,!0,o,a);n.push(d)}}else{let o=e[1]===t[1]?t[0]:void 0;n.push(r.translateBufferLineToString(e[1],!0,e[0],o));for(let a=e[1]+1;a<=t[1]-1;a++){let u=r.lines.get(a),d=r.translateBufferLineToString(a,!0);u?.isWrapped?n[n.length-1]+=d:n.push(d)}if(e[1]!==t[1]){let a=r.lines.get(t[1]),u=r.translateBufferLineToString(t[1],!0,0,t[0]);a&&a.isWrapped?n[n.length-1]+=u:n.push(u)}}return n.map(o=>o.replace($k," ")).join(Gv?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),$d&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(e){let t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!r||!n||!t?!1:this._areCoordsInSelection(t,r,n)}isCellInSelection(e,t){let r=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!r||!n?!1:this._areCoordsInSelection([e,t],r,n)}_areCoordsInSelection(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){let r=this._linkifier.currentLink?.link?.range;if(r)return this._model.selectionStart=[r.start.x-1,r.start.y-1],this._model.selectionStartLength=Ug(r,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let n=this._getMouseBufferCoords(e);return n?(this._selectWordAt(n,t),this._model.selectionEnd=void 0,!0):!1}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){let t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=Fd(this._coreBrowserService.window,e,this._screenElement)[1],r=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-ch),ch),t/=ch,t/Math.abs(t)+Math.round(t*(Ik-1)))}shouldForceSelection(e){return Na?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,!(e.button===2&&this.hasSelection)&&e.button===0){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):e.detail===1?this._handleSingleClick(e):e.detail===2?this._handleDoubleClick(e):e.detail===3&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),Bk)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&t.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){let t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(Na&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;let t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd){this.refresh(!0);return}this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){let n=r.lines.get(this._model.selectionEnd[1]);n&&n.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}(!t||t[0]!==this._model.selectionEnd[0]||t[1]!==this._model.selectionEnd[1])&&this.refresh(!0)}_dragScroll(){if(!(!this._model.selectionEnd||!this._model.selectionStart)&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let e=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){let t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<zk&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let r=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(r&&r[0]!==void 0&&r[1]!==void 0){let n=Dk(r[0]-1,r[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(n,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!!e&&!!t&&(e[0]!==t[0]||e[1]!==t[1]);if(!r){this._oldHasSelection&&this._fireOnSelectionChange(e,t,r);return}!e||!t||(!this._oldSelectionStart||!this._oldSelectionEnd||e[0]!==this._oldSelectionStart[0]||e[1]!==this._oldSelectionStart[1]||t[0]!==this._oldSelectionEnd[0]||t[1]!==this._oldSelectionEnd[1])&&this._fireOnSelectionChange(e,t,r)}_fireOnSelectionChange(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(t=>this._handleTrim(t))}_convertViewportColToCharacterIndex(e,t){let r=t;for(let n=0;t>=n;n++){let o=e.loadCell(n,this._workCell).getChars().length;this._workCell.getWidth()===0?r--:o>1&&t!==n&&(r+=o-1)}return r}setSelection(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t,r=!0,n=!0){if(e[0]>=this._bufferService.cols)return;let o=this._bufferService.buffer,a=o.lines.get(e[1]);if(!a)return;let u=o.translateBufferLineToString(e[1],!1),d=this._convertViewportColToCharacterIndex(a,e[0]),p=d,f=e[0]-d,y=0,v=0,w=0,S=0;if(u.charAt(d)===" "){for(;d>0&&u.charAt(d-1)===" ";)d--;for(;p<u.length&&u.charAt(p+1)===" ";)p++}else{let k=e[0],N=e[0];a.getWidth(k)===0&&(y++,k--),a.getWidth(N)===2&&(v++,N++);let P=a.getString(N).length;for(P>1&&(S+=P-1,p+=P-1);k>0&&d>0&&!this._isCharWordSeparator(a.loadCell(k-1,this._workCell));){a.loadCell(k-1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===0?(y++,k--):E>1&&(w+=E-1,d-=E-1),d--,k--}for(;N<a.length&&p+1<u.length&&!this._isCharWordSeparator(a.loadCell(N+1,this._workCell));){a.loadCell(N+1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===2?(v++,N++):E>1&&(S+=E-1,p+=E-1),p++,N++}}p++;let b=d+f-y+w,x=Math.min(this._bufferService.cols,p-d+y+v-w-S);if(!(!t&&u.slice(d,p).trim()==="")){if(r&&b===0&&a.getCodePoint(0)!==32){let k=o.lines.get(e[1]-1);if(k&&a.isWrapped&&k.getCodePoint(this._bufferService.cols-1)!==32){let N=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(N){let P=this._bufferService.cols-N.start;b-=P,x+=P}}}if(n&&b+x===this._bufferService.cols&&a.getCodePoint(this._bufferService.cols-1)!==32){let k=o.lines.get(e[1]+1);if(k?.isWrapped&&k.getCodePoint(0)!==32){let N=this._getWordAt([0,e[1]+1],!1,!1,!0);N&&(x+=N.length)}}return{start:b,length:x}}}_selectWordAt(e,t){let r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}}_selectToWordAt(e){let t=this._getWordAt(e,!0);if(t){let r=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}}_isCharWordSeparator(e){return e.getWidth()===0?!1:this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){let t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=Ug(r,this._bufferService.cols)}};sd=tt([he(3,It),he(4,fs),he(5,Td),he(6,Bt),he(7,si),he(8,ii)],sd);var Vg=class{constructor(){this._data={}}set(e,t,r){this._data[e]||(this._data[e]={}),this._data[e][t]=r}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}},Kg=class{constructor(){this._color=new Vg,this._css=new Vg}setCss(e,t,r){this._css.set(e,t,r)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,r){this._color.set(e,t,r)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}},ht=Object.freeze((()=>{let e=[Qe.toColor("#2e3436"),Qe.toColor("#cc0000"),Qe.toColor("#4e9a06"),Qe.toColor("#c4a000"),Qe.toColor("#3465a4"),Qe.toColor("#75507b"),Qe.toColor("#06989a"),Qe.toColor("#d3d7cf"),Qe.toColor("#555753"),Qe.toColor("#ef2929"),Qe.toColor("#8ae234"),Qe.toColor("#fce94f"),Qe.toColor("#729fcf"),Qe.toColor("#ad7fa8"),Qe.toColor("#34e2e2"),Qe.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let r=0;r<216;r++){let n=t[r/36%6|0],o=t[r/6%6|0],a=t[r%6];e.push({css:at.toCss(n,o,a),rgba:at.toRgba(n,o,a)})}for(let r=0;r<24;r++){let n=8+r*10;e.push({css:at.toCss(n,n,n),rgba:at.toRgba(n,n,n)})}return e})()),is=Qe.toColor("#ffffff"),po=Qe.toColor("#000000"),qg=Qe.toColor("#ffffff"),Yg=po,ro={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117},Wk=is,nd=class extends je{constructor(e){super(),this._optionsService=e,this._contrastCache=new Kg,this._halfContrastCache=new Kg,this._onChangeColors=this._register(new ae),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:is,background:po,cursor:qg,cursorAccent:Yg,selectionForeground:void 0,selectionBackgroundTransparent:ro,selectionBackgroundOpaque:Ue.blend(po,ro),selectionInactiveBackgroundTransparent:ro,selectionInactiveBackgroundOpaque:Ue.blend(po,ro),scrollbarSliderBackground:Ue.opacity(is,.2),scrollbarSliderHoverBackground:Ue.opacity(is,.4),scrollbarSliderActiveBackground:Ue.opacity(is,.5),overviewRulerBorder:is,ansi:ht.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this._register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this._register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(e={}){let t=this._colors;if(t.foreground=Fe(e.foreground,is),t.background=Fe(e.background,po),t.cursor=Ue.blend(t.background,Fe(e.cursor,qg)),t.cursorAccent=Ue.blend(t.background,Fe(e.cursorAccent,Yg)),t.selectionBackgroundTransparent=Fe(e.selectionBackground,ro),t.selectionBackgroundOpaque=Ue.blend(t.background,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundTransparent=Fe(e.selectionInactiveBackground,t.selectionBackgroundTransparent),t.selectionInactiveBackgroundOpaque=Ue.blend(t.background,t.selectionInactiveBackgroundTransparent),t.selectionForeground=e.selectionForeground?Fe(e.selectionForeground,$g):void 0,t.selectionForeground===$g&&(t.selectionForeground=void 0),Ue.isOpaque(t.selectionBackgroundTransparent)&&(t.selectionBackgroundTransparent=Ue.opacity(t.selectionBackgroundTransparent,.3)),Ue.isOpaque(t.selectionInactiveBackgroundTransparent)&&(t.selectionInactiveBackgroundTransparent=Ue.opacity(t.selectionInactiveBackgroundTransparent,.3)),t.scrollbarSliderBackground=Fe(e.scrollbarSliderBackground,Ue.opacity(t.foreground,.2)),t.scrollbarSliderHoverBackground=Fe(e.scrollbarSliderHoverBackground,Ue.opacity(t.foreground,.4)),t.scrollbarSliderActiveBackground=Fe(e.scrollbarSliderActiveBackground,Ue.opacity(t.foreground,.5)),t.overviewRulerBorder=Fe(e.overviewRulerBorder,Wk),t.ansi=ht.slice(),t.ansi[0]=Fe(e.black,ht[0]),t.ansi[1]=Fe(e.red,ht[1]),t.ansi[2]=Fe(e.green,ht[2]),t.ansi[3]=Fe(e.yellow,ht[3]),t.ansi[4]=Fe(e.blue,ht[4]),t.ansi[5]=Fe(e.magenta,ht[5]),t.ansi[6]=Fe(e.cyan,ht[6]),t.ansi[7]=Fe(e.white,ht[7]),t.ansi[8]=Fe(e.brightBlack,ht[8]),t.ansi[9]=Fe(e.brightRed,ht[9]),t.ansi[10]=Fe(e.brightGreen,ht[10]),t.ansi[11]=Fe(e.brightYellow,ht[11]),t.ansi[12]=Fe(e.brightBlue,ht[12]),t.ansi[13]=Fe(e.brightMagenta,ht[13]),t.ansi[14]=Fe(e.brightCyan,ht[14]),t.ansi[15]=Fe(e.brightWhite,ht[15]),e.extendedAnsi){let r=Math.min(t.ansi.length-16,e.extendedAnsi.length);for(let n=0;n<r;n++)t.ansi[n+16]=Fe(e.extendedAnsi[n],ht[n+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(e===void 0){for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t];return}switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};nd=tt([he(0,Bt)],nd);function Fe(e,t){if(e!==void 0)try{return Qe.toColor(e)}catch{}return t}var Hk=class{constructor(...e){this._entries=new Map;for(let[t,r]of e)this.set(t,r)}set(e,t){let r=this._entries.get(e);return this._entries.set(e,t),r}forEach(e){for(let[t,r]of this._entries.entries())e(t,r)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}},Uk=class{constructor(){this._services=new Hk,this._services.set(Md,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e,...t){let r=Ib(e).sort((a,u)=>a.index-u.index),n=[];for(let a of r){let u=this._services.get(a.id);if(!u)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id._id}.`);n.push(u)}let o=r.length>0?r[0].index:t.length;if(t.length!==o)throw new Error(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);return new e(...t,...n)}},Vk={trace:0,debug:1,info:2,warn:3,error:4,off:5},Kk="xterm.js: ",od=class extends je{constructor(e){super(),this._optionsService=e,this._logLevel=5,this._updateLogLevel(),this._register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}get logLevel(){return this._logLevel}_updateLogLevel(){this._logLevel=Vk[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)typeof e[t]=="function"&&(e[t]=e[t]())}_log(e,t,r){this._evalLazyOptionalParams(r),e.call(console,(this._optionsService.options.logger?"":Kk)+t,...r)}trace(e,...t){this._logLevel<=0&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,e,t)}debug(e,...t){this._logLevel<=1&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,e,t)}info(e,...t){this._logLevel<=2&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,e,t)}warn(e,...t){this._logLevel<=3&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,e,t)}error(e,...t){this._logLevel<=4&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,e,t)}};od=tt([he(0,Bt)],od);var Gg=class extends je{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this._register(new ae),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this._register(new ae),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this._register(new ae),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;let t=new Array(e);for(let r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t,...r){if(t){for(let n=e;n<this._length-t;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let n=this._length-1;n>=e;n--)this._array[this._getCyclicIndex(n+r.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<r.length;n++)this._array[this._getCyclicIndex(e+n)]=r[n];if(r.length&&this.onInsertEmitter.fire({index:e,amount:r.length}),this._length+r.length>this._maxLength){let n=this._length+r.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=r.length}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(let o=t-1;o>=0;o--)this.set(e+o+r,this.get(e+o));let n=e+t+r-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<t;n++)this.set(e+n+r,this.get(e+n))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}},De=3,lt=Object.freeze(new Po),ta=0,uh=2,mo=class e0{constructor(t,r,n=!1){this.isWrapped=n,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(t*De);let o=r||dr.fromCharData([0,yv,1,0]);for(let a=0;a<t;++a)this.setCell(a,o);this.length=t}get(t){let r=this._data[t*De+0],n=r&2097151;return[this._data[t*De+1],r&2097152?this._combined[t]:n?Pi(n):"",r>>22,r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):n]}set(t,r){this._data[t*De+1]=r[0],r[1].length>1?(this._combined[t]=r[1],this._data[t*De+0]=t|2097152|r[2]<<22):this._data[t*De+0]=r[1].charCodeAt(0)|r[2]<<22}getWidth(t){return this._data[t*De+0]>>22}hasWidth(t){return this._data[t*De+0]&12582912}getFg(t){return this._data[t*De+1]}getBg(t){return this._data[t*De+2]}hasContent(t){return this._data[t*De+0]&4194303}getCodePoint(t){let r=this._data[t*De+0];return r&2097152?this._combined[t].charCodeAt(this._combined[t].length-1):r&2097151}isCombined(t){return this._data[t*De+0]&2097152}getString(t){let r=this._data[t*De+0];return r&2097152?this._combined[t]:r&2097151?Pi(r&2097151):""}isProtected(t){return this._data[t*De+2]&536870912}loadCell(t,r){return ta=t*De,r.content=this._data[ta+0],r.fg=this._data[ta+1],r.bg=this._data[ta+2],r.content&2097152&&(r.combinedData=this._combined[t]),r.bg&268435456&&(r.extended=this._extendedAttrs[t]),r}setCell(t,r){r.content&2097152&&(this._combined[t]=r.combinedData),r.bg&268435456&&(this._extendedAttrs[t]=r.extended),this._data[t*De+0]=r.content,this._data[t*De+1]=r.fg,this._data[t*De+2]=r.bg}setCellFromCodepoint(t,r,n,o){o.bg&268435456&&(this._extendedAttrs[t]=o.extended),this._data[t*De+0]=r|n<<22,this._data[t*De+1]=o.fg,this._data[t*De+2]=o.bg}addCodepointToCell(t,r,n){let o=this._data[t*De+0];o&2097152?this._combined[t]+=Pi(r):o&2097151?(this._combined[t]=Pi(o&2097151)+Pi(r),o&=-2097152,o|=2097152):o=r|1<<22,n&&(o&=-12582913,o|=n<<22),this._data[t*De+0]=o}insertCells(t,r,n){if(t%=this.length,t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,n),r<this.length-t){let o=new dr;for(let a=this.length-t-r-1;a>=0;--a)this.setCell(t+r+a,this.loadCell(t+a,o));for(let a=0;a<r;++a)this.setCell(t+a,n)}else for(let o=t;o<this.length;++o)this.setCell(o,n);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,n)}deleteCells(t,r,n){if(t%=this.length,r<this.length-t){let o=new dr;for(let a=0;a<this.length-t-r;++a)this.setCell(t+a,this.loadCell(t+r+a,o));for(let a=this.length-r;a<this.length;++a)this.setCell(a,n)}else for(let o=t;o<this.length;++o)this.setCell(o,n);t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,n),this.getWidth(t)===0&&!this.hasContent(t)&&this.setCellFromCodepoint(t,0,1,n)}replaceCells(t,r,n,o=!1){if(o){for(t&&this.getWidth(t-1)===2&&!this.isProtected(t-1)&&this.setCellFromCodepoint(t-1,0,1,n),r<this.length&&this.getWidth(r-1)===2&&!this.isProtected(r)&&this.setCellFromCodepoint(r,0,1,n);t<r&&t<this.length;)this.isProtected(t)||this.setCell(t,n),t++;return}for(t&&this.getWidth(t-1)===2&&this.setCellFromCodepoint(t-1,0,1,n),r<this.length&&this.getWidth(r-1)===2&&this.setCellFromCodepoint(r,0,1,n);t<r&&t<this.length;)this.setCell(t++,n)}resize(t,r){if(t===this.length)return this._data.length*4*uh<this._data.buffer.byteLength;let n=t*De;if(t>this.length){if(this._data.buffer.byteLength>=n*4)this._data=new Uint32Array(this._data.buffer,0,n);else{let o=new Uint32Array(n);o.set(this._data),this._data=o}for(let o=this.length;o<t;++o)this.setCell(o,r)}else{this._data=this._data.subarray(0,n);let o=Object.keys(this._combined);for(let u=0;u<o.length;u++){let d=parseInt(o[u],10);d>=t&&delete this._combined[d]}let a=Object.keys(this._extendedAttrs);for(let u=0;u<a.length;u++){let d=parseInt(a[u],10);d>=t&&delete this._extendedAttrs[d]}}return this.length=t,n*4*uh<this._data.buffer.byteLength}cleanupMemory(){if(this._data.length*4*uh<this._data.buffer.byteLength){let t=new Uint32Array(this._data.length);return t.set(this._data),this._data=t,1}return 0}fill(t,r=!1){if(r){for(let n=0;n<this.length;++n)this.isProtected(n)||this.setCell(n,t);return}this._combined={},this._extendedAttrs={};for(let n=0;n<this.length;++n)this.setCell(n,t)}copyFrom(t){this.length!==t.length?this._data=new Uint32Array(t._data):this._data.set(t._data),this.length=t.length,this._combined={};for(let r in t._combined)this._combined[r]=t._combined[r];this._extendedAttrs={};for(let r in t._extendedAttrs)this._extendedAttrs[r]=t._extendedAttrs[r];this.isWrapped=t.isWrapped}clone(){let t=new e0(0);t._data=new Uint32Array(this._data),t.length=this.length;for(let r in this._combined)t._combined[r]=this._combined[r];for(let r in this._extendedAttrs)t._extendedAttrs[r]=this._extendedAttrs[r];return t.isWrapped=this.isWrapped,t}getTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*De+0]&4194303)return t+(this._data[t*De+0]>>22);return 0}getNoBgTrimmedLength(){for(let t=this.length-1;t>=0;--t)if(this._data[t*De+0]&4194303||this._data[t*De+2]&50331648)return t+(this._data[t*De+0]>>22);return 0}copyCellsFrom(t,r,n,o,a){let u=t._data;if(a)for(let p=o-1;p>=0;p--){for(let f=0;f<De;f++)this._data[(n+p)*De+f]=u[(r+p)*De+f];u[(r+p)*De+2]&268435456&&(this._extendedAttrs[n+p]=t._extendedAttrs[r+p])}else for(let p=0;p<o;p++){for(let f=0;f<De;f++)this._data[(n+p)*De+f]=u[(r+p)*De+f];u[(r+p)*De+2]&268435456&&(this._extendedAttrs[n+p]=t._extendedAttrs[r+p])}let d=Object.keys(t._combined);for(let p=0;p<d.length;p++){let f=parseInt(d[p],10);f>=r&&(this._combined[f-r+n]=t._combined[f])}}translateToString(t,r,n,o){r=r??0,n=n??this.length,t&&(n=Math.min(n,this.getTrimmedLength())),o&&(o.length=0);let a="";for(;r<n;){let u=this._data[r*De+0],d=u&2097151,p=u&2097152?this._combined[r]:d?Pi(d):ji;if(a+=p,o)for(let f=0;f<p.length;++f)o.push(r);r+=u>>22||1}return o&&o.push(r),a}};function qk(e,t,r,n,o,a){let u=[];for(let d=0;d<e.length-1;d++){let p=d,f=e.get(++p);if(!f.isWrapped)continue;let y=[e.get(d)];for(;p<e.length&&f.isWrapped;)y.push(f),f=e.get(++p);if(!a&&n>=d&&n<p){d+=y.length-1;continue}let v=0,w=bo(y,v,t),S=1,b=0;for(;S<y.length;){let k=bo(y,S,t),N=k-b,P=r-w,E=Math.min(N,P);y[v].copyCellsFrom(y[S],b,w,E,!1),w+=E,w===r&&(v++,w=0),b+=E,b===k&&(S++,b=0),w===0&&v!==0&&y[v-1].getWidth(r-1)===2&&(y[v].copyCellsFrom(y[v-1],r-1,w++,1,!1),y[v-1].setCell(r-1,o))}y[v].replaceCells(w,r,o);let x=0;for(let k=y.length-1;k>0&&(k>v||y[k].getTrimmedLength()===0);k--)x++;x>0&&(u.push(d+y.length-x),u.push(x)),d+=y.length-1}return u}function Yk(e,t){let r=[],n=0,o=t[n],a=0;for(let u=0;u<e.length;u++)if(o===u){let d=t[++n];e.onDeleteEmitter.fire({index:u-a,amount:d}),u+=d-1,a+=d,o=t[++n]}else r.push(u);return{layout:r,countRemoved:a}}function Gk(e,t){let r=[];for(let n=0;n<t.length;n++)r.push(e.get(t[n]));for(let n=0;n<r.length;n++)e.set(n,r[n]);e.length=t.length}function Xk(e,t,r){let n=[],o=e.map((p,f)=>bo(e,f,t)).reduce((p,f)=>p+f),a=0,u=0,d=0;for(;d<o;){if(o-d<r){n.push(o-d);break}a+=r;let p=bo(e,u,t);a>p&&(a-=p,u++);let f=e[u].getWidth(a-1)===2;f&&a--;let y=f?r-1:r;n.push(y),d+=y}return n}function bo(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();let n=!e[t].hasContent(r-1)&&e[t].getWidth(r-1)===1,o=e[t+1].getWidth(0)===2;return n&&o?r-1:r}var t0=class r0{constructor(t){this.line=t,this.isDisposed=!1,this._disposables=[],this._id=r0._nextId++,this._onDispose=this.register(new ae),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),ls(this._disposables),this._disposables.length=0)}register(t){return this._disposables.push(t),t}};t0._nextId=1;var Zk=t0,pt={},ss=pt.B;pt[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""};pt.A={"#":""};pt.B=void 0;pt[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""};pt.C=pt[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};pt.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""};pt.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""};pt.E=pt[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""};pt.H=pt[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""};pt["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""};var Xg=4294967295,Zg=class{constructor(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=lt.clone(),this.savedCharset=ss,this.markers=[],this._nullCell=dr.fromCharData([0,yv,1,0]),this._whitespaceCell=dr.fromCharData([0,ji,1,32]),this._isClearing=!1,this._memoryCleanupQueue=new Ra,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new Gg(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new ba),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new ba),this._whitespaceCell}getBlankLine(e,t){return new mo(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;let t=e+this._optionsService.rawOptions.scrollback;return t>Xg?Xg:t}fillViewportRows(e){if(this.lines.length===0){e===void 0&&(e=lt);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new Gg(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){let r=this.getNullCell(lt),n=0,o=this._getCorrectBufferLength(t);if(o>this.lines.maxLength&&(this.lines.maxLength=o),this.lines.length>0){if(this._cols<e)for(let u=0;u<this.lines.length;u++)n+=+this.lines.get(u).resize(e,r);let a=0;if(this._rows<t)for(let u=this._rows;u<t;u++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new mo(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+a+1?(this.ybase--,a++,this.ydisp>0&&this.ydisp--):this.lines.push(new mo(e,r)));else for(let u=this._rows;u>t;u--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(o<this.lines.maxLength){let u=this.lines.length-o;u>0&&(this.lines.trimStart(u),this.ybase=Math.max(this.ybase-u,0),this.ydisp=Math.max(this.ydisp-u,0),this.savedY=Math.max(this.savedY-u,0)),this.lines.maxLength=o}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),a&&(this.y+=a),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let a=0;a<this.lines.length;a++)n+=+this.lines.get(a).resize(e,r);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),n>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){let e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&e.backend==="conpty"&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,n=qk(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(lt),r);if(n.length>0){let o=Yk(this.lines,n);Gk(this.lines,o.layout),this._reflowLargerAdjustViewport(e,t,o.countRemoved)}}_reflowLargerAdjustViewport(e,t,r){let n=this.getNullCell(lt),o=r;for(;o-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new mo(e,n))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)}_reflowSmaller(e,t){let r=this._optionsService.rawOptions.reflowCursorLine,n=this.getNullCell(lt),o=[],a=0;for(let u=this.lines.length-1;u>=0;u--){let d=this.lines.get(u);if(!d||!d.isWrapped&&d.getTrimmedLength()<=e)continue;let p=[d];for(;d.isWrapped&&u>0;)d=this.lines.get(--u),p.unshift(d);if(!r){let E=this.ybase+this.y;if(E>=u&&E<u+p.length)continue}let f=p[p.length-1].getTrimmedLength(),y=Xk(p,this._cols,e),v=y.length-p.length,w;this.ybase===0&&this.y!==this.lines.length-1?w=Math.max(0,this.y-this.lines.maxLength+v):w=Math.max(0,this.lines.length-this.lines.maxLength+v);let S=[];for(let E=0;E<v;E++){let M=this.getBlankLine(lt,!0);S.push(M)}S.length>0&&(o.push({start:u+p.length+a,newLines:S}),a+=S.length),p.push(...S);let b=y.length-1,x=y[b];x===0&&(b--,x=y[b]);let k=p.length-v-1,N=f;for(;k>=0;){let E=Math.min(N,x);if(p[b]===void 0)break;if(p[b].copyCellsFrom(p[k],N-E,x-E,E,!0),x-=E,x===0&&(b--,x=y[b]),N-=E,N===0){k--;let M=Math.max(k,0);N=bo(p,M,this._cols)}}for(let E=0;E<p.length;E++)y[E]<e&&p[E].setCell(y[E],n);let P=v-w;for(;P-- >0;)this.ybase===0?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+a)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+v,this.ybase+t-1)}if(o.length>0){let u=[],d=[];for(let x=0;x<this.lines.length;x++)d.push(this.lines.get(x));let p=this.lines.length,f=p-1,y=0,v=o[y];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+a);let w=0;for(let x=Math.min(this.lines.maxLength-1,p+a-1);x>=0;x--)if(v&&v.start>f+w){for(let k=v.newLines.length-1;k>=0;k--)this.lines.set(x--,v.newLines[k]);x++,u.push({index:f+1,amount:v.newLines.length}),w+=v.newLines.length,v=o[++y]}else this.lines.set(x,d[f--]);let S=0;for(let x=u.length-1;x>=0;x--)u[x].index+=S,this.lines.onInsertEmitter.fire(u[x]),S+=u[x].amount;let b=Math.max(0,p+a-this.lines.maxLength);b>0&&this.lines.onTrimEmitter.fire(b)}}translateBufferLineToString(e,t,r=0,n){let o=this.lines.get(e);return o?o.translateToString(t,r,n):""}getWrappedRangeForLine(e){let t=e,r=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}}setupTabStops(e){for(e!=null?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(e==null&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(e==null&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose();this.markers.length=0,this._isClearing=!1}addMarker(e){let t=new Zk(e);return this.markers.push(t),t.register(this.lines.onTrim(r=>{t.line-=r,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(r=>{t.line>=r.index&&(t.line+=r.amount)})),t.register(this.lines.onDelete(r=>{t.line>=r.index&&t.line<r.index+r.amount&&t.dispose(),t.line>r.index&&(t.line-=r.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}},Qk=class extends je{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this._register(new ae),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this._register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this._register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new Zg(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new Zg(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}},i0=2,s0=1,ld=class extends je{constructor(e){super(),this.isUserScrolling=!1,this._onResize=this._register(new ae),this.onResize=this._onResize.event,this._onScroll=this._register(new ae),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,i0),this.rows=Math.max(e.rawOptions.rows||0,s0),this.buffers=this._register(new Qk(e,this)),this._register(this.buffers.onBufferActivate(t=>{this._onScroll.fire(t.activeBuffer.ydisp)}))}get buffer(){return this.buffers.active}resize(e,t){let r=this.cols!==e,n=this.rows!==t;this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t,colsChanged:r,rowsChanged:n})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,t=!1){let r=this.buffer,n;n=this._cachedBlankLine,(!n||n.length!==this.cols||n.getFg(0)!==e.fg||n.getBg(0)!==e.bg)&&(n=r.getBlankLine(e,t),this._cachedBlankLine=n),n.isWrapped=t;let o=r.ybase+r.scrollTop,a=r.ybase+r.scrollBottom;if(r.scrollTop===0){let u=r.lines.isFull;a===r.lines.length-1?u?r.lines.recycle().copyFrom(n):r.lines.push(n.clone()):r.lines.splice(a+1,0,n.clone()),u?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{let u=a-o+1;r.lines.shiftElements(o+1,u-1,-1),r.lines.set(a,n.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,t){let r=this.buffer;if(e<0){if(r.ydisp===0)return;this.isUserScrolling=!0}else e+r.ydisp>=r.ybase&&(this.isUserScrolling=!1);let n=r.ydisp;r.ydisp=Math.max(Math.min(r.ydisp+e,r.ybase),0),n!==r.ydisp&&(t||this._onScroll.fire(r.ydisp))}};ld=tt([he(0,Bt)],ld);var Hs={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnEraseInDisplay:!1,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},reflowCursorLine:!1,rescaleOverlappingGlyphs:!1,rightClickSelectsWord:Na,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRuler:{}},Jk=["normal","bold","100","200","300","400","500","600","700","800","900"],eE=class extends je{constructor(e){super(),this._onOptionChange=this._register(new ae),this.onOptionChange=this._onOptionChange.event;let t={...Hs};for(let r in e)if(r in t)try{let n=e[r];t[r]=this._sanitizeAndValidateOption(r,n)}catch(n){console.error(n)}this.rawOptions=t,this.options={...t},this._setupOptions(),this._register(qe(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(e,t){return this.onOptionChange(r=>{r===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(r=>{e.indexOf(r)!==-1&&t()})}_setupOptions(){let e=r=>{if(!(r in Hs))throw new Error(`No option with key "${r}"`);return this.rawOptions[r]},t=(r,n)=>{if(!(r in Hs))throw new Error(`No option with key "${r}"`);n=this._sanitizeAndValidateOption(r,n),this.rawOptions[r]!==n&&(this.rawOptions[r]=n,this._onOptionChange.fire(r))};for(let r in this.rawOptions){let n={get:e.bind(this,r),set:t.bind(this,r)};Object.defineProperty(this.options,r,n)}}_sanitizeAndValidateOption(e,t){switch(e){case"cursorStyle":if(t||(t=Hs[e]),!tE(t))throw new Error(`"${t}" is not a valid value for ${e}`);break;case"wordSeparator":t||(t=Hs[e]);break;case"fontWeight":case"fontWeightBold":if(typeof t=="number"&&1<=t&&t<=1e3)break;t=Jk.includes(t)?t:Hs[e];break;case"cursorWidth":t=Math.floor(t);case"lineHeight":case"tabStopWidth":if(t<1)throw new Error(`${e} cannot be less than 1, value: ${t}`);break;case"minimumContrastRatio":t=Math.max(1,Math.min(21,Math.round(t*10)/10));break;case"scrollback":if(t=Math.min(t,4294967295),t<0)throw new Error(`${e} cannot be less than 0, value: ${t}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(t<=0)throw new Error(`${e} cannot be less than or equal to 0, value: ${t}`);break;case"rows":case"cols":if(!t&&t!==0)throw new Error(`${e} must be numeric, value: ${t}`);break;case"windowsPty":t=t??{};break}return t}};function tE(e){return e==="block"||e==="underline"||e==="bar"}function go(e,t=5){if(typeof e!="object")return e;let r=Array.isArray(e)?[]:{};for(let n in e)r[n]=t<=1?e[n]:e[n]&&go(e[n],t-1);return r}var Qg=Object.freeze({insertMode:!1}),Jg=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,cursorBlink:void 0,cursorStyle:void 0,origin:!1,reverseWraparound:!1,sendFocus:!1,synchronizedOutput:!1,wraparound:!0}),ad=class extends je{constructor(e,t,r){super(),this._bufferService=e,this._logService=t,this._optionsService=r,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this._register(new ae),this.onData=this._onData.event,this._onUserInput=this._register(new ae),this.onUserInput=this._onUserInput.event,this._onBinary=this._register(new ae),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this._register(new ae),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=go(Qg),this.decPrivateModes=go(Jg)}reset(){this.modes=go(Qg),this.decPrivateModes=go(Jg)}triggerDataEvent(e,t=!1){if(this._optionsService.rawOptions.disableStdin)return;let r=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&r.ybase!==r.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug(`sending data "${e}"`),this._logService.trace("sending data (codes)",()=>e.split("").map(n=>n.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${e}"`),this._logService.trace("sending binary (codes)",()=>e.split("").map(t=>t.charCodeAt(0))),this._onBinary.fire(e))}};ad=tt([he(0,It),he(1,bv),he(2,Bt)],ad);var e_={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>e.button===4||e.action!==1?!1:(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>e.action!==32},DRAG:{events:23,restrict:e=>!(e.action===32&&e.button===3)},ANY:{events:31,restrict:e=>!0}};function hh(e,t){let r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return e.button===4?(r|=64,r|=e.action):(r|=e.button&3,e.button&4&&(r|=64),e.button&8&&(r|=128),e.action===32?r|=32:e.action===0&&!t&&(r|=3)),r}var dh=String.fromCharCode,t_={DEFAULT:e=>{let t=[hh(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":`\x1B[M${dh(t[0])}${dh(t[1])}${dh(t[2])}`},SGR:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${hh(e,!0)};${e.col};${e.row}${t}`},SGR_PIXELS:e=>{let t=e.action===0&&e.button!==4?"m":"M";return`\x1B[<${hh(e,!0)};${e.x};${e.y}${t}`}},cd=class extends je{constructor(e,t,r){super(),this._bufferService=e,this._coreService=t,this._optionsService=r,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._wheelPartialScroll=0,this._onProtocolChange=this._register(new ae),this.onProtocolChange=this._onProtocolChange.event;for(let n of Object.keys(e_))this.addProtocol(n,e_[n]);for(let n of Object.keys(t_))this.addEncoding(n,t_[n]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(e){if(!this._protocols[e])throw new Error(`unknown protocol "${e}"`);this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error(`unknown encoding "${e}"`);this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null,this._wheelPartialScroll=0}consumeWheelEvent(e,t,r){if(e.deltaY===0||e.shiftKey||t===void 0||r===void 0)return 0;let n=t/r,o=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(o/=n+0,Math.abs(e.deltaY)<50&&(o*=.3),this._wheelPartialScroll+=o,o=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._bufferService.rows),o}_applyScrollModifier(e,t){return t.altKey||t.ctrlKey||t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||e.button===4&&e.action===32||e.button===3&&e.action!==32||e.button!==4&&(e.action===2||e.action===3)||(e.col++,e.row++,e.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,e,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(e))return!1;let t=this._encodings[this._activeEncoding](e);return t&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(e&1),up:!!(e&2),drag:!!(e&4),move:!!(e&8),wheel:!!(e&16)}}_equalEvents(e,t,r){if(r){if(e.x!==t.x||e.y!==t.y)return!1}else if(e.col!==t.col||e.row!==t.row)return!1;return!(e.button!==t.button||e.action!==t.action||e.ctrl!==t.ctrl||e.alt!==t.alt||e.shift!==t.shift)}};cd=tt([he(0,It),he(1,fs),he(2,Bt)],cd);var fh=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],rE=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],dt;function iE(e,t){let r=0,n=t.length-1,o;if(e<t[0][0]||e>t[n][1])return!1;for(;n>=r;)if(o=r+n>>1,e>t[o][1])r=o+1;else if(e<t[o][0])n=o-1;else return!0;return!1}var sE=class{constructor(){if(this.version="6",!dt){dt=new Uint8Array(65536),dt.fill(1),dt[0]=0,dt.fill(0,1,32),dt.fill(0,127,160),dt.fill(2,4352,4448),dt[9001]=2,dt[9002]=2,dt.fill(2,11904,42192),dt[12351]=1,dt.fill(2,44032,55204),dt.fill(2,63744,64256),dt.fill(2,65040,65050),dt.fill(2,65072,65136),dt.fill(2,65280,65377),dt.fill(2,65504,65511);for(let e=0;e<fh.length;++e)dt.fill(0,fh[e][0],fh[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?dt[e]:iE(e,rE)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}charProperties(e,t){let r=this.wcwidth(e),n=r===0&&t!==0;if(n){let o=ns.extractWidth(t);o===0?n=!1:o>r&&(r=o)}return ns.createPropertyValue(0,r,n)}},ns=class va{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new ae,this.onChange=this._onChange.event;let t=new sE;this.register(t),this._active=t.version,this._activeProvider=t}static extractShouldJoin(t){return(t&1)!==0}static extractWidth(t){return t>>1&3}static extractCharKind(t){return t>>3}static createPropertyValue(t,r,n=!1){return(t&16777215)<<3|(r&3)<<1|(n?1:0)}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(t){if(!this._providers[t])throw new Error(`unknown Unicode version "${t}"`);this._active=t,this._activeProvider=this._providers[t],this._onChange.fire(t)}register(t){this._providers[t.version]=t}wcwidth(t){return this._activeProvider.wcwidth(t)}getStringCellWidth(t){let r=0,n=0,o=t.length;for(let a=0;a<o;++a){let u=t.charCodeAt(a);if(55296<=u&&u<=56319){if(++a>=o)return r+this.wcwidth(u);let f=t.charCodeAt(a);56320<=f&&f<=57343?u=(u-55296)*1024+f-56320+65536:r+=this.wcwidth(f)}let d=this.charProperties(u,n),p=va.extractWidth(d);va.extractShouldJoin(d)&&(p-=va.extractWidth(n)),r+=p,n=d}return r}charProperties(t,r){return this._activeProvider.charProperties(t,r)}},nE=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}};function r_(e){let t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1)?.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&t&&(r.isWrapped=t[3]!==0&&t[3]!==32)}var io=2147483647,oE=256,n0=class ud{constructor(t=32,r=32){if(this.maxLength=t,this.maxSubParamsLength=r,r>oE)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(t),this.length=0,this._subParams=new Int32Array(r),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(t),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(t){let r=new ud;if(!t.length)return r;for(let n=Array.isArray(t[0])?1:0;n<t.length;++n){let o=t[n];if(Array.isArray(o))for(let a=0;a<o.length;++a)r.addSubParam(o[a]);else r.addParam(o)}return r}clone(){let t=new ud(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t}toArray(){let t=[];for(let r=0;r<this.length;++r){t.push(this.params[r]);let n=this._subParamsIdx[r]>>8,o=this._subParamsIdx[r]&255;o-n>0&&t.push(Array.prototype.slice.call(this._subParams,n,o))}return t}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(t){if(this._digitIsSub=!1,this.length>=this.maxLength){this._rejectDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=t>io?io:t}addSubParam(t){if(this._digitIsSub=!0,!!this.length){if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength){this._rejectSubDigits=!0;return}if(t<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=t>io?io:t,this._subParamsIdx[this.length-1]++}}hasSubParams(t){return(this._subParamsIdx[t]&255)-(this._subParamsIdx[t]>>8)>0}getSubParams(t){let r=this._subParamsIdx[t]>>8,n=this._subParamsIdx[t]&255;return n-r>0?this._subParams.subarray(r,n):null}getSubParamsAll(){let t={};for(let r=0;r<this.length;++r){let n=this._subParamsIdx[r]>>8,o=this._subParamsIdx[r]&255;o-n>0&&(t[r]=this._subParams.slice(n,o))}return t}addDigit(t){let r;if(this._rejectDigits||!(r=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let n=this._digitIsSub?this._subParams:this.params,o=n[r-1];n[r-1]=~o?Math.min(o*10+t,io):t}},so=[],lE=class{constructor(){this._state=0,this._active=so,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=so}reset(){if(this._state===2)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=so,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||so,!this._active.length)this._handlerFb(this._id,"START");else for(let e=this._active.length-1;e>=0;e--)this._active[e].start()}_put(e,t,r){if(!this._active.length)this._handlerFb(this._id,"PUT",$a(e,t,r));else for(let n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,r)}start(){this.reset(),this._state=1}put(e,t,r){if(this._state!==3){if(this._state===1)for(;t<r;){let n=e[t++];if(n===59){this._state=2,this._start();break}if(n<48||57<n){this._state=3;return}this._id===-1&&(this._id=0),this._id=this._id*10+n-48}this._state===2&&r-t>0&&this._put(e,t,r)}}end(e,t=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),!this._active.length)this._handlerFb(this._id,"END",e);else{let r=!1,n=this._active.length-1,o=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,r=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&r===!1){for(;n>=0&&(r=this._active[n].end(e),r!==!0);n--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,r;n--}for(;n>=0;n--)if(r=this._active[n].end(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,r}this._active=so,this._id=-1,this._state=0}}},Qt=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=$a(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(r=>(this._data="",this._hitLimit=!1,r));return this._data="",this._hitLimit=!1,t}},no=[],aE=class{constructor(){this._handlers=Object.create(null),this._active=no,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=no}registerHandler(e,t){this._handlers[e]===void 0&&(this._handlers[e]=[]);let r=this._handlers[e];return r.push(t),{dispose:()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=no,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||no,!this._active.length)this._handlerFb(this._ident,"HOOK",t);else for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(t)}put(e,t,r){if(!this._active.length)this._handlerFb(this._ident,"PUT",$a(e,t,r));else for(let n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,r)}unhook(e,t=!0){if(!this._active.length)this._handlerFb(this._ident,"UNHOOK",e);else{let r=!1,n=this._active.length-1,o=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,r=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&r===!1){for(;n>=0&&(r=this._active[n].unhook(e),r!==!0);n--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,r;n--}for(;n>=0;n--)if(r=this._active[n].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,r}this._active=no,this._ident=0}},_o=new n0;_o.addParam(0);var i_=class{constructor(e){this._handler=e,this._data="",this._params=_o,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():_o,this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=$a(e,t,r),this._data.length>1e7&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(r=>(this._params=_o,this._data="",this._hitLimit=!1,r));return this._params=_o,this._data="",this._hitLimit=!1,t}},cE=class{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,r,n){this.table[t<<8|e]=r<<4|n}addMany(e,t,r,n){for(let o=0;o<e.length;o++)this.table[t<<8|e[o]]=r<<4|n}},hr=160,uE=(function(){let e=new cE(4095),t=Array.apply(null,Array(256)).map((d,p)=>p),r=(d,p)=>t.slice(d,p),n=r(32,127),o=r(0,24);o.push(25),o.push.apply(o,r(28,32));let a=r(0,14),u;e.setDefault(1,0),e.addMany(n,0,2,0);for(u in a)e.addMany([24,26,153,154],u,3,0),e.addMany(r(128,144),u,3,0),e.addMany(r(144,152),u,3,0),e.add(156,u,0,0),e.add(27,u,11,1),e.add(157,u,4,8),e.addMany([152,158,159],u,0,7),e.add(155,u,11,3),e.add(144,u,11,9);return e.addMany(o,0,3,0),e.addMany(o,1,3,1),e.add(127,1,0,1),e.addMany(o,8,0,8),e.addMany(o,3,3,3),e.add(127,3,0,3),e.addMany(o,4,3,4),e.add(127,4,0,4),e.addMany(o,6,3,6),e.addMany(o,5,3,5),e.add(127,5,0,5),e.addMany(o,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(n,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(n,7,0,7),e.addMany(o,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(o,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(o,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(o,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(o,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(o,13,13,13),e.addMany(n,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(hr,0,2,0),e.add(hr,8,5,8),e.add(hr,6,0,6),e.add(hr,11,0,11),e.add(hr,13,13,13),e})(),hE=class extends je{constructor(e=uE){super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new n0,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(t,r,n)=>{},this._executeHandlerFb=t=>{},this._csiHandlerFb=(t,r)=>{},this._escHandlerFb=t=>{},this._errorHandlerFb=t=>t,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this._register(qe(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this._register(new lE),this._dcsParser=this._register(new aE),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e,t=[64,126]){let r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(r=e.prefix.charCodeAt(0),r&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let o=0;o<e.intermediates.length;++o){let a=e.intermediates.charCodeAt(o);if(32>a||a>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=a}}if(e.final.length!==1)throw new Error("final must be a single byte");let n=e.final.charCodeAt(0);if(t[0]>n||n>t[1])throw new Error(`final must be in range ${t[0]} .. ${t[1]}`);return r<<=8,r|=n,r}identToString(e){let t=[];for(;e;)t.push(String.fromCharCode(e&255)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){let r=this._identifier(e,[48,126]);this._escHandlers[r]===void 0&&(this._escHandlers[r]=[]);let n=this._escHandlers[r];return n.push(t),{dispose:()=>{let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){let r=this._identifier(e);this._csiHandlers[r]===void 0&&(this._csiHandlers[r]=[]);let n=this._csiHandlers[r];return n.push(t),{dispose:()=>{let o=n.indexOf(t);o!==-1&&n.splice(o,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,r,n,o){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=n,this._parseStack.chunkPos=o}parse(e,t,r){let n=0,o=0,a=0,u;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,a=this._parseStack.chunkPos+1;else{if(r===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let d=this._parseStack.handlers,p=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(r===!1&&p>-1){for(;p>=0&&(u=d[p](this._params),u!==!0);p--)if(u instanceof Promise)return this._parseStack.handlerPos=p,u}this._parseStack.handlers=[];break;case 4:if(r===!1&&p>-1){for(;p>=0&&(u=d[p](),u!==!0);p--)if(u instanceof Promise)return this._parseStack.handlerPos=p,u}this._parseStack.handlers=[];break;case 6:if(n=e[this._parseStack.chunkPos],u=this._dcsParser.unhook(n!==24&&n!==26,r),u)return u;n===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(n=e[this._parseStack.chunkPos],u=this._oscParser.end(n!==24&&n!==26,r),u)return u;n===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break}this._parseStack.state=0,a=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=this._parseStack.transition&15}for(let d=a;d<t;++d){switch(n=e[d],o=this._transitions.table[this.currentState<<8|(n<160?n:hr)],o>>4){case 2:for(let w=d+1;;++w){if(w>=t||(n=e[w])<32||n>126&&n<hr){this._printHandler(e,d,w),d=w-1;break}if(++w>=t||(n=e[w])<32||n>126&&n<hr){this._printHandler(e,d,w),d=w-1;break}if(++w>=t||(n=e[w])<32||n>126&&n<hr){this._printHandler(e,d,w),d=w-1;break}if(++w>=t||(n=e[w])<32||n>126&&n<hr){this._printHandler(e,d,w),d=w-1;break}}break;case 3:this._executeHandlers[n]?this._executeHandlers[n]():this._executeHandlerFb(n),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:d,code:n,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let p=this._csiHandlers[this._collect<<8|n],f=p?p.length-1:-1;for(;f>=0&&(u=p[f](this._params),u!==!0);f--)if(u instanceof Promise)return this._preserveStack(3,p,f,o,d),u;f<0&&this._csiHandlerFb(this._collect<<8|n,this._params),this.precedingJoinState=0;break;case 8:do switch(n){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(n-48)}while(++d<t&&(n=e[d])>47&&n<60);d--;break;case 9:this._collect<<=8,this._collect|=n;break;case 10:let y=this._escHandlers[this._collect<<8|n],v=y?y.length-1:-1;for(;v>=0&&(u=y[v](),u!==!0);v--)if(u instanceof Promise)return this._preserveStack(4,y,v,o,d),u;v<0&&this._escHandlerFb(this._collect<<8|n),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|n,this._params);break;case 13:for(let w=d+1;;++w)if(w>=t||(n=e[w])===24||n===26||n===27||n>127&&n<hr){this._dcsParser.put(e,d,w),d=w-1;break}break;case 14:if(u=this._dcsParser.unhook(n!==24&&n!==26),u)return this._preserveStack(6,[],0,o,d),u;n===27&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let w=d+1;;w++)if(w>=t||(n=e[w])<32||n>127&&n<hr){this._oscParser.put(e,d,w),d=w-1;break}break;case 6:if(u=this._oscParser.end(n!==24&&n!==26),u)return this._preserveStack(5,[],0,o,d),u;n===27&&(o|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break}this.currentState=o&15}}},dE=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,fE=/^[\da-f]+$/;function s_(e){if(!e)return;let t=e.toLowerCase();if(t.indexOf("rgb:")===0){t=t.slice(4);let r=dE.exec(t);if(r){let n=r[1]?15:r[4]?255:r[7]?4095:65535;return[Math.round(parseInt(r[1]||r[4]||r[7]||r[10],16)/n*255),Math.round(parseInt(r[2]||r[5]||r[8]||r[11],16)/n*255),Math.round(parseInt(r[3]||r[6]||r[9]||r[12],16)/n*255)]}}else if(t.indexOf("#")===0&&(t=t.slice(1),fE.exec(t)&&[3,6,9,12].includes(t.length))){let r=t.length/3,n=[0,0,0];for(let o=0;o<3;++o){let a=parseInt(t.slice(r*o,r*o+r),16);n[o]=r===1?a<<4:r===2?a:r===3?a>>4:a>>8}return n}}function ph(e,t){let r=e.toString(16),n=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return n;case 12:return(n+n).slice(0,3);default:return n+n}}function pE(e,t=16){let[r,n,o]=e;return`rgb:${ph(r,t)}/${ph(n,t)}/${ph(o,t)}`}var mE={"(":0,")":1,"*":2,"+":3,"-":1,".":2},Ei=131072,n_=10;function o_(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var l_=5e3,a_=0,gE=class extends je{constructor(e,t,r,n,o,a,u,d,p=new hE){super(),this._bufferService=e,this._charsetService=t,this._coreService=r,this._logService=n,this._optionsService=o,this._oscLinkService=a,this._coreMouseService=u,this._unicodeService=d,this._parser=p,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new Lb,this._utf8Decoder=new Ob,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=lt.clone(),this._eraseAttrDataInternal=lt.clone(),this._onRequestBell=this._register(new ae),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this._register(new ae),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this._register(new ae),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this._register(new ae),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this._register(new ae),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this._register(new ae),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this._register(new ae),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this._register(new ae),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this._register(new ae),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this._register(new ae),this.onLineFeed=this._onLineFeed.event,this._onScroll=this._register(new ae),this.onScroll=this._onScroll.event,this._onTitleChange=this._register(new ae),this.onTitleChange=this._onTitleChange.event,this._onColor=this._register(new ae),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this._register(this._parser),this._dirtyRowTracker=new hd(this._bufferService),this._activeBuffer=this._bufferService.buffer,this._register(this._bufferService.buffers.onBufferActivate(f=>this._activeBuffer=f.activeBuffer)),this._parser.setCsiHandlerFallback((f,y)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(f),params:y.toArray()})}),this._parser.setEscHandlerFallback(f=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(f)})}),this._parser.setExecuteHandlerFallback(f=>{this._logService.debug("Unknown EXECUTE code: ",{code:f})}),this._parser.setOscHandlerFallback((f,y,v)=>{this._logService.debug("Unknown OSC code: ",{identifier:f,action:y,data:v})}),this._parser.setDcsHandlerFallback((f,y,v)=>{y==="HOOK"&&(v=v.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(f),action:y,payload:v})}),this._parser.setPrintHandler((f,y,v)=>this.print(f,y,v)),this._parser.registerCsiHandler({final:"@"},f=>this.insertChars(f)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},f=>this.scrollLeft(f)),this._parser.registerCsiHandler({final:"A"},f=>this.cursorUp(f)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},f=>this.scrollRight(f)),this._parser.registerCsiHandler({final:"B"},f=>this.cursorDown(f)),this._parser.registerCsiHandler({final:"C"},f=>this.cursorForward(f)),this._parser.registerCsiHandler({final:"D"},f=>this.cursorBackward(f)),this._parser.registerCsiHandler({final:"E"},f=>this.cursorNextLine(f)),this._parser.registerCsiHandler({final:"F"},f=>this.cursorPrecedingLine(f)),this._parser.registerCsiHandler({final:"G"},f=>this.cursorCharAbsolute(f)),this._parser.registerCsiHandler({final:"H"},f=>this.cursorPosition(f)),this._parser.registerCsiHandler({final:"I"},f=>this.cursorForwardTab(f)),this._parser.registerCsiHandler({final:"J"},f=>this.eraseInDisplay(f,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},f=>this.eraseInDisplay(f,!0)),this._parser.registerCsiHandler({final:"K"},f=>this.eraseInLine(f,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},f=>this.eraseInLine(f,!0)),this._parser.registerCsiHandler({final:"L"},f=>this.insertLines(f)),this._parser.registerCsiHandler({final:"M"},f=>this.deleteLines(f)),this._parser.registerCsiHandler({final:"P"},f=>this.deleteChars(f)),this._parser.registerCsiHandler({final:"S"},f=>this.scrollUp(f)),this._parser.registerCsiHandler({final:"T"},f=>this.scrollDown(f)),this._parser.registerCsiHandler({final:"X"},f=>this.eraseChars(f)),this._parser.registerCsiHandler({final:"Z"},f=>this.cursorBackwardTab(f)),this._parser.registerCsiHandler({final:"`"},f=>this.charPosAbsolute(f)),this._parser.registerCsiHandler({final:"a"},f=>this.hPositionRelative(f)),this._parser.registerCsiHandler({final:"b"},f=>this.repeatPrecedingCharacter(f)),this._parser.registerCsiHandler({final:"c"},f=>this.sendDeviceAttributesPrimary(f)),this._parser.registerCsiHandler({prefix:">",final:"c"},f=>this.sendDeviceAttributesSecondary(f)),this._parser.registerCsiHandler({final:"d"},f=>this.linePosAbsolute(f)),this._parser.registerCsiHandler({final:"e"},f=>this.vPositionRelative(f)),this._parser.registerCsiHandler({final:"f"},f=>this.hVPosition(f)),this._parser.registerCsiHandler({final:"g"},f=>this.tabClear(f)),this._parser.registerCsiHandler({final:"h"},f=>this.setMode(f)),this._parser.registerCsiHandler({prefix:"?",final:"h"},f=>this.setModePrivate(f)),this._parser.registerCsiHandler({final:"l"},f=>this.resetMode(f)),this._parser.registerCsiHandler({prefix:"?",final:"l"},f=>this.resetModePrivate(f)),this._parser.registerCsiHandler({final:"m"},f=>this.charAttributes(f)),this._parser.registerCsiHandler({final:"n"},f=>this.deviceStatus(f)),this._parser.registerCsiHandler({prefix:"?",final:"n"},f=>this.deviceStatusPrivate(f)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},f=>this.softReset(f)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},f=>this.setCursorStyle(f)),this._parser.registerCsiHandler({final:"r"},f=>this.setScrollRegion(f)),this._parser.registerCsiHandler({final:"s"},f=>this.saveCursor(f)),this._parser.registerCsiHandler({final:"t"},f=>this.windowOptions(f)),this._parser.registerCsiHandler({final:"u"},f=>this.restoreCursor(f)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},f=>this.insertColumns(f)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},f=>this.deleteColumns(f)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},f=>this.selectProtected(f)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},f=>this.requestMode(f,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},f=>this.requestMode(f,!1)),this._parser.setExecuteHandler(G.BEL,()=>this.bell()),this._parser.setExecuteHandler(G.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(G.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(G.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(G.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(G.BS,()=>this.backspace()),this._parser.setExecuteHandler(G.HT,()=>this.tab()),this._parser.setExecuteHandler(G.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(G.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(ga.IND,()=>this.index()),this._parser.setExecuteHandler(ga.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(ga.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new Qt(f=>(this.setTitle(f),this.setIconName(f),!0))),this._parser.registerOscHandler(1,new Qt(f=>this.setIconName(f))),this._parser.registerOscHandler(2,new Qt(f=>this.setTitle(f))),this._parser.registerOscHandler(4,new Qt(f=>this.setOrReportIndexedColor(f))),this._parser.registerOscHandler(8,new Qt(f=>this.setHyperlink(f))),this._parser.registerOscHandler(10,new Qt(f=>this.setOrReportFgColor(f))),this._parser.registerOscHandler(11,new Qt(f=>this.setOrReportBgColor(f))),this._parser.registerOscHandler(12,new Qt(f=>this.setOrReportCursorColor(f))),this._parser.registerOscHandler(104,new Qt(f=>this.restoreIndexedColor(f))),this._parser.registerOscHandler(110,new Qt(f=>this.restoreFgColor(f))),this._parser.registerOscHandler(111,new Qt(f=>this.restoreBgColor(f))),this._parser.registerOscHandler(112,new Qt(f=>this.restoreCursorColor(f))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let f in pt)this._parser.registerEscHandler({intermediates:"(",final:f},()=>this.selectCharset("("+f)),this._parser.registerEscHandler({intermediates:")",final:f},()=>this.selectCharset(")"+f)),this._parser.registerEscHandler({intermediates:"*",final:f},()=>this.selectCharset("*"+f)),this._parser.registerEscHandler({intermediates:"+",final:f},()=>this.selectCharset("+"+f)),this._parser.registerEscHandler({intermediates:"-",final:f},()=>this.selectCharset("-"+f)),this._parser.registerEscHandler({intermediates:".",final:f},()=>this.selectCharset("."+f)),this._parser.registerEscHandler({intermediates:"/",final:f},()=>this.selectCharset("/"+f));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(f=>(this._logService.error("Parsing error: ",f),f)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new i_((f,y)=>this.requestStatusString(f,y)))}getAttrData(){return this._curAttrData}_preserveStack(e,t,r,n){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=n}_logSlowResolvingAsync(e){this._logService.logLevel<=3&&Promise.race([e,new Promise((t,r)=>setTimeout(()=>r("#SLOW_TIMEOUT"),l_))]).catch(t=>{if(t!=="#SLOW_TIMEOUT")throw t;console.warn(`async parser handler taking longer than ${l_} ms`)})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let r,n=this._activeBuffer.x,o=this._activeBuffer.y,a=0,u=this._parseStack.paused;if(u){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;n=this._parseStack.cursorStartX,o=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>Ei&&(a=this._parseStack.position+Ei)}if(this._logService.logLevel<=1&&this._logService.debug(`parsing data ${typeof e=="string"?` "${e}"`:` "${Array.prototype.map.call(e,f=>String.fromCharCode(f)).join("")}"`}`),this._logService.logLevel===0&&this._logService.trace("parsing data (codes)",typeof e=="string"?e.split("").map(f=>f.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<Ei&&(this._parseBuffer=new Uint32Array(Math.min(e.length,Ei))),u||this._dirtyRowTracker.clearRange(),e.length>Ei)for(let f=a;f<e.length;f+=Ei){let y=f+Ei<e.length?f+Ei:e.length,v=typeof e=="string"?this._stringDecoder.decode(e.substring(f,y),this._parseBuffer):this._utf8Decoder.decode(e.subarray(f,y),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,v))return this._preserveStack(n,o,v,f),this._logSlowResolvingAsync(r),r}else if(!u){let f=typeof e=="string"?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,f))return this._preserveStack(n,o,f,0),this._logSlowResolvingAsync(r),r}(this._activeBuffer.x!==n||this._activeBuffer.y!==o)&&this._onCursorMove.fire();let d=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),p=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);p<this._bufferService.rows&&this._onRequestRefreshRows.fire({start:Math.min(p,this._bufferService.rows-1),end:Math.min(d,this._bufferService.rows-1)})}print(e,t,r){let n,o,a=this._charsetService.charset,u=this._optionsService.rawOptions.screenReaderMode,d=this._bufferService.cols,p=this._coreService.decPrivateModes.wraparound,f=this._coreService.modes.insertMode,y=this._curAttrData,v=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&v.getWidth(this._activeBuffer.x-1)===2&&v.setCellFromCodepoint(this._activeBuffer.x-1,0,1,y);let w=this._parser.precedingJoinState;for(let S=t;S<r;++S){if(n=e[S],n<127&&a){let N=a[String.fromCharCode(n)];N&&(n=N.charCodeAt(0))}let b=this._unicodeService.charProperties(n,w);o=ns.extractWidth(b);let x=ns.extractShouldJoin(b),k=x?ns.extractWidth(w):0;if(w=b,u&&this._onA11yChar.fire(Pi(n)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+o-k>d){if(p){let N=v,P=this._activeBuffer.x-k;for(this._activeBuffer.x=k,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),v=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),k>0&&v instanceof mo&&v.copyCellsFrom(N,P,0,k,!1);P<d;)N.setCellFromCodepoint(P++,0,1,y)}else if(this._activeBuffer.x=d-1,o===2)continue}if(x&&this._activeBuffer.x){let N=v.getWidth(this._activeBuffer.x-1)?1:2;v.addCodepointToCell(this._activeBuffer.x-N,n,o);for(let P=o-k;--P>=0;)v.setCellFromCodepoint(this._activeBuffer.x++,0,0,y);continue}if(f&&(v.insertCells(this._activeBuffer.x,o-k,this._activeBuffer.getNullCell(y)),v.getWidth(d-1)===2&&v.setCellFromCodepoint(d-1,0,1,y)),v.setCellFromCodepoint(this._activeBuffer.x++,n,o,y),o>0)for(;--o;)v.setCellFromCodepoint(this._activeBuffer.x++,0,0,y)}this._parser.precedingJoinState=w,this._activeBuffer.x<d&&r-t>0&&v.getWidth(this._activeBuffer.x)===0&&!v.hasContent(this._activeBuffer.x)&&v.setCellFromCodepoint(this._activeBuffer.x,0,1,y),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return e.final==="t"&&!e.prefix&&!e.intermediates?this._parser.registerCsiHandler(e,r=>o_(r.params[0],this._optionsService.rawOptions.windowOptions)?t(r):!0):this._parser.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new i_(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new Qt(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);e.hasWidth(this._activeBuffer.x)&&!e.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(e=this._bufferService.cols-1){this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){let t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){let t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){let t=e.params[0];return t===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:t===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){let t=e.params[0];return t===1&&(this._curAttrData.bg|=536870912),(t===2||t===0)&&(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,r,n=!1,o=!1){let a=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);a.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),o),n&&(a.isWrapped=!1)}_resetBufferLine(e,t=!1){let r=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);r&&(r.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),r.isWrapped=!1)}eraseInDisplay(e,t=!1){this._restrictCursor(this._bufferService.cols);let r;switch(e.params[0]){case 0:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);r<this._bufferService.rows;r++)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(r);break;case 1:for(r=this._activeBuffer.y,this._dirtyRowTracker.markDirty(r),this._eraseInBufferLine(r,0,this._activeBuffer.x+1,!0,t),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(r+1).isWrapped=!1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0);break;case 2:if(this._optionsService.rawOptions.scrollOnEraseInDisplay){for(r=this._bufferService.rows,this._dirtyRowTracker.markRangeDirty(0,r-1);r--&&!this._activeBuffer.lines.get(this._activeBuffer.ybase+r)?.getTrimmedLength(););for(;r>=0;r--)this._bufferService.scroll(this._eraseAttrData())}else{for(r=this._bufferService.rows,this._dirtyRowTracker.markDirty(r-1);r--;)this._resetBufferLine(r,t);this._dirtyRowTracker.markDirty(0)}break;case 3:let n=this._activeBuffer.lines.length-this._bufferService.rows;n>0&&(this._activeBuffer.lines.trimStart(n),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-n,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-n,0),this._onScroll.fire(0));break}return!0}eraseInLine(e,t=!1){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t);break}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,n=this._bufferService.rows-1-this._activeBuffer.scrollBottom,o=this._bufferService.rows-1+this._activeBuffer.ybase-n+1;for(;t--;)this._activeBuffer.lines.splice(o-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let r=this._activeBuffer.ybase+this._activeBuffer.y,n;for(n=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-n;t--;)this._activeBuffer.lines.splice(r,1),this._activeBuffer.lines.splice(n,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(lt));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);n.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);n.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData())),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);n.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){let n=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);n.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData())),n.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();let t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){let t=this._parser.precedingJoinState;if(!t)return!0;let r=e.params[0]||1,n=ns.extractWidth(t),o=this._activeBuffer.x-n,a=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(o),u=new Uint32Array(a.length*r),d=0;for(let f=0;f<a.length;){let y=a.codePointAt(f)||0;u[d++]=y,f+=y>65535?2:1}let p=d;for(let f=1;f<r;++f)u.copyWithin(p,0,d),p+=d;return this.print(u,0,p),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(G.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(G.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(G.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(G.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(G.ESC+"[>83;40003;0c")),!0}_is(e){return(this._optionsService.rawOptions.termName+"").indexOf(e)===0}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0;break}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,ss),this._charsetService.setgCharset(1,ss),this._charsetService.setgCharset(2,ss),this._charsetService.setgCharset(3,ss);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!0;break}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1;break}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),e.params[t]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(void 0),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1;break;case 2026:this._coreService.decPrivateModes.synchronizedOutput=!1,this._onRequestRefreshRows.fire(void 0);break}return!0}requestMode(e,t){let r;(x=>(x[x.NOT_RECOGNIZED=0]="NOT_RECOGNIZED",x[x.SET=1]="SET",x[x.RESET=2]="RESET",x[x.PERMANENTLY_SET=3]="PERMANENTLY_SET",x[x.PERMANENTLY_RESET=4]="PERMANENTLY_RESET"))(r||={});let n=this._coreService.decPrivateModes,{activeProtocol:o,activeEncoding:a}=this._coreMouseService,u=this._coreService,{buffers:d,cols:p}=this._bufferService,{active:f,alt:y}=d,v=this._optionsService.rawOptions,w=(x,k)=>(u.triggerDataEvent(`${G.ESC}[${t?"":"?"}${x};${k}$y`),!0),S=x=>x?1:2,b=e.params[0];return t?b===2?w(b,4):b===4?w(b,S(u.modes.insertMode)):b===12?w(b,3):b===20?w(b,S(v.convertEol)):w(b,0):b===1?w(b,S(n.applicationCursorKeys)):b===3?w(b,v.windowOptions.setWinLines?p===80?2:p===132?1:0:0):b===6?w(b,S(n.origin)):b===7?w(b,S(n.wraparound)):b===8?w(b,3):b===9?w(b,S(o==="X10")):b===12?w(b,S(v.cursorBlink)):b===25?w(b,S(!u.isCursorHidden)):b===45?w(b,S(n.reverseWraparound)):b===66?w(b,S(n.applicationKeypad)):b===67?w(b,4):b===1e3?w(b,S(o==="VT200")):b===1002?w(b,S(o==="DRAG")):b===1003?w(b,S(o==="ANY")):b===1004?w(b,S(n.sendFocus)):b===1005?w(b,4):b===1006?w(b,S(a==="SGR")):b===1015?w(b,4):b===1016?w(b,S(a==="SGR_PIXELS")):b===1048?w(b,1):b===47||b===1047||b===1049?w(b,S(f===y)):b===2004?w(b,S(n.bracketedPasteMode)):b===2026?w(b,S(n.synchronizedOutput)):w(b,0)}_updateAttrColor(e,t,r,n,o){return t===2?(e|=50331648,e&=-16777216,e|=Po.fromColorRGB([r,n,o])):t===5&&(e&=-50331904,e|=33554432|r&255),e}_extractColor(e,t,r){let n=[0,0,-1,0,0,0],o=0,a=0;do{if(n[a+o]=e.params[t+a],e.hasSubParams(t+a)){let u=e.getSubParams(t+a),d=0;do n[1]===5&&(o=1),n[a+d+1+o]=u[d];while(++d<u.length&&d+a+1+o<n.length);break}if(n[1]===5&&a+o>=2||n[1]===2&&a+o>=5)break;n[1]&&(o=1)}while(++a+t<e.length&&a+o<n.length);for(let u=2;u<n.length;++u)n[u]===-1&&(n[u]=0);switch(n[0]){case 38:r.fg=this._updateAttrColor(r.fg,n[1],n[3],n[4],n[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,n[1],n[3],n[4],n[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,n[1],n[3],n[4],n[5])}return a}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,e===0&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=lt.fg,e.bg=lt.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(e.length===1&&e.params[0]===0)return this._processSGR0(this._curAttrData),!0;let t=e.length,r,n=this._curAttrData;for(let o=0;o<t;o++)r=e.params[o],r>=30&&r<=37?(n.fg&=-50331904,n.fg|=16777216|r-30):r>=40&&r<=47?(n.bg&=-50331904,n.bg|=16777216|r-40):r>=90&&r<=97?(n.fg&=-50331904,n.fg|=16777216|r-90|8):r>=100&&r<=107?(n.bg&=-50331904,n.bg|=16777216|r-100|8):r===0?this._processSGR0(n):r===1?n.fg|=134217728:r===3?n.bg|=67108864:r===4?(n.fg|=268435456,this._processUnderline(e.hasSubParams(o)?e.getSubParams(o)[0]:1,n)):r===5?n.fg|=536870912:r===7?n.fg|=67108864:r===8?n.fg|=1073741824:r===9?n.fg|=2147483648:r===2?n.bg|=134217728:r===21?this._processUnderline(2,n):r===22?(n.fg&=-134217729,n.bg&=-134217729):r===23?n.bg&=-67108865:r===24?(n.fg&=-268435457,this._processUnderline(0,n)):r===25?n.fg&=-536870913:r===27?n.fg&=-67108865:r===28?n.fg&=-1073741825:r===29?n.fg&=2147483647:r===39?(n.fg&=-67108864,n.fg|=lt.fg&16777215):r===49?(n.bg&=-67108864,n.bg|=lt.bg&16777215):r===38||r===48||r===58?o+=this._extractColor(e,o,n):r===53?n.bg|=1073741824:r===55?n.bg&=-1073741825:r===59?(n.extended=n.extended.clone(),n.extended.underlineColor=-1,n.updateExtended()):r===100?(n.fg&=-67108864,n.fg|=lt.fg&16777215,n.bg&=-67108864,n.bg|=lt.bg&16777215):this._logService.debug("Unknown SGR attribute: %d.",r);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(`${G.ESC}[0n`);break;case 6:let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${G.ESC}[${t};${r}R`);break}return!0}deviceStatusPrivate(e){switch(e.params[0]){case 6:let t=this._activeBuffer.y+1,r=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${G.ESC}[?${t};${r}R`);break}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=lt.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){let t=e.length===0?1:e.params[0];if(t===0)this._coreService.decPrivateModes.cursorStyle=void 0,this._coreService.decPrivateModes.cursorBlink=void 0;else{switch(t){case 1:case 2:this._coreService.decPrivateModes.cursorStyle="block";break;case 3:case 4:this._coreService.decPrivateModes.cursorStyle="underline";break;case 5:case 6:this._coreService.decPrivateModes.cursorStyle="bar";break}let r=t%2===1;this._coreService.decPrivateModes.cursorBlink=r}return!0}setScrollRegion(e){let t=e.params[0]||1,r;return(e.length<2||(r=e.params[1])>this._bufferService.rows||r===0)&&(r=this._bufferService.rows),r>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=r-1,this._setCursor(0,0)),!0}windowOptions(e){if(!o_(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;let t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:t!==2&&this._onRequestWindowsOptionsReport.fire(0);break;case 16:this._onRequestWindowsOptionsReport.fire(1);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${G.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:(t===0||t===2)&&(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>n_&&this._windowTitleStack.shift()),(t===0||t===1)&&(this._iconNameStack.push(this._iconName),this._iconNameStack.length>n_&&this._iconNameStack.shift());break;case 23:(t===0||t===2)&&this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),(t===0||t===1)&&this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop());break}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){let t=[],r=e.split(";");for(;r.length>1;){let n=r.shift(),o=r.shift();if(/^\d+$/.exec(n)){let a=parseInt(n);if(c_(a))if(o==="?")t.push({type:0,index:a});else{let u=s_(o);u&&t.push({type:1,index:a,color:u})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){let t=e.indexOf(";");if(t===-1)return!0;let r=e.slice(0,t).trim(),n=e.slice(t+1);return n?this._createHyperlink(r,n):r.trim()?!1:this._finishHyperlink()}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();let r=e.split(":"),n,o=r.findIndex(a=>a.startsWith("id="));return o!==-1&&(n=r[o].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:n,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){let r=e.split(";");for(let n=0;n<r.length&&!(t>=this._specialColors.length);++n,++t)if(r[n]==="?")this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{let o=s_(r[n]);o&&this._onColor.fire([{type:1,index:this._specialColors[t],color:o}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;let t=[],r=e.split(";");for(let n=0;n<r.length;++n)if(/^\d+$/.exec(r[n])){let o=parseInt(r[n]);c_(o)&&t.push({type:2,index:o})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,ss),!0}selectCharset(e){return e.length!==2?(this.selectDefaultCharset(),!0):(e[0]==="/"||this._charsetService.setgCharset(mE[e[0]],pt[e[1]]||ss),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=lt.clone(),this._eraseAttrDataInternal=lt.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=this._curAttrData.bg&67108863,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){let e=new dr;e.content=1<<22|69,e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){let r=this._activeBuffer.ybase+this._activeBuffer.y+t,n=this._activeBuffer.lines.get(r);n&&(n.fill(e),n.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){let r=u=>(this._coreService.triggerDataEvent(`${G.ESC}${u}${G.ESC}\\`),!0),n=this._bufferService.buffer,o=this._optionsService.rawOptions;return r(e==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:e==='"p'?'P1$r61;1"p':e==="r"?`P1$r${n.scrollTop+1};${n.scrollBottom+1}r`:e==="m"?"P1$r0m":e===" q"?`P1$r${{block:2,underline:4,bar:6}[o.cursorStyle]-(o.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}},hd=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(a_=e,e=t,t=a_),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};hd=tt([he(0,It)],hd);function c_(e){return 0<=e&&e<256}var _E=5e7,u_=12,vE=50,yE=class extends je{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this._register(new ae),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(t!==void 0&&this._syncCalls>t){this._syncCalls=0;return}if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;this._isSyncWriting=!0;let r;for(;r=this._writeBuffer.shift();){this._action(r);let n=this._callbacks.shift();n&&n()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>_E)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput){this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),this._innerWrite();return}setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(e=0,t=!0){let r=e||performance.now();for(;this._writeBuffer.length>this._bufferOffset;){let n=this._writeBuffer[this._bufferOffset],o=this._action(n,t);if(o){let u=d=>performance.now()-r>=u_?setTimeout(()=>this._innerWrite(0,d)):this._innerWrite(r,d);o.catch(d=>(queueMicrotask(()=>{throw d}),Promise.resolve(!1))).then(u);return}let a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=n.length,performance.now()-r>=u_)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>vE&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}},dd=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){let t=this._bufferService.buffer;if(e.id===void 0){let d=t.addMarker(t.ybase+t.y),p={data:e,id:this._nextId++,lines:[d]};return d.onDispose(()=>this._removeMarkerFromLink(p,d)),this._dataByLinkId.set(p.id,p),p.id}let r=e,n=this._getEntryIdKey(r),o=this._entriesWithId.get(n);if(o)return this.addLineToLink(o.id,t.ybase+t.y),o.id;let a=t.addMarker(t.ybase+t.y),u={id:this._nextId++,key:this._getEntryIdKey(r),data:r,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(u,a)),this._entriesWithId.set(u.key,u),this._dataByLinkId.set(u.id,u),u.id}addLineToLink(e,t){let r=this._dataByLinkId.get(e);if(r&&r.lines.every(n=>n.line!==t)){let n=this._bufferService.buffer.addMarker(t);r.lines.push(n),n.onDispose(()=>this._removeMarkerFromLink(r,n))}}getLinkData(e){return this._dataByLinkId.get(e)?.data}_getEntryIdKey(e){return`${e.id};;${e.uri}`}_removeMarkerFromLink(e,t){let r=e.lines.indexOf(t);r!==-1&&(e.lines.splice(r,1),e.lines.length===0&&(e.data.id!==void 0&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};dd=tt([he(0,It)],dd);var h_=!1,xE=class extends je{constructor(e){super(),this._windowsWrappingHeuristics=this._register(new tn),this._onBinary=this._register(new ae),this.onBinary=this._onBinary.event,this._onData=this._register(new ae),this.onData=this._onData.event,this._onLineFeed=this._register(new ae),this.onLineFeed=this._onLineFeed.event,this._onResize=this._register(new ae),this.onResize=this._onResize.event,this._onWriteParsed=this._register(new ae),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this._register(new ae),this._instantiationService=new Uk,this.optionsService=this._register(new eE(e)),this._instantiationService.setService(Bt,this.optionsService),this._bufferService=this._register(this._instantiationService.createInstance(ld)),this._instantiationService.setService(It,this._bufferService),this._logService=this._register(this._instantiationService.createInstance(od)),this._instantiationService.setService(bv,this._logService),this.coreService=this._register(this._instantiationService.createInstance(ad)),this._instantiationService.setService(fs,this.coreService),this.coreMouseService=this._register(this._instantiationService.createInstance(cd)),this._instantiationService.setService(Cv,this.coreMouseService),this.unicodeService=this._register(this._instantiationService.createInstance(ns)),this._instantiationService.setService(Fb,this.unicodeService),this._charsetService=this._instantiationService.createInstance(nE),this._instantiationService.setService(zb,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(dd),this._instantiationService.setService(kv,this._oscLinkService),this._inputHandler=this._register(new gE(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this._register(Et.forward(this._inputHandler.onLineFeed,this._onLineFeed)),this._register(this._inputHandler),this._register(Et.forward(this._bufferService.onResize,this._onResize)),this._register(Et.forward(this.coreService.onData,this._onData)),this._register(Et.forward(this.coreService.onBinary,this._onBinary)),this._register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom(!0))),this._register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this._register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this._register(this._bufferService.onScroll(()=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this._register(new yE((t,r)=>this._inputHandler.parse(t,r))),this._register(Et.forward(this._writeBuffer.onWriteParsed,this._onWriteParsed))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this._register(new ae),this._onScroll.event(e=>{this._onScrollApi?.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(let t in e)this.optionsService.options[t]=e[t]}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=3&&!h_&&(this._logService.warn("writeSync is unreliable and will be removed soon."),h_=!0),this._writeBuffer.writeSync(e,t)}input(e,t=!0){this.coreService.triggerDataEvent(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,i0),t=Math.max(t,s0),this._bufferService.resize(e,t))}scroll(e,t=!1){this._bufferService.scroll(e,t)}scrollLines(e,t){this._bufferService.scrollLines(e,t)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1,t=this.optionsService.rawOptions.windowsPty;t&&t.buildNumber!==void 0&&t.buildNumber!==void 0?e=t.backend==="conpty"&&t.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let e=[];e.push(this.onLineFeed(r_.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>(r_(this._bufferService),!1))),this._windowsWrappingHeuristics.value=qe(()=>{for(let t of e)t.dispose()})}}},SE={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};function wE(e,t,r,n){let o={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:e.key==="UIKeyInputUpArrow"?t?o.key=G.ESC+"OA":o.key=G.ESC+"[A":e.key==="UIKeyInputLeftArrow"?t?o.key=G.ESC+"OD":o.key=G.ESC+"[D":e.key==="UIKeyInputRightArrow"?t?o.key=G.ESC+"OC":o.key=G.ESC+"[C":e.key==="UIKeyInputDownArrow"&&(t?o.key=G.ESC+"OB":o.key=G.ESC+"[B");break;case 8:o.key=e.ctrlKey?"\b":G.DEL,e.altKey&&(o.key=G.ESC+o.key);break;case 9:if(e.shiftKey){o.key=G.ESC+"[Z";break}o.key=G.HT,o.cancel=!0;break;case 13:o.key=e.altKey?G.ESC+G.CR:G.CR,o.cancel=!0;break;case 27:o.key=G.ESC,e.altKey&&(o.key=G.ESC+G.ESC),o.cancel=!0;break;case 37:if(e.metaKey)break;a?o.key=G.ESC+"[1;"+(a+1)+"D":t?o.key=G.ESC+"OD":o.key=G.ESC+"[D";break;case 39:if(e.metaKey)break;a?o.key=G.ESC+"[1;"+(a+1)+"C":t?o.key=G.ESC+"OC":o.key=G.ESC+"[C";break;case 38:if(e.metaKey)break;a?o.key=G.ESC+"[1;"+(a+1)+"A":t?o.key=G.ESC+"OA":o.key=G.ESC+"[A";break;case 40:if(e.metaKey)break;a?o.key=G.ESC+"[1;"+(a+1)+"B":t?o.key=G.ESC+"OB":o.key=G.ESC+"[B";break;case 45:!e.shiftKey&&!e.ctrlKey&&(o.key=G.ESC+"[2~");break;case 46:a?o.key=G.ESC+"[3;"+(a+1)+"~":o.key=G.ESC+"[3~";break;case 36:a?o.key=G.ESC+"[1;"+(a+1)+"H":t?o.key=G.ESC+"OH":o.key=G.ESC+"[H";break;case 35:a?o.key=G.ESC+"[1;"+(a+1)+"F":t?o.key=G.ESC+"OF":o.key=G.ESC+"[F";break;case 33:e.shiftKey?o.type=2:e.ctrlKey?o.key=G.ESC+"[5;"+(a+1)+"~":o.key=G.ESC+"[5~";break;case 34:e.shiftKey?o.type=3:e.ctrlKey?o.key=G.ESC+"[6;"+(a+1)+"~":o.key=G.ESC+"[6~";break;case 112:a?o.key=G.ESC+"[1;"+(a+1)+"P":o.key=G.ESC+"OP";break;case 113:a?o.key=G.ESC+"[1;"+(a+1)+"Q":o.key=G.ESC+"OQ";break;case 114:a?o.key=G.ESC+"[1;"+(a+1)+"R":o.key=G.ESC+"OR";break;case 115:a?o.key=G.ESC+"[1;"+(a+1)+"S":o.key=G.ESC+"OS";break;case 116:a?o.key=G.ESC+"[15;"+(a+1)+"~":o.key=G.ESC+"[15~";break;case 117:a?o.key=G.ESC+"[17;"+(a+1)+"~":o.key=G.ESC+"[17~";break;case 118:a?o.key=G.ESC+"[18;"+(a+1)+"~":o.key=G.ESC+"[18~";break;case 119:a?o.key=G.ESC+"[19;"+(a+1)+"~":o.key=G.ESC+"[19~";break;case 120:a?o.key=G.ESC+"[20;"+(a+1)+"~":o.key=G.ESC+"[20~";break;case 121:a?o.key=G.ESC+"[21;"+(a+1)+"~":o.key=G.ESC+"[21~";break;case 122:a?o.key=G.ESC+"[23;"+(a+1)+"~":o.key=G.ESC+"[23~";break;case 123:a?o.key=G.ESC+"[24;"+(a+1)+"~":o.key=G.ESC+"[24~";break;default:if(e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey)e.keyCode>=65&&e.keyCode<=90?o.key=String.fromCharCode(e.keyCode-64):e.keyCode===32?o.key=G.NUL:e.keyCode>=51&&e.keyCode<=55?o.key=String.fromCharCode(e.keyCode-51+27):e.keyCode===56?o.key=G.DEL:e.keyCode===219?o.key=G.ESC:e.keyCode===220?o.key=G.FS:e.keyCode===221&&(o.key=G.GS);else if((!r||n)&&e.altKey&&!e.metaKey){let u=SE[e.keyCode]?.[e.shiftKey?1:0];if(u)o.key=G.ESC+u;else if(e.keyCode>=65&&e.keyCode<=90){let d=e.ctrlKey?e.keyCode-64:e.keyCode+32,p=String.fromCharCode(d);e.shiftKey&&(p=p.toUpperCase()),o.key=G.ESC+p}else if(e.keyCode===32)o.key=G.ESC+(e.ctrlKey?G.NUL:" ");else if(e.key==="Dead"&&e.code.startsWith("Key")){let d=e.code.slice(3,4);e.shiftKey||(d=d.toLowerCase()),o.key=G.ESC+d,o.cancel=!0}}else r&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&e.metaKey?e.keyCode===65&&(o.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&e.key.length===1?o.key=e.key:e.key&&e.ctrlKey&&(e.key==="_"&&(o.key=G.US),e.key==="@"&&(o.key=G.NUL));break}return o}var st=0,CE=class{constructor(e){this._getKey=e,this._array=[],this._insertedValues=[],this._flushInsertedTask=new Ra,this._isFlushingInserted=!1,this._deletedIndices=[],this._flushDeletedTask=new Ra,this._isFlushingDeleted=!1}clear(){this._array.length=0,this._insertedValues.length=0,this._flushInsertedTask.clear(),this._isFlushingInserted=!1,this._deletedIndices.length=0,this._flushDeletedTask.clear(),this._isFlushingDeleted=!1}insert(e){this._flushCleanupDeleted(),this._insertedValues.length===0&&this._flushInsertedTask.enqueue(()=>this._flushInserted()),this._insertedValues.push(e)}_flushInserted(){let e=this._insertedValues.sort((o,a)=>this._getKey(o)-this._getKey(a)),t=0,r=0,n=new Array(this._array.length+this._insertedValues.length);for(let o=0;o<n.length;o++)r>=this._array.length||this._getKey(e[t])<=this._getKey(this._array[r])?(n[o]=e[t],t++):n[o]=this._array[r++];this._array=n,this._insertedValues.length=0}_flushCleanupInserted(){!this._isFlushingInserted&&this._insertedValues.length>0&&this._flushInsertedTask.flush()}delete(e){if(this._flushCleanupInserted(),this._array.length===0)return!1;let t=this._getKey(e);if(t===void 0||(st=this._search(t),st===-1)||this._getKey(this._array[st])!==t)return!1;do if(this._array[st]===e)return this._deletedIndices.length===0&&this._flushDeletedTask.enqueue(()=>this._flushDeleted()),this._deletedIndices.push(st),!0;while(++st<this._array.length&&this._getKey(this._array[st])===t);return!1}_flushDeleted(){this._isFlushingDeleted=!0;let e=this._deletedIndices.sort((o,a)=>o-a),t=0,r=new Array(this._array.length-e.length),n=0;for(let o=0;o<this._array.length;o++)e[t]===o?t++:r[n++]=this._array[o];this._array=r,this._deletedIndices.length=0,this._isFlushingDeleted=!1}_flushCleanupDeleted(){!this._isFlushingDeleted&&this._deletedIndices.length>0&&this._flushDeletedTask.flush()}*getKeyIterator(e){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(st=this._search(e),!(st<0||st>=this._array.length)&&this._getKey(this._array[st])===e))do yield this._array[st];while(++st<this._array.length&&this._getKey(this._array[st])===e)}forEachByKey(e,t){if(this._flushCleanupInserted(),this._flushCleanupDeleted(),this._array.length!==0&&(st=this._search(e),!(st<0||st>=this._array.length)&&this._getKey(this._array[st])===e))do t(this._array[st]);while(++st<this._array.length&&this._getKey(this._array[st])===e)}values(){return this._flushCleanupInserted(),this._flushCleanupDeleted(),[...this._array].values()}_search(e){let t=0,r=this._array.length-1;for(;r>=t;){let n=t+r>>1,o=this._getKey(this._array[n]);if(o>e)r=n-1;else if(o<e)t=n+1;else{for(;n>0&&this._getKey(this._array[n-1])===e;)n--;return n}}return t}},mh=0,d_=0,bE=class extends je{constructor(){super(),this._decorations=new CE(e=>e?.marker.line),this._onDecorationRegistered=this._register(new ae),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this._register(new ae),this.onDecorationRemoved=this._onDecorationRemoved.event,this._register(qe(()=>this.reset()))}get decorations(){return this._decorations.values()}registerDecoration(e){if(e.marker.isDisposed)return;let t=new kE(e);if(t){let r=t.marker.onDispose(()=>t.dispose()),n=t.onDispose(()=>{n.dispose(),t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),r.dispose())});this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(let e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,r){let n=0,o=0;for(let a of this._decorations.getKeyIterator(t))n=a.options.x??0,o=n+(a.options.width??1),e>=n&&e<o&&(!r||(a.options.layer??"bottom")===r)&&(yield a)}forEachDecorationAtCell(e,t,r,n){this._decorations.forEachByKey(t,o=>{mh=o.options.x??0,d_=mh+(o.options.width??1),e>=mh&&e<d_&&(!r||(o.options.layer??"bottom")===r)&&n(o)})}},kE=class extends Ai{constructor(e){super(),this.options=e,this.onRenderEmitter=this.add(new ae),this.onRender=this.onRenderEmitter.event,this._onDispose=this.add(new ae),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=Qe.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=Qe.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}},EE=1e3,NE=class{constructor(e,t=EE){this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,r){this._rowCount=r,e=e!==void 0?e:0,t=t!==void 0?t:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,e):e,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,t):t;let n=performance.now();if(n-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=n,this._innerRefresh();else if(!this._additionalRefreshRequested){let o=n-this._lastRefreshMs,a=this._debounceThresholdMS-o;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=performance.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},a)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}},f_=20,Da=class extends je{constructor(e,t,r,n){super(),this._terminal=e,this._coreBrowserService=r,this._renderService=n,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="";let o=this._coreBrowserService.mainDocument;this._accessibilityContainer=o.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=o.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let a=0;a<this._terminal.rows;a++)this._rowElements[a]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[a]);if(this._topBoundaryFocusListener=a=>this._handleBoundaryFocus(a,0),this._bottomBoundaryFocusListener=a=>this._handleBoundaryFocus(a,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=o.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this._register(new NE(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this._register(this._terminal.onResize(a=>this._handleResize(a.rows))),this._register(this._terminal.onRender(a=>this._refreshRows(a.start,a.end))),this._register(this._terminal.onScroll(()=>this._refreshRows())),this._register(this._terminal.onA11yChar(a=>this._handleChar(a))),this._register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this._register(this._terminal.onA11yTab(a=>this._handleTab(a))),this._register(this._terminal.onKey(a=>this._handleKey(a.key))),this._register(this._terminal.onBlur(()=>this._clearLiveRegion())),this._register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._register(Ne(o,"selectionchange",()=>this._handleSelectionChange())),this._register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRowsDimensions(),this._refreshRows(),this._register(qe(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<f_+1&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,e===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===f_+1&&(this._liveRegion.textContent+=Mh.get())))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(e){this._clearLiveRegion(),/\p{Control}/u.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){let r=this._terminal.buffer,n=r.lines.length.toString();for(let o=e;o<=t;o++){let a=r.lines.get(r.ydisp+o),u=[],d=a?.translateToString(!0,void 0,void 0,u)||"",p=(r.ydisp+o+1).toString(),f=this._rowElements[o];f&&(d.length===0?(f.textContent="",this._rowColumns.set(f,[0,1])):(f.textContent=d,this._rowColumns.set(f,u)),f.setAttribute("aria-posinset",p),f.setAttribute("aria-setsize",n),this._alignRowWidth(f))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){let r=e.target,n=this._rowElements[t===0?1:this._rowElements.length-2],o=r.getAttribute("aria-posinset"),a=t===0?"1":`${this._terminal.buffer.lines.length}`;if(o===a||e.relatedTarget!==n)return;let u,d;if(t===0?(u=r,d=this._rowElements.pop(),this._rowContainer.removeChild(d)):(u=this._rowElements.shift(),d=r,this._rowContainer.removeChild(u)),u.removeEventListener("focus",this._topBoundaryFocusListener),d.removeEventListener("focus",this._bottomBoundaryFocusListener),t===0){let p=this._createAccessibilityTreeNode();this._rowElements.unshift(p),this._rowContainer.insertAdjacentElement("afterbegin",p)}else{let p=this._createAccessibilityTreeNode();this._rowElements.push(p),this._rowContainer.appendChild(p)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(t===0?-1:1),this._rowElements[t===0?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;let e=this._coreBrowserService.mainDocument.getSelection();if(!e)return;if(e.isCollapsed){this._rowContainer.contains(e.anchorNode)&&this._terminal.clearSelection();return}if(!e.anchorNode||!e.focusNode){console.error("anchorNode and/or focusNode are null");return}let t={node:e.anchorNode,offset:e.anchorOffset},r={node:e.focusNode,offset:e.focusOffset};if((t.node.compareDocumentPosition(r.node)&Node.DOCUMENT_POSITION_PRECEDING||t.node===r.node&&t.offset>r.offset)&&([t,r]=[r,t]),t.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(t={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(t.node))return;let n=this._rowElements.slice(-1)[0];if(r.node.compareDocumentPosition(n)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(r={node:n,offset:n.textContent?.length??0}),!this._rowContainer.contains(r.node))return;let o=({node:d,offset:p})=>{let f=d instanceof Text?d.parentNode:d,y=parseInt(f?.getAttribute("aria-posinset"),10)-1;if(isNaN(y))return console.warn("row is invalid. Race condition?"),null;let v=this._rowColumns.get(f);if(!v)return console.warn("columns is null. Race condition?"),null;let w=p<v.length?v[p]:v.slice(-1)[0]+1;return w>=this._terminal.cols&&(++y,w=0),{row:y,column:w}},a=o(t),u=o(r);if(!(!a||!u)){if(a.row>u.row||a.row===u.row&&a.column>=u.column)throw new Error("invalid range");this._terminal.select(a.column,a.row,(u.row-a.row)*this._terminal.cols-a.column+u.column)}}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let e=this._coreBrowserService.mainDocument.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){Object.assign(this._accessibilityContainer.style,{width:`${this._renderService.dimensions.css.canvas.width}px`,fontSize:`${this._terminal.options.fontSize}px`}),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e]),this._alignRowWidth(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height=`${this._renderService.dimensions.css.cell.height}px`}_alignRowWidth(e){e.style.transform="";let t=e.getBoundingClientRect().width,r=this._rowColumns.get(e)?.slice(-1)?.[0];if(!r)return;let n=r*this._renderService.dimensions.css.cell.width;e.style.transform=`scaleX(${n/t})`}};Da=tt([he(1,Md),he(2,ii),he(3,si)],Da);var fd=class extends je{constructor(e,t,r,n,o){super(),this._element=e,this._mouseService=t,this._renderService=r,this._bufferService=n,this._linkProviderService=o,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this._register(new ae),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this._register(new ae),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this._register(qe(()=>{ls(this._linkCacheDisposables),this._linkCacheDisposables.length=0,this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this._register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this._register(Ne(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this._register(Ne(this._element,"mousemove",this._handleMouseMove.bind(this))),this._register(Ne(this._element,"mousedown",this._handleMouseDown.bind(this))),this._register(Ne(this._element,"mouseup",this._handleMouseUp.bind(this)))}get currentLink(){return this._currentLink}_handleMouseMove(e){this._lastMouseEvent=e;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;let r=e.composedPath();for(let n=0;n<r.length;n++){let o=r[n];if(o.classList.contains("xterm"))break;if(o.classList.contains("xterm-hover"))return}(!this._lastBufferCell||t.x!==this._lastBufferCell.x||t.y!==this._lastBufferCell.y)&&(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized){this._clearCurrentLink(),this._askForLink(e,!1),this._wasResized=!1;return}this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){(!this._activeProviderReplies||!t)&&(this._activeProviderReplies?.forEach(n=>{n?.forEach(o=>{o.link.dispose&&o.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let r=!1;for(let[n,o]of this._linkProviderService.linkProviders.entries())t?this._activeProviderReplies?.get(n)&&(r=this._checkLinkProviderResult(n,e,r)):o.provideLinks(e.y,a=>{if(this._isMouseOut)return;let u=a?.map(d=>({link:d}));this._activeProviderReplies?.set(n,u),r=this._checkLinkProviderResult(n,e,r),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){let r=new Set;for(let n=0;n<t.size;n++){let o=t.get(n);if(o)for(let a=0;a<o.length;a++){let u=o[a],d=u.link.range.start.y<e?0:u.link.range.start.x,p=u.link.range.end.y>e?this._bufferService.cols:u.link.range.end.x;for(let f=d;f<=p;f++){if(r.has(f)){o.splice(a--,1);break}r.add(f)}}}}_checkLinkProviderResult(e,t,r){if(!this._activeProviderReplies)return r;let n=this._activeProviderReplies.get(e),o=!1;for(let a=0;a<e;a++)(!this._activeProviderReplies.has(a)||this._activeProviderReplies.get(a))&&(o=!0);if(!o&&n){let a=n.find(u=>this._linkAtPosition(u.link,t));a&&(r=!0,this._handleNewLink(a))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!r)for(let a=0;a<this._activeProviderReplies.size;a++){let u=this._activeProviderReplies.get(a)?.find(d=>this._linkAtPosition(d.link,t));if(u){r=!0,this._handleNewLink(u);break}}return r}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._currentLink)return;let t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink&&RE(this._mouseDownLink.link,this._currentLink.link)&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){!this._currentLink||!this._lastMouseEvent||(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,ls(this._linkCacheDisposables),this._linkCacheDisposables.length=0)}_handleNewLink(e){if(!this._lastMouseEvent)return;let t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:e.link.decorations===void 0?!0:e.link.decorations.underline,pointerCursor:e.link.decorations===void 0?!0:e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:r=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==r&&(this._currentLink.state.decorations.pointerCursor=r,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",r))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:r=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==r&&(this._currentLink.state.decorations.underline=r,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,r))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(r=>{if(!this._currentLink)return;let n=r.start===0?0:r.start+1+this._bufferService.buffer.ydisp,o=this._bufferService.buffer.ydisp+1+r.end;if(this._currentLink.link.range.start.y>=n&&this._currentLink.link.range.end.y<=o&&(this._clearCurrentLink(n,o),this._lastMouseEvent)){let a=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);a&&this._askForLink(a,!1)}})))}_linkHover(e,t,r){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)}_fireUnderlineEvent(e,t){let r=e.range,n=this._bufferService.buffer.ydisp,o=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-n-1,r.end.x,r.end.y-n-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(o)}_linkLeave(e,t,r){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)}_linkAtPosition(e,t){let r=e.range.start.y*this._bufferService.cols+e.range.start.x,n=e.range.end.y*this._bufferService.cols+e.range.end.x,o=t.y*this._bufferService.cols+t.x;return r<=o&&o<=n}_positionFromMouseEvent(e,t,r){let n=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(n)return{x:n[0],y:n[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,r,n,o){return{x1:e,y1:t,x2:r,y2:n,cols:this._bufferService.cols,fg:o}}};fd=tt([he(1,Td),he(2,si),he(3,It),he(4,Nv)],fd);function RE(e,t){return e.text===t.text&&e.range.start.x===t.range.start.x&&e.range.start.y===t.range.start.y&&e.range.end.x===t.range.end.x&&e.range.end.y===t.range.end.y}var DE=class extends xE{constructor(e={}){super(e),this._linkifier=this._register(new tn),this.browser=Kv,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this._register(new tn),this._onCursorMove=this._register(new ae),this.onCursorMove=this._onCursorMove.event,this._onKey=this._register(new ae),this.onKey=this._onKey.event,this._onRender=this._register(new ae),this.onRender=this._onRender.event,this._onSelectionChange=this._register(new ae),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this._register(new ae),this.onTitleChange=this._onTitleChange.event,this._onBell=this._register(new ae),this.onBell=this._onBell.event,this._onFocus=this._register(new ae),this._onBlur=this._register(new ae),this._onA11yCharEmitter=this._register(new ae),this._onA11yTabEmitter=this._register(new ae),this._onWillOpen=this._register(new ae),this._setup(),this._decorationService=this._instantiationService.createInstance(bE),this._instantiationService.setService(jo,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(vk),this._instantiationService.setService(Nv,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(Ah)),this._register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this._register(this._inputHandler.onRequestRefreshRows(t=>this.refresh(t?.start??0,t?.end??this.rows-1))),this._register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this._register(this._inputHandler.onRequestReset(()=>this.reset())),this._register(this._inputHandler.onRequestWindowsOptionsReport(t=>this._reportWindowsOptions(t))),this._register(this._inputHandler.onColor(t=>this._handleColorEvent(t))),this._register(Et.forward(this._inputHandler.onCursorMove,this._onCursorMove)),this._register(Et.forward(this._inputHandler.onTitleChange,this._onTitleChange)),this._register(Et.forward(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this._register(Et.forward(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this._register(this._bufferService.onResize(t=>this._afterResize(t.cols,t.rows))),this._register(qe(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}get linkifier(){return this._linkifier.value}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(e){if(this._themeService)for(let t of e){let r,n="";switch(t.index){case 256:r="foreground",n="10";break;case 257:r="background",n="11";break;case 258:r="cursor",n="12";break;default:r="ansi",n="4;"+t.index}switch(t.type){case 0:let o=Ue.toColorRGB(r==="ansi"?this._themeService.colors.ansi[t.index]:this._themeService.colors[r]);this.coreService.triggerDataEvent(`${G.ESC}]${n};${pE(o)}${Uv.ST}`);break;case 1:if(r==="ansi")this._themeService.modifyColors(a=>a.ansi[t.index]=at.toColor(...t.color));else{let a=r;this._themeService.modifyColors(u=>u[a]=at.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index);break}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Da,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;let r=Math.min(this.buffer.x,this.cols-1),n=this._renderService.dimensions.css.cell.height,o=t.getWidth(r),a=this._renderService.dimensions.css.cell.width*o,u=this.buffer.y*this._renderService.dimensions.css.cell.height,d=r*this._renderService.dimensions.css.cell.width;this.textarea.style.left=d+"px",this.textarea.style.top=u+"px",this.textarea.style.width=a+"px",this.textarea.style.height=n+"px",this.textarea.style.lineHeight=n+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this._register(Ne(this.element,"copy",t=>{this.hasSelection()&&Tb(t,this._selectionService)}));let e=t=>Ab(t,this.textarea,this.coreService,this.optionsService);this._register(Ne(this.textarea,"paste",e)),this._register(Ne(this.element,"paste",e)),qv?this._register(Ne(this.element,"mousedown",t=>{t.button===2&&Cg(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this._register(Ne(this.element,"contextmenu",t=>{Cg(t,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),$d&&this._register(Ne(this.element,"auxclick",t=>{t.button===1&&vv(t,this.textarea,this.screenElement)}))}_bindKeys(){this._register(Ne(this.textarea,"keyup",e=>this._keyUp(e),!0)),this._register(Ne(this.textarea,"keydown",e=>this._keyDown(e),!0)),this._register(Ne(this.textarea,"keypress",e=>this._keyPress(e),!0)),this._register(Ne(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this._register(Ne(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this._register(Ne(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this._register(Ne(this.textarea,"input",e=>this._inputEvent(e),!0)),this._register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){if(!e)throw new Error("Terminal requires a parent element.");if(e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService){this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView);return}this._document=e.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);let t=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),t.appendChild(this._viewportElement),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._register(Ne(this.screenElement,"mousemove",o=>this.updateCursorStyle(o))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),t.appendChild(this.screenElement);let r=this.textarea=this._document.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",jh.get()),Xv||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._register(this.optionsService.onSpecificOptionChange("disableStdin",()=>r.readOnly=this.optionsService.rawOptions.disableStdin)),this.textarea.readOnly=this.optionsService.rawOptions.disableStdin,this._coreBrowserService=this._register(this._instantiationService.createInstance(gk,this.textarea,e.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(ii,this._coreBrowserService),this._register(Ne(this.textarea,"focus",o=>this._handleTextAreaFocus(o))),this._register(Ne(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(td,this._document,this._helperContainer),this._instantiationService.setService(Wa,this._charSizeService),this._themeService=this._instantiationService.createInstance(nd),this._instantiationService.setService(on,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(Ea),this._instantiationService.setService(Ev,this._characterJoinerService),this._renderService=this._register(this._instantiationService.createInstance(id,this.rows,this.screenElement)),this._instantiationService.setService(si,this._renderService),this._register(this._renderService.onRenderedViewportChange(o=>this._onRender.fire(o))),this.onResize(o=>this._renderService.resize(o.cols,o.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(Qh,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(rd),this._instantiationService.setService(Td,this._mouseService);let n=this._linkifier.value=this._register(this._instantiationService.createInstance(fd,this.screenElement));this.element.appendChild(t);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this._register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this._register(this.onBlur(()=>this._renderService.handleBlur())),this._register(this.onFocus(()=>this._renderService.handleFocus())),this._viewport=this._register(this._instantiationService.createInstance(Xh,this.element,this.screenElement)),this._register(this._viewport.onRequestScrollLines(o=>{super.scrollLines(o,!1),this.refresh(0,this.rows-1)})),this._selectionService=this._register(this._instantiationService.createInstance(sd,this.element,this.screenElement,n)),this._instantiationService.setService(Wb,this._selectionService),this._register(this._selectionService.onRequestScrollLines(o=>this.scrollLines(o.amount,o.suppressScrollEvent))),this._register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this._register(this._selectionService.onRequestRedraw(o=>this._renderService.handleSelectionChanged(o.start,o.end,o.columnSelectMode))),this._register(this._selectionService.onLinuxMouseSelection(o=>{this.textarea.value=o,this.textarea.focus(),this.textarea.select()})),this._register(Et.any(this._onScroll.event,this._inputHandler.onScroll)(()=>{this._selectionService.refresh(),this._viewport?.queueSync()})),this._register(this._instantiationService.createInstance(Zh,this.screenElement)),this._register(Ne(this.element,"mousedown",o=>this._selectionService.handleMouseDown(o))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Da,this)),this._register(this.optionsService.onSpecificOptionChange("screenReaderMode",o=>this._handleScreenReaderModeOptionChange(o))),this.options.overviewRuler.width&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(ka,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRuler",o=>{!this._overviewRulerRenderer&&o&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this._register(this._instantiationService.createInstance(ka,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(ed,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let e=this,t=this.element;function r(a){let u=e._mouseService.getMouseReportCoords(a,e.screenElement);if(!u)return!1;let d,p;switch(a.overrideType||a.type){case"mousemove":p=32,a.buttons===void 0?(d=3,a.button!==void 0&&(d=a.button<3?a.button:3)):d=a.buttons&1?0:a.buttons&4?1:a.buttons&2?2:3;break;case"mouseup":p=0,d=a.button<3?a.button:3;break;case"mousedown":p=1,d=a.button<3?a.button:3;break;case"wheel":if(e._customWheelEventHandler&&e._customWheelEventHandler(a)===!1)return!1;let f=a.deltaY;if(f===0||e.coreMouseService.consumeWheelEvent(a,e._renderService?.dimensions?.device?.cell?.height,e._coreBrowserService?.dpr)===0)return!1;p=f<0?0:1,d=4;break;default:return!1}return p===void 0||d===void 0||d>4?!1:e.coreMouseService.triggerMouseEvent({col:u.col,row:u.row,x:u.x,y:u.y,button:d,action:p,ctrl:a.ctrlKey,alt:a.altKey,shift:a.shiftKey})}let n={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o={mouseup:a=>(r(a),a.buttons||(this._document.removeEventListener("mouseup",n.mouseup),n.mousedrag&&this._document.removeEventListener("mousemove",n.mousedrag)),this.cancel(a)),wheel:a=>(r(a),this.cancel(a,!0)),mousedrag:a=>{a.buttons&&r(a)},mousemove:a=>{a.buttons||r(a)}};this._register(this.coreMouseService.onProtocolChange(a=>{a?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(a)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),a&8?n.mousemove||(t.addEventListener("mousemove",o.mousemove),n.mousemove=o.mousemove):(t.removeEventListener("mousemove",n.mousemove),n.mousemove=null),a&16?n.wheel||(t.addEventListener("wheel",o.wheel,{passive:!1}),n.wheel=o.wheel):(t.removeEventListener("wheel",n.wheel),n.wheel=null),a&2?n.mouseup||(n.mouseup=o.mouseup):(this._document.removeEventListener("mouseup",n.mouseup),n.mouseup=null),a&4?n.mousedrag||(n.mousedrag=o.mousedrag):(this._document.removeEventListener("mousemove",n.mousedrag),n.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this._register(Ne(t,"mousedown",a=>{if(a.preventDefault(),this.focus(),!(!this.coreMouseService.areMouseEventsActive||this._selectionService.shouldForceSelection(a)))return r(a),n.mouseup&&this._document.addEventListener("mouseup",n.mouseup),n.mousedrag&&this._document.addEventListener("mousemove",n.mousedrag),this.cancel(a)})),this._register(Ne(t,"wheel",a=>{if(!n.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(a)===!1)return!1;if(!this.buffer.hasScrollback){if(a.deltaY===0)return!1;if(e.coreMouseService.consumeWheelEvent(a,e._renderService?.dimensions?.device?.cell?.height,e._coreBrowserService?.dpr)===0)return this.cancel(a,!0);let u=G.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(a.deltaY<0?"A":"B");return this.coreService.triggerDataEvent(u,!0),this.cancel(a,!0)}}},{passive:!1}))}refresh(e,t){this._renderService?.refreshRows(e,t)}updateCursorStyle(e){this._selectionService?.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){this._viewport?this._viewport.scrollLines(e):super.scrollLines(e,t),this.refresh(0,this.rows-1)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(e){e&&this._viewport?this._viewport.scrollToLine(this.buffer.ybase,!0):this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){let t=e-this._bufferService.buffer.ydisp;t!==0&&this.scrollLines(t)}paste(e){_v(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}attachCustomWheelEventHandler(e){this._customWheelEventHandler=e}registerLinkProvider(e){return this._linkProviderService.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return this._selectionService?this._selectionService.hasSelection:!1}select(e,t,r){this._selectionService.setSelection(e,t,r)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(!(!this._selectionService||!this._selectionService.hasSelection))return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(e,t){this._selectionService?.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;let t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(!0),!1;!t&&(e.key==="Dead"||e.key==="AltGraph")&&(this._unprocessedDeadKey=!0);let r=wE(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),r.type===3||r.type===2){let n=this.rows-1;return this.scrollLines(r.type===2?-n:n),this.cancel(e,!0)}if(r.type===1&&this.selectAll(),this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key)||e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)return!0;if(this._unprocessedDeadKey)return this._unprocessedDeadKey=!1,!0;if((r.key===G.ETX||r.key===G.CR)&&(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey)return this.cancel(e,!0);this._keyDownHandled=!0}_isThirdLevelShift(e,t){let r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return t.type==="keypress"?r:r&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,!(this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)&&(PE(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(e)===!1)return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(e.which===null||e.which===void 0)t=e.keyCode;else if(e.which!==0&&e.charCode!==0)t=e.which;else return!1;return!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)?!1:(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,!0)}_inputEvent(e){if(e.data&&e.inputType==="insertText"&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){if(e===this.cols&&t===this.rows){this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure();return}super.resize(e,t)}_afterResize(e,t){this._charSizeService?.measure()}clear(){if(!(this.buffer.ybase===0&&this.buffer.y===0)){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(lt));this._onScroll.fire({position:this.buffer.ydisp}),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;let e=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this._customKeyEventHandler=e,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(G.ESC+"[I"):this.coreService.triggerDataEvent(G.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case 0:let t=this._renderService.dimensions.css.canvas.width.toFixed(0),r=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${G.ESC}[4;${r};${t}t`);break;case 1:let n=this._renderService.dimensions.css.cell.width.toFixed(0),o=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${G.ESC}[6;${o};${n}t`);break}}cancel(e,t){if(!(!this.options.cancelEvents&&!t))return e.preventDefault(),e.stopPropagation(),!1}};function PE(e){return e.keyCode===16||e.keyCode===17||e.keyCode===18}var jE=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){let r={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(r),t.dispose=()=>this._wrappedAddonDispose(r),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(t===-1)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},ME=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new dr)}translateToString(e,t,r){return this._line.translateToString(e,t,r)}},p_=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){let t=this._buffer.lines.get(e);if(t)return new ME(t)}getNullCell(){return new dr}},TE=class extends je{constructor(e){super(),this._core=e,this._onBufferChange=this._register(new ae),this.onBufferChange=this._onBufferChange.event,this._normal=new p_(this._core.buffers.normal,"normal"),this._alternate=new p_(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}},AE=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,r=>t(r.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(r,n)=>t(r,n.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}},LE=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}},OE=["cols","rows"],Pr=0,IE=class extends je{constructor(e){super(),this._core=this._register(new DE(e)),this._addonManager=this._register(new jE),this._publicOptions={...this._core.options};let t=n=>this._core.options[n],r=(n,o)=>{this._checkReadonlyOptions(n),this._core.options[n]=o};for(let n in this._core.options){let o={get:t.bind(this,n),set:r.bind(this,n)};Object.defineProperty(this._publicOptions,n,o)}}_checkReadonlyOptions(e){if(OE.includes(e))throw new Error(`Option "${e}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new AE(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new LE(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this._register(new TE(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let e=this._core.coreService.decPrivateModes,t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any";break}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,synchronizedOutputMode:e.synchronizedOutput,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(let t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}input(e,t=!0){this._core.input(e,t)}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}attachCustomWheelEventHandler(e){this._core.attachCustomWheelEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(e=0){return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){return this._checkProposedApi(),this._verifyPositiveIntegers(e.x??0,e.width??0,e.height??0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write(`\r
`,t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return{get promptLabel(){return jh.get()},set promptLabel(e){jh.set(e)},get tooMuchOutput(){return Mh.get()},set tooMuchOutput(e){Mh.set(e)}}}_verifyIntegers(...e){for(Pr of e)if(Pr===1/0||isNaN(Pr)||Pr%1!==0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...e){for(Pr of e)if(Pr&&(Pr===1/0||isNaN(Pr)||Pr%1!==0||Pr<0))throw new Error("This API only accepts positive integers")}};/**
 * Copyright (c) 2014-2024 The xterm.js authors. All rights reserved.
 * @license MIT
 *
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * @license MIT
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 */var BE=2,zE=1,FE=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;(this._terminal.rows!==e.rows||this._terminal.cols!==e.cols)&&(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core._renderService.dimensions;if(e.css.cell.width===0||e.css.cell.height===0)return;let t=this._terminal.options.scrollback===0?0:this._terminal.options.overviewRuler?.width||14,r=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(r.getPropertyValue("height")),o=Math.max(0,parseInt(r.getPropertyValue("width"))),a=window.getComputedStyle(this._terminal.element),u={top:parseInt(a.getPropertyValue("padding-top")),bottom:parseInt(a.getPropertyValue("padding-bottom")),right:parseInt(a.getPropertyValue("padding-right")),left:parseInt(a.getPropertyValue("padding-left"))},d=u.top+u.bottom,p=u.right+u.left,f=n-d,y=o-p-t;return{cols:Math.max(BE,Math.floor(y/e.css.cell.width)),rows:Math.max(zE,Math.floor(f/e.css.cell.height))}}};function $E({isExpanded:e,onToggle:t,height:r,onHeightChange:n,externalCommand:o,onCommandExecuted:a,workspaceFolder:u}){const[d,p]=_.useState(null),[f,y]=_.useState(!0),[v,w]=_.useState(null),[S,b]=_.useState(!1),[x,k]=_.useState(!1),N=_.useRef(null),P=_.useRef(null),E=_.useRef(null),M=_.useRef(null),j=_.useRef(null),O=_.useRef(null),B=_.useCallback(()=>{M.current&&(clearInterval(M.current),M.current=null),P.current&&(P.current.dispose(),P.current=null),E.current=null,O.current&&(Ae("close_terminal_session",{sessionId:O.current}).catch(()=>{}),O.current=null)},[]);return _.useEffect(()=>{let z=!0;return B(),p(null),y(!0),w(null),(async()=>{try{const se=await Ae("create_terminal_session",{cwd:u||null});z&&(p(se.id),O.current=se.id,y(!1))}catch(se){z&&(w(String(se)),y(!1))}})(),()=>{z=!1}},[u,B]),_.useEffect(()=>B,[B]),_.useEffect(()=>{if(!d||!N.current||!e||P.current&&O.current===d)return;P.current&&(P.current.dispose(),P.current=null),M.current&&(clearInterval(M.current),M.current=null);const z=new IE({cursorBlink:!0,fontSize:14,fontFamily:'Consolas, "Courier New", monospace',theme:{background:"#1E1E1E",foreground:"#CCCCCC",cursor:"#FFFFFF",selectionBackground:"#264F78"},scrollback:5e3,convertEol:!0}),J=new FE;z.loadAddon(J),z.open(N.current),P.current=z,E.current=J,setTimeout(()=>{try{J.fit()}catch(ie){console.error("Fit error:",ie)}},100),z.onData(ie=>{Ae("write_to_terminal",{sessionId:d,data:ie}).catch(console.error)}),z.focus();const se=async()=>{try{const ie=await Ae("read_from_terminal",{sessionId:d,timeoutMs:10});ie&&P.current&&P.current.write(ie)}catch{}};M.current=window.setInterval(se,20)},[d,e]),_.useEffect(()=>{e&&E.current&&setTimeout(()=>{try{E.current?.fit()}catch(z){console.error("Fit error:",z)}},50)},[r,e]),_.useEffect(()=>{o&&d&&(Ae("write_to_terminal",{sessionId:d,data:o+"\r"}).catch(console.error),a?.())},[o,d,a]),_.useEffect(()=>{if(!S)return;const z=se=>{const ie=document.querySelector(".h-screen");if(ie){const K=ie.clientHeight-se.clientY;K>=100&&K<=800&&n(K)}},J=()=>b(!1);return document.addEventListener("mousemove",z),document.addEventListener("mouseup",J),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",J)}},[S,n]),_.useEffect(()=>{if(!x)return;const z=J=>{j.current&&!j.current.contains(J.target)&&k(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[x]),e?v?c.jsxs("div",{className:"h-32 bg-[#252526] border-t border-[#2D2D30] flex flex-col items-center justify-center",children:[c.jsxs("div",{className:"text-red-400 text-[13px] mb-2",children:["Terminal error: ",v]}),c.jsx("button",{onClick:()=>{w(null),y(!0)},className:"px-3 py-1 bg-[#007ACC] text-white text-[11px] rounded",children:"Retry"})]}):f?c.jsxs("div",{className:"h-8 bg-[#252526] border-t border-[#2D2D30] flex items-center justify-center",children:[c.jsx(Mi,{size:16,className:"animate-pulse text-[#858585]"}),c.jsx("span",{className:"ml-2 text-[13px] text-[#858585]",children:"Loading terminal..."})]}):c.jsxs("div",{className:"bg-[#1E1E1E] border-t border-[#2D2D30] flex flex-col relative",style:{height:r},children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 cursor-row-resize hover:bg-[#007ACC] z-10",onMouseDown:z=>{z.preventDefault(),b(!0)}}),c.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-[#252526] border-b border-[#2D2D30]",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-white",children:[c.jsx(Mi,{size:16}),c.jsx("span",{children:"Terminal"}),c.jsx("span",{className:"text-[11px] text-[#858585] ml-2",children:"PowerShell"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs("div",{className:"relative",ref:j,children:[c.jsx("button",{onClick:()=>k(!x),className:"text-[#CCCCCC] hover:bg-[#2A2D2E] p-1 rounded",children:c.jsx(nn,{size:16})}),x&&c.jsx("div",{className:"absolute top-full right-0 mt-1 w-40 bg-[#252526] border border-[#454545] rounded py-1 z-50",children:c.jsxs("button",{onClick:()=>{P.current?.clear(),k(!1)},className:"w-full px-3 py-1 text-left text-[13px] text-[#CCCCCC] hover:bg-[#2A2D2E] flex items-center gap-2",children:[c.jsx(sv,{size:14})," Clear"]})})]}),c.jsx("button",{onClick:t,className:"text-[#CCCCCC] hover:bg-[#2A2D2E] p-1 rounded",children:c.jsx(Dh,{size:16,className:"rotate-180"})})]})]}),c.jsx("div",{ref:N,className:"flex-1 overflow-hidden",style:{backgroundColor:"#1E1E1E",padding:4},onClick:()=>P.current?.focus()})]}):c.jsxs("div",{className:"h-8 bg-[#252526] border-t border-[#2D2D30] flex items-center justify-between px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-[#CCCCCC]",children:[c.jsx(Mi,{size:16}),c.jsx("span",{children:"Terminal"})]}),c.jsx("button",{onClick:t,className:"text-[#CCCCCC] hover:bg-[#2A2D2E] p-1 rounded",children:c.jsx(Dh,{size:16})})]})}var m_;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(m_||(m_={}));async function WE(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await Ae("plugin:event|unlisten",{event:e,eventId:t})}async function HE(e,t,r){var n;const o=(n=void 0)!==null&&n!==void 0?n:{kind:"Any"};return Ae("plugin:event|listen",{event:e,target:o,handler:pC(t)}).then(a=>async()=>WE(e,a))}function UE({filePath:e,fileContent:t,language:r,onRunInTerminal:n,onSaveFile:o}){const[a,u]=_.useState(!1),[d,p]=_.useState(""),[f,y]=_.useState(null),[v,w]=_.useState(null),[S,b]=_.useState(""),[x,k]=_.useState("interactive"),N=_.useRef(null),P=_.useRef(null),[E,M]=_.useState("");_.useEffect(()=>{if(r)M(r);else if(e){const H=e.split(".").pop()?.toLowerCase();if(H){const L=j(H);L&&M(L)}}},[e,r]);const j=H=>({py:"Python",js:"JavaScript",mjs:"JavaScript",ts:"TypeScript",tsx:"TypeScript",jsx:"JavaScript",rs:"Rust",c:"C",cpp:"C++",cc:"C++",cxx:"C++",h:"C",hpp:"C++",hh:"C++",java:"Java",go:"Go",rb:"Ruby",php:"PHP",sh:"Shell",bash:"Shell",zsh:"Shell",ps1:"PowerShell",kt:"Kotlin",swift:"Swift",pl:"Perl",r:"R",lua:"Lua",dart:"Dart",scala:"Scala"})[H]||"Unknown";_.useEffect(()=>{const H=HE("process-output",L=>{const $=L.payload;p(Y=>Y+$.output),$.is_complete&&(u(!1),y($.exit_code),w(null))});return()=>{H.then(L=>L())}},[]),_.useEffect(()=>{N.current&&(N.current.scrollTop=N.current.scrollHeight)},[d]),_.useEffect(()=>{a&&P.current&&P.current.focus()},[a]);const O=()=>{if(!e)return null;const H=e.split(".").pop()?.toLowerCase();if(!H)return null;const L=e.replace(/\\/g,"/");return{py:`python "${L}"`,js:`node "${L}"`,mjs:`node "${L}"`,ts:`ts-node "${L}"`,tsx:`ts-node "${L}"`,jsx:`node "${L}"`,rb:`ruby "${L}"`,php:`php "${L}"`,go:`go run "${L}"`,rs:`rustc "${L}" && "${L.replace(".rs","")}.exe"`,c:`gcc "${L}" -o "${L.replace(".c","")}.exe" && "${L.replace(".c","")}.exe"`,cpp:`g++ "${L}" -o "${L.replace(".cpp","")}.exe" && "${L.replace(".cpp","")}.exe"`,cc:`g++ "${L}" -o "${L.replace(".cc","")}.exe" && "${L.replace(".cc","")}.exe"`,cxx:`g++ "${L}" -o "${L.replace(".cxx","")}.exe" && "${L.replace(".cxx","")}.exe"`,java:`javac "${L}" && java "${L.replace(".java","")}"`,h:null,hpp:null,hh:null}[H]||null},B=async()=>{if(o)try{await o()}catch(L){console.error("Failed to save file:",L);return}const H=O();H&&n&&(n(H),p(` Running in terminal:
${H}
`))},z=H=>["rs","c","cpp","cc","cxx","java","h","hpp","hh"].includes(H.toLowerCase()),J=async()=>{if(!e){p(`No file selected
`);return}const H=e.split(".").pop()?.toLowerCase()||"";if(z(H)){p(`Compiling and running ${H.toUpperCase()} file...
`),u(!0);try{const L=await Ae("run_code_file",{filePath:e});let $="";L.output&&($+=L.output),L.error&&($+=`
 Error:
${L.error}`),L.exit_code!==null&&($+=`
Exit code: ${L.exit_code}`),p($||`No output
`),y(L.exit_code),u(!1);return}catch(L){u(!1),p(` Failed to run compiled code: ${L}
`);return}}if(o)try{await o()}catch(L){console.error("Failed to save file:",L),p(` Failed to save file
`);return}u(!0),p(""),y(null),b("");try{const L=await Ae("start_interactive_process",{filePath:e});w(L),p(` Process started. You can now provide input below.

`)}catch(L){u(!1),p(` Failed to start process: ${L}
`)}},se=async()=>{if(!(!v||!S.trim()))try{await Ae("send_process_input",{processId:v,input:S+`
`}),p(H=>H+`> ${S}
`),b("")}catch(H){p(L=>L+` Failed to send input: ${H}
`)}},ie=async()=>{if(v)try{await Ae("stop_interactive_process",{processId:v}),u(!1),w(null),p(H=>H+`
  Process stopped by user
`)}catch(H){console.error("Failed to stop process:",H)}},K=()=>{p(""),y(null)},W=H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),se())};return c.jsxs("div",{className:"flex flex-col h-full bg-[#1E1E1E] border-t border-[#2D2D30]",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-[#2D2D30]",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[13px] text-white",children:[c.jsx(za,{size:16}),c.jsx("span",{children:"Interactive Code Runner"}),a&&c.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-green-400",children:[c.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Running"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-[#CCCCCC]",children:[E," ",e?`(${e.split(".").pop()})`:""]}),c.jsxs("div",{className:"flex bg-[#3C3C3C] rounded border border-[#454545]",children:[c.jsx("button",{onClick:()=>k("interactive"),className:`px-3 py-1 text-[11px] font-medium transition-colors ${x==="interactive"?"bg-[#007ACC] text-white":"text-[#CCCCCC] hover:text-white"}`,children:"Interactive"}),c.jsxs("button",{onClick:()=>k("terminal"),className:`px-3 py-1 text-[11px] font-medium transition-colors flex items-center gap-1 ${x==="terminal"?"bg-[#007ACC] text-white":"text-[#CCCCCC] hover:text-white"}`,children:[c.jsx(Mi,{size:12}),"Terminal"]})]})]})]}),c.jsxs("div",{className:"p-4 border-b border-[#2D2D30]",children:[!a&&d&&c.jsxs("button",{onClick:K,className:"flex items-center gap-1 px-3 py-1.5 rounded text-[11px] text-[#CCCCCC] hover:text-white hover:bg-[#3C3C3C] transition-colors",title:"Clear output",children:[c.jsx(No,{size:12}),"Clear"]}),e&&E==="Unknown"&&c.jsx("div",{className:"mt-3 p-3 bg-yellow-900/20 border border-yellow-900/30 rounded",children:c.jsx("p",{className:"text-[13px] text-yellow-200",children:" Unsupported file type. The code runner currently supports: Python, JavaScript, TypeScript, Rust, C, C++, Java, Go, Ruby, PHP, Shell."})}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsx("div",{}),a?c.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-1.5 rounded text-[13px] font-medium bg-red-600 text-white hover:bg-red-700 transition-colors",children:[c.jsx(KS,{size:14}),c.jsx("span",{children:"Stop"})]}):c.jsxs("button",{onClick:x==="interactive"?J:B,disabled:!e||E==="Unknown",className:`flex items-center gap-2 px-4 py-1.5 rounded text-[13px] font-medium transition-colors ${!e||E==="Unknown"?"bg-[#3C3C3C] text-[#858585] cursor-not-allowed":"bg-[#007ACC] text-white hover:bg-[#005A9E]"}`,children:[c.jsx(en,{size:14}),c.jsx("span",{children:"Run"})]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[!d&&!a&&c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[#858585] p-4",children:[c.jsx(Q_,{size:48,className:"mb-4 opacity-50"}),c.jsx("p",{className:"text-[15px] mb-2",children:"Interactive Code Execution"}),c.jsx("p",{className:"text-[13px] text-center max-w-md",children:x==="interactive"?"Run your code with full interactive input support. You can provide input while the program is running.":"Run your code in the terminal with full interactive capabilities."}),e&&c.jsxs("p",{className:"text-[11px] mt-4 text-[#656565]",children:["File: ",e.split(/[\\/]/).pop()]}),x==="interactive"&&c.jsx("div",{className:"mt-6 p-3 bg-[#252526] rounded border border-[#007ACC]/30 text-[11px] text-[#CCCCCC] max-w-md",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ev,{size:14,className:"text-[#007ACC] flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium mb-1 text-[#007ACC]",children:"Interactive Mode Features:"}),c.jsxs("ul",{className:"space-y-1 text-[#858585]",children:[c.jsx("li",{children:" Provide input while program is running"}),c.jsx("li",{children:" Real-time output display"}),c.jsx("li",{children:" Support for input() and similar functions"}),c.jsx("li",{children:" Works with Python, Node.js, Ruby, and more"})]})]})]})})]}),(d||a)&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:N,className:"flex-1 overflow-auto p-4 font-mono text-[13px] text-[#CCCCCC] bg-[#1E1E1E]",children:[c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:d}),a&&!f&&c.jsxs("div",{className:"flex items-center gap-2 mt-2 text-[#858585]",children:[c.jsx("span",{className:"w-2 h-2 bg-[#007ACC] rounded-full animate-pulse"}),c.jsx("span",{className:"text-[11px]",children:"Waiting for input or process completion..."})]}),f!==null&&c.jsxs("div",{className:`mt-4 p-2 rounded text-[11px] ${f===0?"bg-green-900/20 text-green-400 border border-green-900/30":"bg-red-900/20 text-red-400 border border-red-900/30"}`,children:[f===0?"":""," Process exited with code: ",f]})]}),a&&x==="interactive"&&c.jsxs("div",{className:"border-t border-[#2D2D30] bg-[#252526] p-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-[#858585] text-[13px] font-mono",children:">"}),c.jsx("input",{ref:P,type:"text",value:S,onChange:H=>b(H.target.value),onKeyPress:W,placeholder:"Type input and press Enter...",className:"flex-1 bg-[#3C3C3C] text-[#CCCCCC] px-3 py-2 rounded border border-[#454545] outline-none focus:border-[#007ACC] text-[13px] font-mono",disabled:!v}),c.jsx("button",{onClick:se,disabled:!S.trim(),className:`px-4 py-2 rounded text-[13px] font-medium transition-colors ${S.trim()?"bg-[#007ACC] text-white hover:bg-[#005A9E]":"bg-[#3C3C3C] text-[#858585] cursor-not-allowed"}`,children:"Send"})]}),c.jsx("p",{className:"text-[10px] text-[#656565] mt-2",children:"Press Enter to send input  Type your input above and it will be sent to the running program"})]})]})]})]})}function Le(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}function g_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function an(...e){return t=>{let r=!1;const n=e.map(o=>{const a=g_(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():g_(e[o],null)}}}}function Ye(...e){return _.useCallback(an(...e),e)}function VE(e,t){const r=_.createContext(t),n=a=>{const{children:u,...d}=a,p=_.useMemo(()=>d,Object.values(d));return c.jsx(r.Provider,{value:p,children:u})};n.displayName=e+"Provider";function o(a){const u=_.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,o]}function ps(e,t=[]){let r=[];function n(a,u){const d=_.createContext(u),p=r.length;r=[...r,u];const f=v=>{const{scope:w,children:S,...b}=v,x=w?.[e]?.[p]||d,k=_.useMemo(()=>b,Object.values(b));return c.jsx(x.Provider,{value:k,children:S})};f.displayName=a+"Provider";function y(v,w){const S=w?.[e]?.[p]||d,b=_.useContext(S);if(b)return b;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[f,y]}const o=()=>{const a=r.map(u=>_.createContext(u));return function(d){const p=d?.[e]||a;return _.useMemo(()=>({[`__scope${e}`]:{...d,[e]:p}}),[d,p])}};return o.scopeName=e,[n,KE(o,...t)]}function KE(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=n.reduce((d,{useScope:p,scopeName:f})=>{const v=p(a)[`__scope${f}`];return{...d,...v}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var Mt=globalThis?.document?_.useLayoutEffect:()=>{},qE=Nd[" useId ".trim().toString()]||(()=>{}),YE=0;function Li(e){const[t,r]=_.useState(qE());return Mt(()=>{r(n=>n??String(YE++))},[e]),e||(t?`radix-${t}`:"")}var GE=Nd[" useInsertionEffect ".trim().toString()]||Mt;function rn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,u]=XE({defaultProp:t,onChange:r}),d=e!==void 0,p=d?e:o;{const y=_.useRef(e!==void 0);_.useEffect(()=>{const v=y.current;v!==d&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,n])}const f=_.useCallback(y=>{if(d){const v=ZE(y)?y(e):y;v!==e&&u.current?.(v)}else a(y)},[d,e,a,u]);return[p,f]}function XE({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),o=_.useRef(r),a=_.useRef(t);return GE(()=>{a.current=t},[t]),_.useEffect(()=>{o.current!==r&&(a.current?.(r),o.current=r)},[r,o]),[r,n,a]}function ZE(e){return typeof e=="function"}var Ao=X_();const QE=G_(Ao);function JE(e){const t=eN(e),r=_.forwardRef((n,o)=>{const{children:a,...u}=n,d=_.Children.toArray(a),p=d.find(rN);if(p){const f=p.props.children,y=d.map(v=>v===p?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:v);return c.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,y):null})}return c.jsx(t,{...u,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}function eN(e){const t=_.forwardRef((r,n)=>{const{children:o,...a}=r;if(_.isValidElement(o)){const u=sN(o),d=iN(a,o.props);return o.type!==_.Fragment&&(d.ref=n?an(n,u):u),_.cloneElement(o,d)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tN=Symbol("radix.slottable");function rN(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tN}function iN(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...d)=>{const p=a(...d);return o(...d),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function sN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=nN.reduce((e,t)=>{const r=JE(`Primitive.${t}`),n=_.forwardRef((o,a)=>{const{asChild:u,...d}=o,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(p,{...d,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function oN(e,t){e&&Ao.flushSync(()=>e.dispatchEvent(t))}function Oi(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function lN(e,t=globalThis?.document){const r=Oi(e);_.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var aN="DismissableLayer",pd="dismissableLayer.update",cN="dismissableLayer.pointerDownOutside",uN="dismissableLayer.focusOutside",__,o0=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wd=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...p}=e,f=_.useContext(o0),[y,v]=_.useState(null),w=y?.ownerDocument??globalThis?.document,[,S]=_.useState({}),b=Ye(t,B=>v(B)),x=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=x.indexOf(k),P=y?x.indexOf(y):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,M=P>=N,j=fN(B=>{const z=B.target,J=[...f.branches].some(se=>se.contains(z));!M||J||(o?.(B),u?.(B),B.defaultPrevented||d?.())},w),O=pN(B=>{const z=B.target;[...f.branches].some(se=>se.contains(z))||(a?.(B),u?.(B),B.defaultPrevented||d?.())},w);return lN(B=>{P===f.layers.size-1&&(n?.(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},w),_.useEffect(()=>{if(y)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(__=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(y)),f.layers.add(y),v_(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=__)}},[y,w,r,f]),_.useEffect(()=>()=>{y&&(f.layers.delete(y),f.layersWithOutsidePointerEventsDisabled.delete(y),v_())},[y,f]),_.useEffect(()=>{const B=()=>S({});return document.addEventListener(pd,B),()=>document.removeEventListener(pd,B)},[]),c.jsx(Oe.div,{...p,ref:b,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,j.onPointerDownCapture)})});Wd.displayName=aN;var hN="DismissableLayerBranch",dN=_.forwardRef((e,t)=>{const r=_.useContext(o0),n=_.useRef(null),o=Ye(t,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(Oe.div,{...e,ref:o})});dN.displayName=hN;function fN(e,t=globalThis?.document){const r=Oi(e),n=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const a=d=>{if(d.target&&!n.current){let p=function(){l0(cN,r,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=p,t.addEventListener("click",o.current,{once:!0})):p()}else t.removeEventListener("click",o.current);n.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function pN(e,t=globalThis?.document){const r=Oi(e),n=_.useRef(!1);return _.useEffect(()=>{const o=a=>{a.target&&!n.current&&l0(uN,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v_(){const e=new CustomEvent(pd);document.dispatchEvent(e)}function l0(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?oN(o,a):o.dispatchEvent(a)}var gh="focusScope.autoFocusOnMount",_h="focusScope.autoFocusOnUnmount",y_={bubbles:!1,cancelable:!0},mN="FocusScope",Hd=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=e,[d,p]=_.useState(null),f=Oi(o),y=Oi(a),v=_.useRef(null),w=Ye(t,x=>p(x)),S=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let x=function(E){if(S.paused||!d)return;const M=E.target;d.contains(M)?v.current=M:Di(v.current,{select:!0})},k=function(E){if(S.paused||!d)return;const M=E.relatedTarget;M!==null&&(d.contains(M)||Di(v.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const j of E)j.removedNodes.length>0&&Di(d)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const P=new MutationObserver(N);return d&&P.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),P.disconnect()}}},[n,d,S.paused]),_.useEffect(()=>{if(d){S_.add(S);const x=document.activeElement;if(!d.contains(x)){const N=new CustomEvent(gh,y_);d.addEventListener(gh,f),d.dispatchEvent(N),N.defaultPrevented||(gN(SN(a0(d)),{select:!0}),document.activeElement===x&&Di(d))}return()=>{d.removeEventListener(gh,f),setTimeout(()=>{const N=new CustomEvent(_h,y_);d.addEventListener(_h,y),d.dispatchEvent(N),N.defaultPrevented||Di(x??document.body,{select:!0}),d.removeEventListener(_h,y),S_.remove(S)},0)}}},[d,f,y,S]);const b=_.useCallback(x=>{if(!r&&!n||S.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,N=document.activeElement;if(k&&N){const P=x.currentTarget,[E,M]=_N(P);E&&M?!x.shiftKey&&N===M?(x.preventDefault(),r&&Di(E,{select:!0})):x.shiftKey&&N===E&&(x.preventDefault(),r&&Di(M,{select:!0})):N===P&&x.preventDefault()}},[r,n,S.paused]);return c.jsx(Oe.div,{tabIndex:-1,...u,ref:w,onKeyDown:b})});Hd.displayName=mN;function gN(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Di(n,{select:t}),document.activeElement!==r)return}function _N(e){const t=a0(e),r=x_(t,e),n=x_(t.reverse(),e);return[r,n]}function a0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function x_(e,t){for(const r of e)if(!vN(r,{upTo:t}))return r}function vN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function yN(e){return e instanceof HTMLInputElement&&"select"in e}function Di(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&yN(e)&&t&&e.select()}}var S_=xN();function xN(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=w_(e,t),e.unshift(t)},remove(t){e=w_(e,t),e[0]?.resume()}}}function w_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function SN(e){return e.filter(t=>t.tagName!=="A")}var wN="Portal",Ud=_.forwardRef((e,t)=>{const{container:r,...n}=e,[o,a]=_.useState(!1);Mt(()=>a(!0),[]);const u=r||o&&globalThis?.document?.body;return u?QE.createPortal(c.jsx(Oe.div,{...n,ref:t}),u):null});Ud.displayName=wN;function CN(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var Lo=e=>{const{present:t,children:r}=e,n=bN(t),o=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=Ye(n.ref,kN(o));return typeof r=="function"||n.isPresent?_.cloneElement(o,{ref:a}):null};Lo.displayName="Presence";function bN(e){const[t,r]=_.useState(),n=_.useRef(null),o=_.useRef(e),a=_.useRef("none"),u=e?"mounted":"unmounted",[d,p]=CN(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=ra(n.current);a.current=d==="mounted"?f:"none"},[d]),Mt(()=>{const f=n.current,y=o.current;if(y!==e){const w=a.current,S=ra(f);e?p("MOUNT"):S==="none"||f?.display==="none"?p("UNMOUNT"):p(y&&w!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),Mt(()=>{if(t){let f;const y=t.ownerDocument.defaultView??window,v=S=>{const x=ra(n.current).includes(CSS.escape(S.animationName));if(S.target===t&&x&&(p("ANIMATION_END"),!o.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",f=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},w=S=>{S.target===t&&(a.current=ra(n.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{y.clearTimeout(f),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:_.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function ra(e){return e?.animationName||"none"}function kN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var vh=0;function c0(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??C_()),document.body.insertAdjacentElement("beforeend",e[1]??C_()),vh++,()=>{vh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vh--}},[])}function C_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ar=function(){return Ar=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ar.apply(this,arguments)};function u0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function EN(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var ya="right-scroll-bar-position",xa="width-before-scroll-bar",NN="with-scroll-bars-hidden",RN="--removed-body-scroll-bar-size";function yh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function DN(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var PN=typeof window<"u"?_.useLayoutEffect:_.useEffect,b_=new WeakMap;function jN(e,t){var r=DN(null,function(n){return e.forEach(function(o){return yh(o,n)})});return PN(function(){var n=b_.get(r);if(n){var o=new Set(n),a=new Set(e),u=r.current;o.forEach(function(d){a.has(d)||yh(d,null)}),a.forEach(function(d){o.has(d)||yh(d,u)})}b_.set(r,e)},[e]),r}function MN(e){return e}function TN(e,t){t===void 0&&(t=MN);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var u=t(a,n);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(n=!0;r.length;){var u=r;r=[],u.forEach(a)}r={push:function(d){return a(d)},filter:function(){return r}}},assignMedium:function(a){n=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(a),u=r}var p=function(){var y=u;u=[],y.forEach(a)},f=function(){return Promise.resolve().then(p)};f(),r={push:function(y){u.push(y),f()},filter:function(y){return u=u.filter(y),r}}}};return o}function AN(e){e===void 0&&(e={});var t=TN(null);return t.options=Ar({async:!0,ssr:!1},e),t}var h0=function(e){var t=e.sideCar,r=u0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Ar({},r))};h0.isSideCarExport=!0;function LN(e,t){return e.useMedium(t),h0}var d0=AN(),xh=function(){},Va=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:xh,onWheelCapture:xh,onTouchMoveCapture:xh}),o=n[0],a=n[1],u=e.forwardProps,d=e.children,p=e.className,f=e.removeScrollBar,y=e.enabled,v=e.shards,w=e.sideCar,S=e.noRelative,b=e.noIsolation,x=e.inert,k=e.allowPinchZoom,N=e.as,P=N===void 0?"div":N,E=e.gapMode,M=u0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=w,O=jN([r,t]),B=Ar(Ar({},M),o);return _.createElement(_.Fragment,null,y&&_.createElement(j,{sideCar:d0,removeScrollBar:f,shards:v,noRelative:S,noIsolation:b,inert:x,setCallbacks:a,allowPinchZoom:!!k,lockRef:r,gapMode:E}),u?_.cloneElement(_.Children.only(d),Ar(Ar({},B),{ref:O})):_.createElement(P,Ar({},B,{className:p,ref:O}),d))});Va.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Va.classNames={fullWidth:xa,zeroRight:ya};var ON=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ON();return t&&e.setAttribute("nonce",t),e}function BN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FN=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IN())&&(BN(t,r),zN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$N=function(){var e=FN();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},f0=function(){var e=$N(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},WN={left:0,top:0,right:0,gap:0},Sh=function(e){return parseInt(e||"",10)||0},HN=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Sh(r),Sh(n),Sh(o)]},UN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WN;var t=HN(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},VN=f0(),Zs="data-scroll-locked",KN=function(e,t,r,n){var o=e.left,a=e.top,u=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(NN,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ya,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(xa,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(ya," .").concat(ya,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xa," .").concat(xa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(RN,": ").concat(d,`px;
  }
`)},k_=function(){var e=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(e)?e:0},qN=function(){_.useEffect(function(){return document.body.setAttribute(Zs,(k_()+1).toString()),function(){var e=k_()-1;e<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,e.toString())}},[])},YN=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;qN();var a=_.useMemo(function(){return UN(o)},[o]);return _.createElement(VN,{styles:KN(a,!t,o,r?"":"!important")})},md=!1;if(typeof window<"u")try{var ia=Object.defineProperty({},"passive",{get:function(){return md=!0,!0}});window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{md=!1}var Us=md?{passive:!1}:!1,GN=function(e){return e.tagName==="TEXTAREA"},p0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!GN(e)&&r[t]==="visible")},XN=function(e){return p0(e,"overflowY")},ZN=function(e){return p0(e,"overflowX")},E_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=m0(e,n);if(o){var a=g0(e,n),u=a[1],d=a[2];if(u>d)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},QN=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},JN=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},m0=function(e,t){return e==="v"?XN(t):ZN(t)},g0=function(e,t){return e==="v"?QN(t):JN(t)},e5=function(e,t){return e==="h"&&t==="rtl"?-1:1},t5=function(e,t,r,n,o){var a=e5(e,window.getComputedStyle(t).direction),u=a*n,d=r.target,p=t.contains(d),f=!1,y=u>0,v=0,w=0;do{if(!d)break;var S=g0(e,d),b=S[0],x=S[1],k=S[2],N=x-k-a*b;(b||N)&&m0(e,d)&&(v+=N,w+=b);var P=d.parentNode;d=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!p&&d!==document.body||p&&(t.contains(d)||t===d));return(y&&Math.abs(v)<1||!y&&Math.abs(w)<1)&&(f=!0),f},sa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N_=function(e){return[e.deltaX,e.deltaY]},R_=function(e){return e&&"current"in e?e.current:e},r5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},s5=0,Vs=[];function n5(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),o=_.useState(s5++)[0],a=_.useState(f0)[0],u=_.useRef(e);_.useEffect(function(){u.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=EN([e.lockRef.current],(e.shards||[]).map(R_),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=_.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!u.current.allowPinchZoom;var N=sa(x),P=r.current,E="deltaX"in x?x.deltaX:P[0]-N[0],M="deltaY"in x?x.deltaY:P[1]-N[1],j,O=x.target,B=Math.abs(E)>Math.abs(M)?"h":"v";if("touches"in x&&B==="h"&&O.type==="range")return!1;var z=window.getSelection(),J=z&&z.anchorNode,se=J?J===O||J.contains(O):!1;if(se)return!1;var ie=E_(B,O);if(!ie)return!0;if(ie?j=B:(j=B==="v"?"h":"v",ie=E_(B,O)),!ie)return!1;if(!n.current&&"changedTouches"in x&&(E||M)&&(n.current=j),!j)return!0;var K=n.current||j;return t5(K,k,x,K==="h"?E:M)},[]),p=_.useCallback(function(x){var k=x;if(!(!Vs.length||Vs[Vs.length-1]!==a)){var N="deltaY"in k?N_(k):sa(k),P=t.current.filter(function(j){return j.name===k.type&&(j.target===k.target||k.target===j.shadowParent)&&r5(j.delta,N)})[0];if(P&&P.should){k.cancelable&&k.preventDefault();return}if(!P){var E=(u.current.shards||[]).map(R_).filter(Boolean).filter(function(j){return j.contains(k.target)}),M=E.length>0?d(k,E[0]):!u.current.noIsolation;M&&k.cancelable&&k.preventDefault()}}},[]),f=_.useCallback(function(x,k,N,P){var E={name:x,delta:k,target:N,should:P,shadowParent:o5(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(M){return M!==E})},1)},[]),y=_.useCallback(function(x){r.current=sa(x),n.current=void 0},[]),v=_.useCallback(function(x){f(x.type,N_(x),x.target,d(x,e.lockRef.current))},[]),w=_.useCallback(function(x){f(x.type,sa(x),x.target,d(x,e.lockRef.current))},[]);_.useEffect(function(){return Vs.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",p,Us),document.addEventListener("touchmove",p,Us),document.addEventListener("touchstart",y,Us),function(){Vs=Vs.filter(function(x){return x!==a}),document.removeEventListener("wheel",p,Us),document.removeEventListener("touchmove",p,Us),document.removeEventListener("touchstart",y,Us)}},[]);var S=e.removeScrollBar,b=e.inert;return _.createElement(_.Fragment,null,b?_.createElement(a,{styles:i5(o)}):null,S?_.createElement(YN,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function o5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const l5=LN(d0,n5);var Vd=_.forwardRef(function(e,t){return _.createElement(Va,Ar({},e,{ref:t,sideCar:l5}))});Vd.classNames=Va.classNames;var a5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ks=new WeakMap,na=new WeakMap,oa={},wh=0,_0=function(e){return e&&(e.host||_0(e.parentNode))},c5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=_0(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},u5=function(e,t,r,n){var o=c5(t,Array.isArray(e)?e:[e]);oa[r]||(oa[r]=new WeakMap);var a=oa[r],u=[],d=new Set,p=new Set(o),f=function(v){!v||d.has(v)||(d.add(v),f(v.parentNode))};o.forEach(f);var y=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(w){if(d.has(w))y(w);else try{var S=w.getAttribute(n),b=S!==null&&S!=="false",x=(Ks.get(w)||0)+1,k=(a.get(w)||0)+1;Ks.set(w,x),a.set(w,k),u.push(w),x===1&&b&&na.set(w,!0),k===1&&w.setAttribute(r,"true"),b||w.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return y(t),d.clear(),wh++,function(){u.forEach(function(v){var w=Ks.get(v)-1,S=a.get(v)-1;Ks.set(v,w),a.set(v,S),w||(na.has(v)||v.removeAttribute(n),na.delete(v)),S||v.removeAttribute(r)}),wh--,wh||(Ks=new WeakMap,Ks=new WeakMap,na=new WeakMap,oa={})}},v0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=a5(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),u5(n,o,r,"aria-hidden")):function(){return null}};function h5(e){const t=d5(e),r=_.forwardRef((n,o)=>{const{children:a,...u}=n,d=_.Children.toArray(a),p=d.find(p5);if(p){const f=p.props.children,y=d.map(v=>v===p?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:v);return c.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,y):null})}return c.jsx(t,{...u,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}function d5(e){const t=_.forwardRef((r,n)=>{const{children:o,...a}=r;if(_.isValidElement(o)){const u=g5(o),d=m5(a,o.props);return o.type!==_.Fragment&&(d.ref=n?an(n,u):u),_.cloneElement(o,d)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var f5=Symbol("radix.slottable");function p5(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===f5}function m5(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...d)=>{const p=a(...d);return o(...d),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function g5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ka="Dialog",[y0]=ps(Ka),[_5,Cr]=y0(Ka),x0=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:u=!0}=e,d=_.useRef(null),p=_.useRef(null),[f,y]=rn({prop:n,defaultProp:o??!1,onChange:a,caller:Ka});return c.jsx(_5,{scope:t,triggerRef:d,contentRef:p,contentId:Li(),titleId:Li(),descriptionId:Li(),open:f,onOpenChange:y,onOpenToggle:_.useCallback(()=>y(v=>!v),[y]),modal:u,children:r})};x0.displayName=Ka;var S0="DialogTrigger",v5=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Cr(S0,r),a=Ye(t,o.triggerRef);return c.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Yd(o.open),...n,ref:a,onClick:Le(e.onClick,o.onOpenToggle)})});v5.displayName=S0;var Kd="DialogPortal",[y5,w0]=y0(Kd,{forceMount:void 0}),C0=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,a=Cr(Kd,t);return c.jsx(y5,{scope:t,forceMount:r,children:_.Children.map(n,u=>c.jsx(Lo,{present:r||a.open,children:c.jsx(Ud,{asChild:!0,container:o,children:u})}))})};C0.displayName=Kd;var Pa="DialogOverlay",b0=_.forwardRef((e,t)=>{const r=w0(Pa,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Cr(Pa,e.__scopeDialog);return a.modal?c.jsx(Lo,{present:n||a.open,children:c.jsx(S5,{...o,ref:t})}):null});b0.displayName=Pa;var x5=h5("DialogOverlay.RemoveScroll"),S5=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Cr(Pa,r);return c.jsx(Vd,{as:x5,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx(Oe.div,{"data-state":Yd(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),cs="DialogContent",k0=_.forwardRef((e,t)=>{const r=w0(cs,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=Cr(cs,e.__scopeDialog);return c.jsx(Lo,{present:n||a.open,children:a.modal?c.jsx(w5,{...o,ref:t}):c.jsx(C5,{...o,ref:t})})});k0.displayName=cs;var w5=_.forwardRef((e,t)=>{const r=Cr(cs,e.__scopeDialog),n=_.useRef(null),o=Ye(t,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return v0(a)},[]),c.jsx(E0,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,a=>a.preventDefault())})}),C5=_.forwardRef((e,t)=>{const r=Cr(cs,e.__scopeDialog),n=_.useRef(!1),o=_.useRef(!1);return c.jsx(E0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;r.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),E0=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,...u}=e,d=Cr(cs,r),p=_.useRef(null),f=Ye(t,p);return c0(),c.jsxs(c.Fragment,{children:[c.jsx(Hd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:c.jsx(Wd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Yd(d.open),...u,ref:f,onDismiss:()=>d.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(b5,{titleId:d.titleId}),c.jsx(E5,{contentRef:p,descriptionId:d.descriptionId})]})]})}),qd="DialogTitle",N0=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Cr(qd,r);return c.jsx(Oe.h2,{id:o.titleId,...n,ref:t})});N0.displayName=qd;var R0="DialogDescription",D0=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Cr(R0,r);return c.jsx(Oe.p,{id:o.descriptionId,...n,ref:t})});D0.displayName=R0;var P0="DialogClose",j0=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=Cr(P0,r);return c.jsx(Oe.button,{type:"button",...n,ref:t,onClick:Le(e.onClick,()=>o.onOpenChange(!1))})});j0.displayName=P0;function Yd(e){return e?"open":"closed"}var M0="DialogTitleWarning",[nP,T0]=VE(M0,{contentName:cs,titleName:qd,docsSlug:"dialog"}),b5=({titleId:e})=>{const t=T0(M0),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},k5="DialogDescriptionWarning",E5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T0(k5).contentName}}.`;return _.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},N5=x0,R5=C0,D5=b0,P5=k0,j5=N0,M5=D0,T5=j0;function A0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=A0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function A5(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=A0(e))&&(n&&(n+=" "),n+=t);return n}const L5=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},O5=(e,t)=>({classGroupId:e,validator:t}),L0=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),ja="-",D_=[],I5="arbitrary..",B5=e=>{const t=F5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return z5(u);const d=u.split(ja),p=d[0]===""&&d.length>1?1:0;return O0(d,p,t)},getConflictingClassGroupIds:(u,d)=>{if(d){const p=n[u],f=r[u];return p?f?L5(f,p):p:f||D_}return r[u]||D_}}},O0=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],a=r.nextPart.get(o);if(a){const f=O0(e,t+1,a);if(f)return f}const u=r.validators;if(u===null)return;const d=t===0?e.join(ja):e.slice(t).join(ja),p=u.length;for(let f=0;f<p;f++){const y=u[f];if(y.validator(d))return y.classGroupId}},z5=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?I5+n:void 0})(),F5=e=>{const{theme:t,classGroups:r}=e;return $5(r,t)},$5=(e,t)=>{const r=L0();for(const n in e){const o=e[n];Gd(o,r,n,t)}return r},Gd=(e,t,r,n)=>{const o=e.length;for(let a=0;a<o;a++){const u=e[a];W5(u,t,r,n)}},W5=(e,t,r,n)=>{if(typeof e=="string"){H5(e,t,r);return}if(typeof e=="function"){U5(e,t,r,n);return}V5(e,t,r,n)},H5=(e,t,r)=>{const n=e===""?t:I0(t,e);n.classGroupId=r},U5=(e,t,r,n)=>{if(K5(e)){Gd(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(O5(r,e))},V5=(e,t,r,n)=>{const o=Object.entries(e),a=o.length;for(let u=0;u<a;u++){const[d,p]=o[u];Gd(p,I0(t,d),r,n)}},I0=(e,t)=>{let r=e;const n=t.split(ja),o=n.length;for(let a=0;a<o;a++){const u=n[a];let d=r.nextPart.get(u);d||(d=L0(),r.nextPart.set(u,d)),r=d}return r},K5=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,q5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(a,u)=>{r[a]=u,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(a){let u=r[a];if(u!==void 0)return u;if((u=n[a])!==void 0)return o(a,u),u},set(a,u){a in r?r[a]=u:o(a,u)}}},gd="!",P_=":",Y5=[],j_=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),G5=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const a=[];let u=0,d=0,p=0,f;const y=o.length;for(let x=0;x<y;x++){const k=o[x];if(u===0&&d===0){if(k===P_){a.push(o.slice(p,x)),p=x+1;continue}if(k==="/"){f=x;continue}}k==="["?u++:k==="]"?u--:k==="("?d++:k===")"&&d--}const v=a.length===0?o:o.slice(p);let w=v,S=!1;v.endsWith(gd)?(w=v.slice(0,-1),S=!0):v.startsWith(gd)&&(w=v.slice(1),S=!0);const b=f&&f>p?f-p:void 0;return j_(a,S,w,b)};if(t){const o=t+P_,a=n;n=u=>u.startsWith(o)?a(u.slice(o.length)):j_(Y5,!1,u,void 0,!0)}if(r){const o=n;n=a=>r({className:a,parseClassName:o})}return n},X5=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let a=0;a<r.length;a++){const u=r[a],d=u[0]==="[",p=t.has(u);d||p?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},Z5=e=>({cache:q5(e.cacheSize),parseClassName:G5(e),sortModifiers:X5(e),...B5(e)}),Q5=/\s+/,J5=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:a}=t,u=[],d=e.trim().split(Q5);let p="";for(let f=d.length-1;f>=0;f-=1){const y=d[f],{isExternal:v,modifiers:w,hasImportantModifier:S,baseClassName:b,maybePostfixModifierPosition:x}=r(y);if(v){p=y+(p.length>0?" "+p:p);continue}let k=!!x,N=n(k?b.substring(0,x):b);if(!N){if(!k){p=y+(p.length>0?" "+p:p);continue}if(N=n(b),!N){p=y+(p.length>0?" "+p:p);continue}k=!1}const P=w.length===0?"":w.length===1?w[0]:a(w).join(":"),E=S?P+gd:P,M=E+N;if(u.indexOf(M)>-1)continue;u.push(M);const j=o(N,k);for(let O=0;O<j.length;++O){const B=j[O];u.push(E+B)}p=y+(p.length>0?" "+p:p)}return p},e3=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=B0(r))&&(o&&(o+=" "),o+=n);return o},B0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=B0(e[n]))&&(r&&(r+=" "),r+=t);return r},t3=(e,...t)=>{let r,n,o,a;const u=p=>{const f=t.reduce((y,v)=>v(y),e());return r=Z5(f),n=r.cache.get,o=r.cache.set,a=d,d(p)},d=p=>{const f=n(p);if(f)return f;const y=J5(p,r);return o(p,y),y};return a=u,(...p)=>a(e3(...p))},r3=[],ft=e=>{const t=r=>r[e]||r3;return t.isThemeGetter=!0,t},z0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,F0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,i3=/^\d+\/\d+$/,s3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,l3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,a3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qs=e=>i3.test(e),Pe=e=>!!e&&!Number.isNaN(Number(e)),Ni=e=>!!e&&Number.isInteger(Number(e)),Ch=e=>e.endsWith("%")&&Pe(e.slice(0,-1)),Zr=e=>s3.test(e),c3=()=>!0,u3=e=>n3.test(e)&&!o3.test(e),$0=()=>!1,h3=e=>l3.test(e),d3=e=>a3.test(e),f3=e=>!_e(e)&&!ve(e),p3=e=>cn(e,U0,$0),_e=e=>z0.test(e),rs=e=>cn(e,V0,u3),bh=e=>cn(e,y3,Pe),M_=e=>cn(e,W0,$0),m3=e=>cn(e,H0,d3),la=e=>cn(e,K0,h3),ve=e=>F0.test(e),oo=e=>un(e,V0),g3=e=>un(e,x3),T_=e=>un(e,W0),_3=e=>un(e,U0),v3=e=>un(e,H0),aa=e=>un(e,K0,!0),cn=(e,t,r)=>{const n=z0.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},un=(e,t,r=!1)=>{const n=F0.exec(e);return n?n[1]?t(n[1]):r:!1},W0=e=>e==="position"||e==="percentage",H0=e=>e==="image"||e==="url",U0=e=>e==="length"||e==="size"||e==="bg-size",V0=e=>e==="length",y3=e=>e==="number",x3=e=>e==="family-name",K0=e=>e==="shadow",S3=()=>{const e=ft("color"),t=ft("font"),r=ft("text"),n=ft("font-weight"),o=ft("tracking"),a=ft("leading"),u=ft("breakpoint"),d=ft("container"),p=ft("spacing"),f=ft("radius"),y=ft("shadow"),v=ft("inset-shadow"),w=ft("text-shadow"),S=ft("drop-shadow"),b=ft("blur"),x=ft("perspective"),k=ft("aspect"),N=ft("ease"),P=ft("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...M(),ve,_e],O=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],z=()=>[ve,_e,p],J=()=>[qs,"full","auto",...z()],se=()=>[Ni,"none","subgrid",ve,_e],ie=()=>["auto",{span:["full",Ni,ve,_e]},Ni,ve,_e],K=()=>[Ni,"auto",ve,_e],W=()=>["auto","min","max","fr",ve,_e],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...z()],Y=()=>[qs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],D=()=>[e,ve,_e],X=()=>[...M(),T_,M_,{position:[ve,_e]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",_3,p3,{size:[ve,_e]}],q=()=>[Ch,oo,rs],ce=()=>["","none","full",f,ve,_e],Z=()=>["",Pe,oo,rs],ue=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[Pe,Ch,T_,M_],oe=()=>["","none",b,ve,_e],de=()=>["none",Pe,ve,_e],we=()=>["none",Pe,ve,_e],Re=()=>[Pe,ve,_e],Te=()=>[qs,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zr],breakpoint:[Zr],color:[c3],container:[Zr],"drop-shadow":[Zr],ease:["in","out","in-out"],font:[f3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zr],shadow:[Zr],spacing:["px",Pe],text:[Zr],"text-shadow":[Zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qs,_e,ve,k]}],container:["container"],columns:[{columns:[Pe,_e,ve,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:J()}],"inset-x":[{"inset-x":J()}],"inset-y":[{"inset-y":J()}],start:[{start:J()}],end:[{end:J()}],top:[{top:J()}],right:[{right:J()}],bottom:[{bottom:J()}],left:[{left:J()}],visibility:["visible","invisible","collapse"],z:[{z:[Ni,"auto",ve,_e]}],basis:[{basis:[qs,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,qs,"auto","initial","none",_e]}],grow:[{grow:["",Pe,ve,_e]}],shrink:[{shrink:["",Pe,ve,_e]}],order:[{order:[Ni,"first","last","none",ve,_e]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[d,"screen",...Y()]}],"min-w":[{"min-w":[d,"screen","none",...Y()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",r,oo,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ve,bh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ch,_e]}],"font-family":[{font:[g3,_e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ve,_e]}],"line-clamp":[{"line-clamp":[Pe,"none",ve,bh]}],leading:[{leading:[a,...z()]}],"list-image":[{"list-image":["none",ve,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ve,rs]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[Pe,"auto",ve,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ni,ve,_e],radial:["",ve,_e],conic:[Ni,ve,_e]},v3,m3]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ve,_e]}],"outline-w":[{outline:["",Pe,oo,rs]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",y,aa,la]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",v,aa,la]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[Pe,rs]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",w,aa,la]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[Pe,ve,_e]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[ve,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,_e]}],filter:[{filter:["","none",ve,_e]}],blur:[{blur:oe()}],brightness:[{brightness:[Pe,ve,_e]}],contrast:[{contrast:[Pe,ve,_e]}],"drop-shadow":[{"drop-shadow":["","none",S,aa,la]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",Pe,ve,_e]}],"hue-rotate":[{"hue-rotate":[Pe,ve,_e]}],invert:[{invert:["",Pe,ve,_e]}],saturate:[{saturate:[Pe,ve,_e]}],sepia:[{sepia:["",Pe,ve,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,_e]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ve,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ve,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ve,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ve,_e]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ve,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ve,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ve,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ve,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ve,_e]}],ease:[{ease:["linear","initial",N,ve,_e]}],delay:[{delay:[Pe,ve,_e]}],animate:[{animate:["none",P,ve,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ve,_e]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Re()}],"skew-x":[{"skew-x":Re()}],"skew-y":[{"skew-y":Re()}],transform:[{transform:[ve,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,_e]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[Pe,oo,rs,bh]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},w3=t3(S3);function mt(...e){return w3(A5(e))}function C3({...e}){return c.jsx(N5,{"data-slot":"dialog",...e})}function b3({...e}){return c.jsx(R5,{"data-slot":"dialog-portal",...e})}function k3({className:e,...t}){return c.jsx(D5,{"data-slot":"dialog-overlay",className:mt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function E3({className:e,children:t,...r}){return c.jsxs(b3,{"data-slot":"dialog-portal",children:[c.jsx(k3,{}),c.jsxs(P5,{"data-slot":"dialog-content",className:mt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,c.jsxs(T5,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(jd,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function N3({className:e,...t}){return c.jsx("div",{"data-slot":"dialog-header",className:mt("flex flex-col gap-2 text-center sm:text-left",e),...t})}function R3({className:e,...t}){return c.jsx(j5,{"data-slot":"dialog-title",className:mt("text-lg leading-none font-semibold",e),...t})}function D3({className:e,...t}){return c.jsx(M5,{"data-slot":"dialog-description",className:mt("text-muted-foreground text-sm",e),...t})}var P3=Symbol.for("react.lazy"),Ma=Nd[" use ".trim().toString()];function j3(e){return typeof e=="object"&&e!==null&&"then"in e}function q0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===P3&&"_payload"in e&&j3(e._payload)}function Y0(e){const t=M3(e),r=_.forwardRef((n,o)=>{let{children:a,...u}=n;q0(a)&&typeof Ma=="function"&&(a=Ma(a._payload));const d=_.Children.toArray(a),p=d.find(A3);if(p){const f=p.props.children,y=d.map(v=>v===p?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:v);return c.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,y):null})}return c.jsx(t,{...u,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}function M3(e){const t=_.forwardRef((r,n)=>{let{children:o,...a}=r;if(q0(o)&&typeof Ma=="function"&&(o=Ma(o._payload)),_.isValidElement(o)){const u=O3(o),d=L3(a,o.props);return o.type!==_.Fragment&&(d.ref=n?an(n,u):u),_.cloneElement(o,d)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var T3=Symbol("radix.slottable");function A3(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===T3}function L3(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...d)=>{const p=a(...d);return o(...d),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function O3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var I3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],B3=I3.reduce((e,t)=>{const r=Y0(`Primitive.${t}`),n=_.forwardRef((o,a)=>{const{asChild:u,...d}=o,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(p,{...d,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),z3="Label",G0=_.forwardRef((e,t)=>c.jsx(B3.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));G0.displayName=z3;var F3=G0;function jr({className:e,...t}){return c.jsx(F3,{"data-slot":"label",className:mt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function A_(e,[t,r]){return Math.min(r,Math.max(t,e))}function L_(e){const t=$3(e),r=_.forwardRef((n,o)=>{const{children:a,...u}=n,d=_.Children.toArray(a),p=d.find(H3);if(p){const f=p.props.children,y=d.map(v=>v===p?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:v);return c.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,y):null})}return c.jsx(t,{...u,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}function $3(e){const t=_.forwardRef((r,n)=>{const{children:o,...a}=r;if(_.isValidElement(o)){const u=V3(o),d=U3(a,o.props);return o.type!==_.Fragment&&(d.ref=n?an(n,u):u),_.cloneElement(o,d)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W3=Symbol("radix.slottable");function H3(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W3}function U3(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...d)=>{const p=a(...d);return o(...d),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function V3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function X0(e){const t=e+"CollectionProvider",[r,n]=ps(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:k,children:N}=x,P=Kt.useRef(null),E=Kt.useRef(new Map).current;return c.jsx(o,{scope:k,itemMap:E,collectionRef:P,children:N})};u.displayName=t;const d=e+"CollectionSlot",p=L_(d),f=Kt.forwardRef((x,k)=>{const{scope:N,children:P}=x,E=a(d,N),M=Ye(k,E.collectionRef);return c.jsx(p,{ref:M,children:P})});f.displayName=d;const y=e+"CollectionItemSlot",v="data-radix-collection-item",w=L_(y),S=Kt.forwardRef((x,k)=>{const{scope:N,children:P,...E}=x,M=Kt.useRef(null),j=Ye(k,M),O=a(y,N);return Kt.useEffect(()=>(O.itemMap.set(M,{ref:M,...E}),()=>void O.itemMap.delete(M))),c.jsx(w,{[v]:"",ref:j,children:P})});S.displayName=y;function b(x){const k=a(e+"CollectionConsumer",x);return Kt.useCallback(()=>{const P=k.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((O,B)=>E.indexOf(O.ref.current)-E.indexOf(B.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:f,ItemSlot:S},b,n]}var K3=_.createContext(void 0);function Xd(e){const t=_.useContext(K3);return e||t||"ltr"}const q3=["top","right","bottom","left"],Ii=Math.min,tr=Math.max,Ta=Math.round,ca=Math.floor,Br=e=>({x:e,y:e}),Y3={left:"right",right:"left",bottom:"top",top:"bottom"},G3={start:"end",end:"start"};function _d(e,t,r){return tr(e,Ii(t,r))}function ti(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function hn(e){return e.split("-")[1]}function Zd(e){return e==="x"?"y":"x"}function Qd(e){return e==="y"?"height":"width"}const X3=new Set(["top","bottom"]);function Or(e){return X3.has(ri(e))?"y":"x"}function Jd(e){return Zd(Or(e))}function Z3(e,t,r){r===void 0&&(r=!1);const n=hn(e),o=Jd(e),a=Qd(o);let u=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Aa(u)),[u,Aa(u)]}function Q3(e){const t=Aa(e);return[vd(e),t,vd(t)]}function vd(e){return e.replace(/start|end/g,t=>G3[t])}const O_=["left","right"],I_=["right","left"],J3=["top","bottom"],eR=["bottom","top"];function tR(e,t,r){switch(e){case"top":case"bottom":return r?t?I_:O_:t?O_:I_;case"left":case"right":return t?J3:eR;default:return[]}}function rR(e,t,r,n){const o=hn(e);let a=tR(ri(e),r==="start",n);return o&&(a=a.map(u=>u+"-"+o),t&&(a=a.concat(a.map(vd)))),a}function Aa(e){return e.replace(/left|right|bottom|top/g,t=>Y3[t])}function iR(e){return{top:0,right:0,bottom:0,left:0,...e}}function Z0(e){return typeof e!="number"?iR(e):{top:e,right:e,bottom:e,left:e}}function La(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function B_(e,t,r){let{reference:n,floating:o}=e;const a=Or(t),u=Jd(t),d=Qd(u),p=ri(t),f=a==="y",y=n.x+n.width/2-o.width/2,v=n.y+n.height/2-o.height/2,w=n[d]/2-o[d]/2;let S;switch(p){case"top":S={x:y,y:n.y-o.height};break;case"bottom":S={x:y,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:v};break;case"left":S={x:n.x-o.width,y:v};break;default:S={x:n.x,y:n.y}}switch(hn(t)){case"start":S[u]-=w*(r&&f?-1:1);break;case"end":S[u]+=w*(r&&f?-1:1);break}return S}const sR=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:u}=r,d=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(t));let f=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:y,y:v}=B_(f,n,p),w=n,S={},b=0;for(let x=0;x<d.length;x++){const{name:k,fn:N}=d[x],{x:P,y:E,data:M,reset:j}=await N({x:y,y:v,initialPlacement:n,placement:w,strategy:o,middlewareData:S,rects:f,platform:u,elements:{reference:e,floating:t}});y=P??y,v=E??v,S={...S,[k]:{...S[k],...M}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(w=j.placement),j.rects&&(f=j.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):j.rects),{x:y,y:v}=B_(f,w,p)),x=-1)}return{x:y,y:v,placement:w,strategy:o,middlewareData:S}};async function ko(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:u,elements:d,strategy:p}=e,{boundary:f="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:w=!1,padding:S=0}=ti(t,e),b=Z0(S),k=d[w?v==="floating"?"reference":"floating":v],N=La(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(k)))==null||r?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:f,rootBoundary:y,strategy:p})),P=v==="floating"?{x:n,y:o,width:u.floating.width,height:u.floating.height}:u.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),M=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},j=La(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:E,strategy:p}):P);return{top:(N.top-j.top+b.top)/M.y,bottom:(j.bottom-N.bottom+b.bottom)/M.y,left:(N.left-j.left+b.left)/M.x,right:(j.right-N.right+b.right)/M.x}}const nR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:u,elements:d,middlewareData:p}=t,{element:f,padding:y=0}=ti(e,t)||{};if(f==null)return{};const v=Z0(y),w={x:r,y:n},S=Jd(o),b=Qd(S),x=await u.getDimensions(f),k=S==="y",N=k?"top":"left",P=k?"bottom":"right",E=k?"clientHeight":"clientWidth",M=a.reference[b]+a.reference[S]-w[S]-a.floating[b],j=w[S]-a.reference[S],O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let B=O?O[E]:0;(!B||!await(u.isElement==null?void 0:u.isElement(O)))&&(B=d.floating[E]||a.floating[b]);const z=M/2-j/2,J=B/2-x[b]/2-1,se=Ii(v[N],J),ie=Ii(v[P],J),K=se,W=B-x[b]-ie,H=B/2-x[b]/2+z,L=_d(K,H,W),$=!p.arrow&&hn(o)!=null&&H!==L&&a.reference[b]/2-(H<K?se:ie)-x[b]/2<0,Y=$?H<K?H-K:H-W:0;return{[S]:w[S]+Y,data:{[S]:L,centerOffset:H-L-Y,...$&&{alignmentOffset:Y}},reset:$}}}),oR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:u,initialPlacement:d,platform:p,elements:f}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...k}=ti(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=ri(o),P=Or(d),E=ri(d)===d,M=await(p.isRTL==null?void 0:p.isRTL(f.floating)),j=w||(E||!x?[Aa(d)]:Q3(d)),O=b!=="none";!w&&O&&j.push(...rR(d,x,b,M));const B=[d,...j],z=await ko(t,k),J=[];let se=((n=a.flip)==null?void 0:n.overflows)||[];if(y&&J.push(z[N]),v){const H=Z3(o,u,M);J.push(z[H[0]],z[H[1]])}if(se=[...se,{placement:o,overflows:J}],!J.every(H=>H<=0)){var ie,K;const H=(((ie=a.flip)==null?void 0:ie.index)||0)+1,L=B[H];if(L&&(!(v==="alignment"?P!==Or(L):!1)||se.every(D=>Or(D.placement)===P?D.overflows[0]>0:!0)))return{data:{index:H,overflows:se},reset:{placement:L}};let $=(K=se.filter(Y=>Y.overflows[0]<=0).sort((Y,D)=>Y.overflows[1]-D.overflows[1])[0])==null?void 0:K.placement;if(!$)switch(S){case"bestFit":{var W;const Y=(W=se.filter(D=>{if(O){const X=Or(D.placement);return X===P||X==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(X=>X>0).reduce((X,Q)=>X+Q,0)]).sort((D,X)=>D[1]-X[1])[0])==null?void 0:W[0];Y&&($=Y);break}case"initialPlacement":$=d;break}if(o!==$)return{reset:{placement:$}}}return{}}}};function z_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function F_(e){return q3.some(t=>e[t]>=0)}const lR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=ti(e,t);switch(n){case"referenceHidden":{const a=await ko(t,{...o,elementContext:"reference"}),u=z_(a,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:F_(u)}}}case"escaped":{const a=await ko(t,{...o,altBoundary:!0}),u=z_(a,r.floating);return{data:{escapedOffsets:u,escaped:F_(u)}}}default:return{}}}}},Q0=new Set(["left","top"]);async function aR(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),u=ri(r),d=hn(r),p=Or(r)==="y",f=Q0.has(u)?-1:1,y=a&&p?-1:1,v=ti(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:b}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof b=="number"&&(S=d==="end"?b*-1:b),p?{x:S*y,y:w*f}:{x:w*f,y:S*y}}const cR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:u,middlewareData:d}=t,p=await aR(t,e);return u===((r=d.offset)==null?void 0:r.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:u}}}}},uR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:k=>{let{x:N,y:P}=k;return{x:N,y:P}}},...p}=ti(e,t),f={x:r,y:n},y=await ko(t,p),v=Or(ri(o)),w=Zd(v);let S=f[w],b=f[v];if(a){const k=w==="y"?"top":"left",N=w==="y"?"bottom":"right",P=S+y[k],E=S-y[N];S=_d(P,S,E)}if(u){const k=v==="y"?"top":"left",N=v==="y"?"bottom":"right",P=b+y[k],E=b-y[N];b=_d(P,b,E)}const x=d.fn({...t,[w]:S,[v]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[w]:a,[v]:u}}}}}},hR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:u}=t,{offset:d=0,mainAxis:p=!0,crossAxis:f=!0}=ti(e,t),y={x:r,y:n},v=Or(o),w=Zd(v);let S=y[w],b=y[v];const x=ti(d,t),k=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(p){const E=w==="y"?"height":"width",M=a.reference[w]-a.floating[E]+k.mainAxis,j=a.reference[w]+a.reference[E]-k.mainAxis;S<M?S=M:S>j&&(S=j)}if(f){var N,P;const E=w==="y"?"width":"height",M=Q0.has(ri(o)),j=a.reference[v]-a.floating[E]+(M&&((N=u.offset)==null?void 0:N[v])||0)+(M?0:k.crossAxis),O=a.reference[v]+a.reference[E]+(M?0:((P=u.offset)==null?void 0:P[v])||0)-(M?k.crossAxis:0);b<j?b=j:b>O&&(b=O)}return{[w]:S,[v]:b}}}},dR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:u,elements:d}=t,{apply:p=()=>{},...f}=ti(e,t),y=await ko(t,f),v=ri(o),w=hn(o),S=Or(o)==="y",{width:b,height:x}=a.floating;let k,N;v==="top"||v==="bottom"?(k=v,N=w===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(N=v,k=w==="end"?"top":"bottom");const P=x-y.top-y.bottom,E=b-y.left-y.right,M=Ii(x-y[k],P),j=Ii(b-y[N],E),O=!t.middlewareData.shift;let B=M,z=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(B=P),O&&!w){const se=tr(y.left,0),ie=tr(y.right,0),K=tr(y.top,0),W=tr(y.bottom,0);S?z=b-2*(se!==0||ie!==0?se+ie:tr(y.left,y.right)):B=x-2*(K!==0||W!==0?K+W:tr(y.top,y.bottom))}await p({...t,availableWidth:z,availableHeight:B});const J=await u.getDimensions(d.floating);return b!==J.width||x!==J.height?{reset:{rects:!0}}:{}}}};function qa(){return typeof window<"u"}function dn(e){return J0(e)?(e.nodeName||"").toLowerCase():"#document"}function rr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $r(e){var t;return(t=(J0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function J0(e){return qa()?e instanceof Node||e instanceof rr(e).Node:!1}function Sr(e){return qa()?e instanceof Element||e instanceof rr(e).Element:!1}function Fr(e){return qa()?e instanceof HTMLElement||e instanceof rr(e).HTMLElement:!1}function $_(e){return!qa()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rr(e).ShadowRoot}const fR=new Set(["inline","contents"]);function Oo(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!fR.has(o)}const pR=new Set(["table","td","th"]);function mR(e){return pR.has(dn(e))}const gR=[":popover-open",":modal"];function Ya(e){return gR.some(t=>{try{return e.matches(t)}catch{return!1}})}const _R=["transform","translate","scale","rotate","perspective"],vR=["transform","translate","scale","rotate","perspective","filter"],yR=["paint","layout","strict","content"];function ef(e){const t=tf(),r=Sr(e)?wr(e):e;return _R.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||vR.some(n=>(r.willChange||"").includes(n))||yR.some(n=>(r.contain||"").includes(n))}function xR(e){let t=Bi(e);for(;Fr(t)&&!sn(t);){if(ef(t))return t;if(Ya(t))return null;t=Bi(t)}return null}function tf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SR=new Set(["html","body","#document"]);function sn(e){return SR.has(dn(e))}function wr(e){return rr(e).getComputedStyle(e)}function Ga(e){return Sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bi(e){if(dn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$_(e)&&e.host||$r(e);return $_(t)?t.host:t}function ey(e){const t=Bi(e);return sn(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&Oo(t)?t:ey(t)}function Eo(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=ey(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),u=rr(o);if(a){const d=yd(u);return t.concat(u,u.visualViewport||[],Oo(o)?o:[],d&&r?Eo(d):[])}return t.concat(o,Eo(o,[],r))}function yd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ty(e){const t=wr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=Fr(e),a=o?e.offsetWidth:r,u=o?e.offsetHeight:n,d=Ta(r)!==a||Ta(n)!==u;return d&&(r=a,n=u),{width:r,height:n,$:d}}function rf(e){return Sr(e)?e:e.contextElement}function Qs(e){const t=rf(e);if(!Fr(t))return Br(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=ty(t);let u=(a?Ta(r.width):r.width)/n,d=(a?Ta(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const wR=Br(0);function ry(e){const t=rr(e);return!tf()||!t.visualViewport?wR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function CR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==rr(e)?!1:t}function us(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=rf(e);let u=Br(1);t&&(n?Sr(n)&&(u=Qs(n)):u=Qs(e));const d=CR(a,r,n)?ry(a):Br(0);let p=(o.left+d.x)/u.x,f=(o.top+d.y)/u.y,y=o.width/u.x,v=o.height/u.y;if(a){const w=rr(a),S=n&&Sr(n)?rr(n):n;let b=w,x=yd(b);for(;x&&n&&S!==b;){const k=Qs(x),N=x.getBoundingClientRect(),P=wr(x),E=N.left+(x.clientLeft+parseFloat(P.paddingLeft))*k.x,M=N.top+(x.clientTop+parseFloat(P.paddingTop))*k.y;p*=k.x,f*=k.y,y*=k.x,v*=k.y,p+=E,f+=M,b=rr(x),x=yd(b)}}return La({width:y,height:v,x:p,y:f})}function Xa(e,t){const r=Ga(e).scrollLeft;return t?t.left+r:us($r(e)).left+r}function iy(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Xa(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function bR(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",u=$r(n),d=t?Ya(t.floating):!1;if(n===u||d&&a)return r;let p={scrollLeft:0,scrollTop:0},f=Br(1);const y=Br(0),v=Fr(n);if((v||!v&&!a)&&((dn(n)!=="body"||Oo(u))&&(p=Ga(n)),Fr(n))){const S=us(n);f=Qs(n),y.x=S.x+n.clientLeft,y.y=S.y+n.clientTop}const w=u&&!v&&!a?iy(u,p):Br(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-p.scrollLeft*f.x+y.x+w.x,y:r.y*f.y-p.scrollTop*f.y+y.y+w.y}}function kR(e){return Array.from(e.getClientRects())}function ER(e){const t=$r(e),r=Ga(e),n=e.ownerDocument.body,o=tr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=tr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let u=-r.scrollLeft+Xa(e);const d=-r.scrollTop;return wr(n).direction==="rtl"&&(u+=tr(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:u,y:d}}const W_=25;function NR(e,t){const r=rr(e),n=$r(e),o=r.visualViewport;let a=n.clientWidth,u=n.clientHeight,d=0,p=0;if(o){a=o.width,u=o.height;const y=tf();(!y||y&&t==="fixed")&&(d=o.offsetLeft,p=o.offsetTop)}const f=Xa(n);if(f<=0){const y=n.ownerDocument,v=y.body,w=getComputedStyle(v),S=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,b=Math.abs(n.clientWidth-v.clientWidth-S);b<=W_&&(a-=b)}else f<=W_&&(a+=f);return{width:a,height:u,x:d,y:p}}const RR=new Set(["absolute","fixed"]);function DR(e,t){const r=us(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=Fr(e)?Qs(e):Br(1),u=e.clientWidth*a.x,d=e.clientHeight*a.y,p=o*a.x,f=n*a.y;return{width:u,height:d,x:p,y:f}}function H_(e,t,r){let n;if(t==="viewport")n=NR(e,r);else if(t==="document")n=ER($r(e));else if(Sr(t))n=DR(t,r);else{const o=ry(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return La(n)}function sy(e,t){const r=Bi(e);return r===t||!Sr(r)||sn(r)?!1:wr(r).position==="fixed"||sy(r,t)}function PR(e,t){const r=t.get(e);if(r)return r;let n=Eo(e,[],!1).filter(d=>Sr(d)&&dn(d)!=="body"),o=null;const a=wr(e).position==="fixed";let u=a?Bi(e):e;for(;Sr(u)&&!sn(u);){const d=wr(u),p=ef(u);!p&&d.position==="fixed"&&(o=null),(a?!p&&!o:!p&&d.position==="static"&&!!o&&RR.has(o.position)||Oo(u)&&!p&&sy(e,u))?n=n.filter(y=>y!==u):o=d,u=Bi(u)}return t.set(e,n),n}function jR(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const u=[...r==="clippingAncestors"?Ya(t)?[]:PR(t,this._c):[].concat(r),n],d=u[0],p=u.reduce((f,y)=>{const v=H_(t,y,o);return f.top=tr(v.top,f.top),f.right=Ii(v.right,f.right),f.bottom=Ii(v.bottom,f.bottom),f.left=tr(v.left,f.left),f},H_(t,d,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function MR(e){const{width:t,height:r}=ty(e);return{width:t,height:r}}function TR(e,t,r){const n=Fr(t),o=$r(t),a=r==="fixed",u=us(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const p=Br(0);function f(){p.x=Xa(o)}if(n||!n&&!a)if((dn(t)!=="body"||Oo(o))&&(d=Ga(t)),n){const S=us(t,!0,a,t);p.x=S.x+t.clientLeft,p.y=S.y+t.clientTop}else o&&f();a&&!n&&o&&f();const y=o&&!n&&!a?iy(o,d):Br(0),v=u.left+d.scrollLeft-p.x-y.x,w=u.top+d.scrollTop-p.y-y.y;return{x:v,y:w,width:u.width,height:u.height}}function kh(e){return wr(e).position==="static"}function U_(e,t){if(!Fr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return $r(e)===r&&(r=r.ownerDocument.body),r}function ny(e,t){const r=rr(e);if(Ya(e))return r;if(!Fr(e)){let o=Bi(e);for(;o&&!sn(o);){if(Sr(o)&&!kh(o))return o;o=Bi(o)}return r}let n=U_(e,t);for(;n&&mR(n)&&kh(n);)n=U_(n,t);return n&&sn(n)&&kh(n)&&!ef(n)?r:n||xR(e)||r}const AR=async function(e){const t=this.getOffsetParent||ny,r=this.getDimensions,n=await r(e.floating);return{reference:TR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function LR(e){return wr(e).direction==="rtl"}const OR={convertOffsetParentRelativeRectToViewportRelativeRect:bR,getDocumentElement:$r,getClippingRect:jR,getOffsetParent:ny,getElementRects:AR,getClientRects:kR,getDimensions:MR,getScale:Qs,isElement:Sr,isRTL:LR};function oy(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IR(e,t){let r=null,n;const o=$r(e);function a(){var d;clearTimeout(n),(d=r)==null||d.disconnect(),r=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),a();const f=e.getBoundingClientRect(),{left:y,top:v,width:w,height:S}=f;if(d||t(),!w||!S)return;const b=ca(v),x=ca(o.clientWidth-(y+w)),k=ca(o.clientHeight-(v+S)),N=ca(y),E={rootMargin:-b+"px "+-x+"px "+-k+"px "+-N+"px",threshold:tr(0,Ii(1,p))||1};let M=!0;function j(O){const B=O[0].intersectionRatio;if(B!==p){if(!M)return u();B?u(!1,B):n=setTimeout(()=>{u(!1,1e-7)},1e3)}B===1&&!oy(f,e.getBoundingClientRect())&&u(),M=!1}try{r=new IntersectionObserver(j,{...E,root:o.ownerDocument})}catch{r=new IntersectionObserver(j,E)}r.observe(e)}return u(!0),a}function BR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,f=rf(e),y=o||a?[...f?Eo(f):[],...Eo(t)]:[];y.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const v=f&&d?IR(f,r):null;let w=-1,S=null;u&&(S=new ResizeObserver(N=>{let[P]=N;P&&P.target===f&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var E;(E=S)==null||E.observe(t)})),r()}),f&&!p&&S.observe(f),S.observe(t));let b,x=p?us(e):null;p&&k();function k(){const N=us(e);x&&!oy(x,N)&&r(),x=N,b=requestAnimationFrame(k)}return r(),()=>{var N;y.forEach(P=>{o&&P.removeEventListener("scroll",r),a&&P.removeEventListener("resize",r)}),v?.(),(N=S)==null||N.disconnect(),S=null,p&&cancelAnimationFrame(b)}}const zR=cR,FR=uR,$R=oR,WR=dR,HR=lR,V_=nR,UR=hR,VR=(e,t,r)=>{const n=new Map,o={platform:OR,...r},a={...o.platform,_c:n};return sR(e,t,{...o,platform:a})};var KR=typeof document<"u",qR=function(){},Sa=KR?_.useLayoutEffect:qR;function Oa(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Oa(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!Oa(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ly(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function K_(e,t){const r=ly(e);return Math.round(t*r)/r}function Eh(e){const t=_.useRef(e);return Sa(()=>{t.current=e}),t}function YR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:p,open:f}=e,[y,v]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=_.useState(n);Oa(w,n)||S(n);const[b,x]=_.useState(null),[k,N]=_.useState(null),P=_.useCallback(D=>{D!==O.current&&(O.current=D,x(D))},[]),E=_.useCallback(D=>{D!==B.current&&(B.current=D,N(D))},[]),M=a||b,j=u||k,O=_.useRef(null),B=_.useRef(null),z=_.useRef(y),J=p!=null,se=Eh(p),ie=Eh(o),K=Eh(f),W=_.useCallback(()=>{if(!O.current||!B.current)return;const D={placement:t,strategy:r,middleware:w};ie.current&&(D.platform=ie.current),VR(O.current,B.current,D).then(X=>{const Q={...X,isPositioned:K.current!==!1};H.current&&!Oa(z.current,Q)&&(z.current=Q,Ao.flushSync(()=>{v(Q)}))})},[w,t,r,ie,K]);Sa(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v(D=>({...D,isPositioned:!1})))},[f]);const H=_.useRef(!1);Sa(()=>(H.current=!0,()=>{H.current=!1}),[]),Sa(()=>{if(M&&(O.current=M),j&&(B.current=j),M&&j){if(se.current)return se.current(M,j,W);W()}},[M,j,W,se,J]);const L=_.useMemo(()=>({reference:O,floating:B,setReference:P,setFloating:E}),[P,E]),$=_.useMemo(()=>({reference:M,floating:j}),[M,j]),Y=_.useMemo(()=>{const D={position:r,left:0,top:0};if(!$.floating)return D;const X=K_($.floating,y.x),Q=K_($.floating,y.y);return d?{...D,transform:"translate("+X+"px, "+Q+"px)",...ly($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:Q}},[r,d,$.floating,y.x,y.y]);return _.useMemo(()=>({...y,update:W,refs:L,elements:$,floatingStyles:Y}),[y,W,L,$,Y])}const GR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?V_({element:n.current,padding:o}).fn(r):{}:n?V_({element:n,padding:o}).fn(r):{}}}},XR=(e,t)=>({...zR(e),options:[e,t]}),ZR=(e,t)=>({...FR(e),options:[e,t]}),QR=(e,t)=>({...UR(e),options:[e,t]}),JR=(e,t)=>({...$R(e),options:[e,t]}),eD=(e,t)=>({...WR(e),options:[e,t]}),tD=(e,t)=>({...HR(e),options:[e,t]}),rD=(e,t)=>({...GR(e),options:[e,t]});var iD="Arrow",ay=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return c.jsx(Oe.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});ay.displayName=iD;var sD=ay;function cy(e){const[t,r]=_.useState(void 0);return Mt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,d;if("borderBoxSize"in a){const p=a.borderBoxSize,f=Array.isArray(p)?p[0]:p;u=f.inlineSize,d=f.blockSize}else u=e.offsetWidth,d=e.offsetHeight;r({width:u,height:d})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var sf="Popper",[uy,hy]=ps(sf),[nD,dy]=uy(sf),fy=e=>{const{__scopePopper:t,children:r}=e,[n,o]=_.useState(null);return c.jsx(nD,{scope:t,anchor:n,onAnchorChange:o,children:r})};fy.displayName=sf;var py="PopperAnchor",my=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=dy(py,r),u=_.useRef(null),d=Ye(t,u),p=_.useRef(null);return _.useEffect(()=>{const f=p.current;p.current=n?.current||u.current,f!==p.current&&a.onAnchorChange(p.current)}),n?null:c.jsx(Oe.div,{...o,ref:d})});my.displayName=py;var nf="PopperContent",[oD,lD]=uy(nf),gy=_.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:f=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:b,...x}=e,k=dy(nf,r),[N,P]=_.useState(null),E=Ye(t,ee=>P(ee)),[M,j]=_.useState(null),O=cy(M),B=O?.width??0,z=O?.height??0,J=n+(a!=="center"?"-"+a:""),se=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ie=Array.isArray(f)?f:[f],K=ie.length>0,W={padding:se,boundary:ie.filter(cD),altBoundary:K},{refs:H,floatingStyles:L,placement:$,isPositioned:Y,middlewareData:D}=YR({strategy:"fixed",placement:J,whileElementsMounted:(...ee)=>BR(...ee,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[XR({mainAxis:o+z,alignmentAxis:u}),p&&ZR({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?QR():void 0,...W}),p&&JR({...W}),eD({...W,apply:({elements:ee,rects:oe,availableWidth:de,availableHeight:we})=>{const{width:Re,height:Te}=oe.reference,ke=ee.floating.style;ke.setProperty("--radix-popper-available-width",`${de}px`),ke.setProperty("--radix-popper-available-height",`${we}px`),ke.setProperty("--radix-popper-anchor-width",`${Re}px`),ke.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),M&&rD({element:M,padding:d}),uD({arrowWidth:B,arrowHeight:z}),w&&tD({strategy:"referenceHidden",...W})]}),[X,Q]=yy($),T=Oi(b);Mt(()=>{Y&&T?.()},[Y,T]);const q=D.arrow?.x,ce=D.arrow?.y,Z=D.arrow?.centerOffset!==0,[ue,pe]=_.useState();return Mt(()=>{N&&pe(window.getComputedStyle(N).zIndex)},[N]),c.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:Y?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(oD,{scope:r,placedSide:X,onArrowChange:j,arrowX:q,arrowY:ce,shouldHideArrow:Z,children:c.jsx(Oe.div,{"data-side":X,"data-align":Q,...x,ref:E,style:{...x.style,animation:Y?void 0:"none"}})})})});gy.displayName=nf;var _y="PopperArrow",aD={top:"bottom",right:"left",bottom:"top",left:"right"},vy=_.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=lD(_y,n),u=aD[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(sD,{...o,ref:r,style:{...o.style,display:"block"}})})});vy.displayName=_y;function cD(e){return e!==null}var uD=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:o}=t,u=o.arrow?.centerOffset!==0,d=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[f,y]=yy(r),v={start:"0%",center:"50%",end:"100%"}[y],w=(o.arrow?.x??0)+d/2,S=(o.arrow?.y??0)+p/2;let b="",x="";return f==="bottom"?(b=u?v:`${w}px`,x=`${-p}px`):f==="top"?(b=u?v:`${w}px`,x=`${n.floating.height+p}px`):f==="right"?(b=`${-p}px`,x=u?v:`${S}px`):f==="left"&&(b=`${n.floating.width+p}px`,x=u?v:`${S}px`),{data:{x:b,y:x}}}});function yy(e){const[t,r="center"]=e.split("-");return[t,r]}var hD=fy,dD=my,fD=gy,pD=vy;function mD(e){const t=gD(e),r=_.forwardRef((n,o)=>{const{children:a,...u}=n,d=_.Children.toArray(a),p=d.find(vD);if(p){const f=p.props.children,y=d.map(v=>v===p?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:v);return c.jsx(t,{...u,ref:o,children:_.isValidElement(f)?_.cloneElement(f,void 0,y):null})}return c.jsx(t,{...u,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}function gD(e){const t=_.forwardRef((r,n)=>{const{children:o,...a}=r;if(_.isValidElement(o)){const u=xD(o),d=yD(a,o.props);return o.type!==_.Fragment&&(d.ref=n?an(n,u):u),_.cloneElement(o,d)}return _.Children.count(o)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _D=Symbol("radix.slottable");function vD(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_D}function yD(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...d)=>{const p=a(...d);return o(...d),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function xD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xy(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Sy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SD="VisuallyHidden",wD=_.forwardRef((e,t)=>c.jsx(Oe.span,{...e,ref:t,style:{...Sy,...e.style}}));wD.displayName=SD;var CD=[" ","Enter","ArrowUp","ArrowDown"],bD=[" ","Enter"],hs="Select",[Za,Qa,kD]=X0(hs),[fn]=ps(hs,[kD,hy]),Ja=hy(),[ED,zi]=fn(hs),[ND,RD]=fn(hs),wy=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:u,defaultValue:d,onValueChange:p,dir:f,name:y,autoComplete:v,disabled:w,required:S,form:b}=e,x=Ja(t),[k,N]=_.useState(null),[P,E]=_.useState(null),[M,j]=_.useState(!1),O=Xd(f),[B,z]=rn({prop:n,defaultProp:o??!1,onChange:a,caller:hs}),[J,se]=rn({prop:u,defaultProp:d,onChange:p,caller:hs}),ie=_.useRef(null),K=k?b||!!k.closest("form"):!0,[W,H]=_.useState(new Set),L=Array.from(W).map($=>$.props.value).join(";");return c.jsx(hD,{...x,children:c.jsxs(ED,{required:S,scope:t,trigger:k,onTriggerChange:N,valueNode:P,onValueNodeChange:E,valueNodeHasChildren:M,onValueNodeHasChildrenChange:j,contentId:Li(),value:J,onValueChange:se,open:B,onOpenChange:z,dir:O,triggerPointerDownPosRef:ie,disabled:w,children:[c.jsx(Za.Provider,{scope:t,children:c.jsx(ND,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback($=>{H(Y=>new Set(Y).add($))},[]),onNativeOptionRemove:_.useCallback($=>{H(Y=>{const D=new Set(Y);return D.delete($),D})},[]),children:r})}),K?c.jsxs(Uy,{"aria-hidden":!0,required:S,tabIndex:-1,name:y,autoComplete:v,value:J,onChange:$=>se($.target.value),disabled:w,form:b,children:[J===void 0?c.jsx("option",{value:""}):null,Array.from(W)]},L):null]})})};wy.displayName=hs;var Cy="SelectTrigger",by=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=Ja(r),u=zi(Cy,r),d=u.disabled||n,p=Ye(t,u.onTriggerChange),f=Qa(r),y=_.useRef("touch"),[v,w,S]=Ky(x=>{const k=f().filter(E=>!E.disabled),N=k.find(E=>E.value===u.value),P=qy(k,x,N);P!==void 0&&u.onValueChange(P.value)}),b=x=>{d||(u.onOpenChange(!0),S()),x&&(u.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return c.jsx(dD,{asChild:!0,...a,children:c.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Vy(u.value)?"":void 0,...o,ref:p,onClick:Le(o.onClick,x=>{x.currentTarget.focus(),y.current!=="mouse"&&b(x)}),onPointerDown:Le(o.onPointerDown,x=>{y.current=x.pointerType;const k=x.target;k.hasPointerCapture(x.pointerId)&&k.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:Le(o.onKeyDown,x=>{const k=v.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&w(x.key),!(k&&x.key===" ")&&CD.includes(x.key)&&(b(),x.preventDefault())})})})});by.displayName=Cy;var ky="SelectValue",Ey=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:u="",...d}=e,p=zi(ky,r),{onValueNodeHasChildrenChange:f}=p,y=a!==void 0,v=Ye(t,p.onValueNodeChange);return Mt(()=>{f(y)},[f,y]),c.jsx(Oe.span,{...d,ref:v,style:{pointerEvents:"none"},children:Vy(p.value)?c.jsx(c.Fragment,{children:u}):a})});Ey.displayName=ky;var DD="SelectIcon",Ny=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return c.jsx(Oe.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});Ny.displayName=DD;var PD="SelectPortal",Ry=e=>c.jsx(Ud,{asChild:!0,...e});Ry.displayName=PD;var ds="SelectContent",Dy=_.forwardRef((e,t)=>{const r=zi(ds,e.__scopeSelect),[n,o]=_.useState();if(Mt(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?Ao.createPortal(c.jsx(Py,{scope:e.__scopeSelect,children:c.jsx(Za.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),a):null}return c.jsx(jy,{...e,ref:t})});Dy.displayName=ds;var xr=10,[Py,Fi]=fn(ds),jD="SelectContentImpl",MD=mD("SelectContent.RemoveScroll"),jy=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:u,side:d,sideOffset:p,align:f,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:S,sticky:b,hideWhenDetached:x,avoidCollisions:k,...N}=e,P=zi(ds,r),[E,M]=_.useState(null),[j,O]=_.useState(null),B=Ye(t,ee=>M(ee)),[z,J]=_.useState(null),[se,ie]=_.useState(null),K=Qa(r),[W,H]=_.useState(!1),L=_.useRef(!1);_.useEffect(()=>{if(E)return v0(E)},[E]),c0();const $=_.useCallback(ee=>{const[oe,...de]=K().map(Te=>Te.ref.current),[we]=de.slice(-1),Re=document.activeElement;for(const Te of ee)if(Te===Re||(Te?.scrollIntoView({block:"nearest"}),Te===oe&&j&&(j.scrollTop=0),Te===we&&j&&(j.scrollTop=j.scrollHeight),Te?.focus(),document.activeElement!==Re))return},[K,j]),Y=_.useCallback(()=>$([z,E]),[$,z,E]);_.useEffect(()=>{W&&Y()},[W,Y]);const{onOpenChange:D,triggerPointerDownPosRef:X}=P;_.useEffect(()=>{if(E){let ee={x:0,y:0};const oe=we=>{ee={x:Math.abs(Math.round(we.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(X.current?.y??0))}},de=we=>{ee.x<=10&&ee.y<=10?we.preventDefault():E.contains(we.target)||D(!1),document.removeEventListener("pointermove",oe),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",de,{capture:!0})}}},[E,D,X]),_.useEffect(()=>{const ee=()=>D(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[D]);const[Q,T]=Ky(ee=>{const oe=K().filter(Re=>!Re.disabled),de=oe.find(Re=>Re.ref.current===document.activeElement),we=qy(oe,ee,de);we&&setTimeout(()=>we.ref.current.focus())}),q=_.useCallback((ee,oe,de)=>{const we=!L.current&&!de;(P.value!==void 0&&P.value===oe||we)&&(J(ee),we&&(L.current=!0))},[P.value]),ce=_.useCallback(()=>E?.focus(),[E]),Z=_.useCallback((ee,oe,de)=>{const we=!L.current&&!de;(P.value!==void 0&&P.value===oe||we)&&ie(ee)},[P.value]),ue=n==="popper"?xd:My,pe=ue===xd?{side:d,sideOffset:p,align:f,alignOffset:y,arrowPadding:v,collisionBoundary:w,collisionPadding:S,sticky:b,hideWhenDetached:x,avoidCollisions:k}:{};return c.jsx(Py,{scope:r,content:E,viewport:j,onViewportChange:O,itemRefCallback:q,selectedItem:z,onItemLeave:ce,itemTextRefCallback:Z,focusSelectedItem:Y,selectedItemText:se,position:n,isPositioned:W,searchRef:Q,children:c.jsx(Vd,{as:MD,allowPinchZoom:!0,children:c.jsx(Hd,{asChild:!0,trapped:P.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Le(o,ee=>{P.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:c.jsx(Wd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:c.jsx(ue,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:ee=>ee.preventDefault(),...N,...pe,onPlaced:()=>H(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Le(N.onKeyDown,ee=>{const oe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!oe&&ee.key.length===1&&T(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let we=K().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Re=ee.target,Te=we.indexOf(Re);we=we.slice(Te+1)}setTimeout(()=>$(we)),ee.preventDefault()}})})})})})})});jy.displayName=jD;var TD="SelectItemAlignedPosition",My=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=zi(ds,r),u=Fi(ds,r),[d,p]=_.useState(null),[f,y]=_.useState(null),v=Ye(t,B=>y(B)),w=Qa(r),S=_.useRef(!1),b=_.useRef(!0),{viewport:x,selectedItem:k,selectedItemText:N,focusSelectedItem:P}=u,E=_.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&f&&x&&k&&N){const B=a.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),J=a.valueNode.getBoundingClientRect(),se=N.getBoundingClientRect();if(a.dir!=="rtl"){const Re=se.left-z.left,Te=J.left-Re,ke=B.left-Te,Tt=B.width+ke,ms=Math.max(Tt,z.width),gs=window.innerWidth-xr,$i=A_(Te,[xr,Math.max(xr,gs-ms)]);d.style.minWidth=Tt+"px",d.style.left=$i+"px"}else{const Re=z.right-se.right,Te=window.innerWidth-J.right-Re,ke=window.innerWidth-B.right-Te,Tt=B.width+ke,ms=Math.max(Tt,z.width),gs=window.innerWidth-xr,$i=A_(Te,[xr,Math.max(xr,gs-ms)]);d.style.minWidth=Tt+"px",d.style.right=$i+"px"}const ie=w(),K=window.innerHeight-xr*2,W=x.scrollHeight,H=window.getComputedStyle(f),L=parseInt(H.borderTopWidth,10),$=parseInt(H.paddingTop,10),Y=parseInt(H.borderBottomWidth,10),D=parseInt(H.paddingBottom,10),X=L+$+W+D+Y,Q=Math.min(k.offsetHeight*5,X),T=window.getComputedStyle(x),q=parseInt(T.paddingTop,10),ce=parseInt(T.paddingBottom,10),Z=B.top+B.height/2-xr,ue=K-Z,pe=k.offsetHeight/2,ee=k.offsetTop+pe,oe=L+$+ee,de=X-oe;if(oe<=Z){const Re=ie.length>0&&k===ie[ie.length-1].ref.current;d.style.bottom="0px";const Te=f.clientHeight-x.offsetTop-x.offsetHeight,ke=Math.max(ue,pe+(Re?ce:0)+Te+Y),Tt=oe+ke;d.style.height=Tt+"px"}else{const Re=ie.length>0&&k===ie[0].ref.current;d.style.top="0px";const ke=Math.max(Z,L+x.offsetTop+(Re?q:0)+pe)+de;d.style.height=ke+"px",x.scrollTop=oe-Z+x.offsetTop}d.style.margin=`${xr}px 0`,d.style.minHeight=Q+"px",d.style.maxHeight=K+"px",n?.(),requestAnimationFrame(()=>S.current=!0)}},[w,a.trigger,a.valueNode,d,f,x,k,N,a.dir,n]);Mt(()=>E(),[E]);const[M,j]=_.useState();Mt(()=>{f&&j(window.getComputedStyle(f).zIndex)},[f]);const O=_.useCallback(B=>{B&&b.current===!0&&(E(),P?.(),b.current=!1)},[E,P]);return c.jsx(LD,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:O,children:c.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:c.jsx(Oe.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});My.displayName=TD;var AD="SelectPopperPosition",xd=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=xr,...a}=e,u=Ja(r);return c.jsx(fD,{...u,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xd.displayName=AD;var[LD,of]=fn(ds,{}),Sd="SelectViewport",Ty=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=Fi(Sd,r),u=of(Sd,r),d=Ye(t,a.onViewportChange),p=_.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Za.Slot,{scope:r,children:c.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Le(o.onScroll,f=>{const y=f.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=u;if(w?.current&&v){const S=Math.abs(p.current-y.scrollTop);if(S>0){const b=window.innerHeight-xr*2,x=parseFloat(v.style.minHeight),k=parseFloat(v.style.height),N=Math.max(x,k);if(N<b){const P=N+S,E=Math.min(b,P),M=P-E;v.style.height=E+"px",v.style.bottom==="0px"&&(y.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});Ty.displayName=Sd;var Ay="SelectGroup",[OD,ID]=fn(Ay),BD=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Li();return c.jsx(OD,{scope:r,id:o,children:c.jsx(Oe.div,{role:"group","aria-labelledby":o,...n,ref:t})})});BD.displayName=Ay;var Ly="SelectLabel",zD=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=ID(Ly,r);return c.jsx(Oe.div,{id:o.id,...n,ref:t})});zD.displayName=Ly;var Ia="SelectItem",[FD,Oy]=fn(Ia),Iy=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...u}=e,d=zi(Ia,r),p=Fi(Ia,r),f=d.value===n,[y,v]=_.useState(a??""),[w,S]=_.useState(!1),b=Ye(t,P=>p.itemRefCallback?.(P,n,o)),x=Li(),k=_.useRef("touch"),N=()=>{o||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(FD,{scope:r,value:n,disabled:o,textId:x,isSelected:f,onItemTextChange:_.useCallback(P=>{v(E=>E||(P?.textContent??"").trim())},[]),children:c.jsx(Za.ItemSlot,{scope:r,value:n,disabled:o,textValue:y,children:c.jsx(Oe.div,{role:"option","aria-labelledby":x,"data-highlighted":w?"":void 0,"aria-selected":f&&w,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:b,onFocus:Le(u.onFocus,()=>S(!0)),onBlur:Le(u.onBlur,()=>S(!1)),onClick:Le(u.onClick,()=>{k.current!=="mouse"&&N()}),onPointerUp:Le(u.onPointerUp,()=>{k.current==="mouse"&&N()}),onPointerDown:Le(u.onPointerDown,P=>{k.current=P.pointerType}),onPointerMove:Le(u.onPointerMove,P=>{k.current=P.pointerType,o?p.onItemLeave?.():k.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(u.onPointerLeave,P=>{P.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Le(u.onKeyDown,P=>{p.searchRef?.current!==""&&P.key===" "||(bD.includes(P.key)&&N(),P.key===" "&&P.preventDefault())})})})})});Iy.displayName=Ia;var vo="SelectItemText",By=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,u=zi(vo,r),d=Fi(vo,r),p=Oy(vo,r),f=RD(vo,r),[y,v]=_.useState(null),w=Ye(t,N=>v(N),p.onItemTextChange,N=>d.itemTextRefCallback?.(N,p.value,p.disabled)),S=y?.textContent,b=_.useMemo(()=>c.jsx("option",{value:p.value,disabled:p.disabled,children:S},p.value),[p.disabled,p.value,S]),{onNativeOptionAdd:x,onNativeOptionRemove:k}=f;return Mt(()=>(x(b),()=>k(b)),[x,k,b]),c.jsxs(c.Fragment,{children:[c.jsx(Oe.span,{id:p.textId,...a,ref:w}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ao.createPortal(a.children,u.valueNode):null]})});By.displayName=vo;var zy="SelectItemIndicator",Fy=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Oy(zy,r).isSelected?c.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});Fy.displayName=zy;var wd="SelectScrollUpButton",$y=_.forwardRef((e,t)=>{const r=Fi(wd,e.__scopeSelect),n=of(wd,e.__scopeSelect),[o,a]=_.useState(!1),u=Ye(t,n.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const f=p.scrollTop>0;a(f)};const p=r.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?c.jsx(Hy,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=r;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});$y.displayName=wd;var Cd="SelectScrollDownButton",Wy=_.forwardRef((e,t)=>{const r=Fi(Cd,e.__scopeSelect),n=of(Cd,e.__scopeSelect),[o,a]=_.useState(!1),u=Ye(t,n.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const f=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<f;a(y)};const p=r.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),o?c.jsx(Hy,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=r;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});Wy.displayName=Cd;var Hy=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=Fi("SelectScrollButton",r),u=_.useRef(null),d=Qa(r),p=_.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return _.useEffect(()=>()=>p(),[p]),Mt(()=>{d().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),c.jsx(Oe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Le(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:Le(o.onPointerMove,()=>{a.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:Le(o.onPointerLeave,()=>{p()})})}),$D="SelectSeparator",WD=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});WD.displayName=$D;var bd="SelectArrow",HD=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Ja(r),a=zi(bd,r),u=Fi(bd,r);return a.open&&u.position==="popper"?c.jsx(pD,{...o,...n,ref:t}):null});HD.displayName=bd;var UD="SelectBubbleInput",Uy=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=_.useRef(null),a=Ye(n,o),u=xy(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&y){const v=new Event("change",{bubbles:!0});y.call(d,t),d.dispatchEvent(v)}},[u,t]),c.jsx(Oe.select,{...r,style:{...Sy,...r.style},ref:a,defaultValue:t})});Uy.displayName=UD;function Vy(e){return e===""||e===void 0}function Ky(e){const t=Oi(e),r=_.useRef(""),n=_.useRef(0),o=_.useCallback(u=>{const d=r.current+u;t(d),(function p(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>p(""),1e3))})(d)},[t]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function qy(e,t,r){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let u=VD(e,Math.max(a,0));o.length===1&&(u=u.filter(f=>f!==r));const p=u.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==r?p:void 0}function VD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KD=wy,qD=by,YD=Ey,GD=Ny,XD=Ry,ZD=Dy,QD=Ty,JD=Iy,e4=By,t4=Fy,r4=$y,i4=Wy;function lo({...e}){return c.jsx(KD,{"data-slot":"select",...e})}function ao({...e}){return c.jsx(YD,{"data-slot":"select-value",...e})}function co({className:e,size:t="default",children:r,...n}){return c.jsxs(qD,{"data-slot":"select-trigger","data-size":t,className:mt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,c.jsx(GD,{asChild:!0,children:c.jsx(nn,{className:"size-4 opacity-50"})})]})}function uo({className:e,children:t,position:r="popper",...n}){return c.jsx(XD,{children:c.jsxs(ZD,{"data-slot":"select-content",className:mt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c.jsx(s4,{}),c.jsx(QD,{className:mt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),c.jsx(n4,{})]})})}function nt({className:e,children:t,...r}){return c.jsxs(JD,{"data-slot":"select-item",className:mt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[c.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:c.jsx(t4,{children:c.jsx(AS,{className:"size-4"})})}),c.jsx(e4,{children:t})]})}function s4({className:e,...t}){return c.jsx(r4,{"data-slot":"select-scroll-up-button",className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Dh,{className:"size-4"})})}function n4({className:e,...t}){return c.jsx(i4,{"data-slot":"select-scroll-down-button",className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(nn,{className:"size-4"})})}var ec="Switch",[o4]=ps(ec),[l4,a4]=o4(ec),Yy=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:a,required:u,disabled:d,value:p="on",onCheckedChange:f,form:y,...v}=e,[w,S]=_.useState(null),b=Ye(t,E=>S(E)),x=_.useRef(!1),k=w?y||!!w.closest("form"):!0,[N,P]=rn({prop:o,defaultProp:a??!1,onChange:f,caller:ec});return c.jsxs(l4,{scope:r,checked:N,disabled:d,children:[c.jsx(Oe.button,{type:"button",role:"switch","aria-checked":N,"aria-required":u,"data-state":Qy(N),"data-disabled":d?"":void 0,disabled:d,value:p,...v,ref:b,onClick:Le(e.onClick,E=>{P(M=>!M),k&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})}),k&&c.jsx(Zy,{control:w,bubbles:!x.current,name:n,value:p,checked:N,required:u,disabled:d,form:y,style:{transform:"translateX(-100%)"}})]})});Yy.displayName=ec;var Gy="SwitchThumb",Xy=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,o=a4(Gy,r);return c.jsx(Oe.span,{"data-state":Qy(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});Xy.displayName=Gy;var c4="SwitchBubbleInput",Zy=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...o},a)=>{const u=_.useRef(null),d=Ye(u,a),p=xy(r),f=cy(t);return _.useEffect(()=>{const y=u.current;if(!y)return;const v=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(v,"checked").set;if(p!==r&&S){const b=new Event("click",{bubbles:n});S.call(y,r),y.dispatchEvent(b)}},[p,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:d,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Zy.displayName=c4;function Qy(e){return e?"checked":"unchecked"}var u4=Yy,h4=Xy;function ua({className:e,...t}){return c.jsx(u4,{"data-slot":"switch",className:mt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(h4,{"data-slot":"switch-thumb",className:mt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var d4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],f4=d4.reduce((e,t)=>{const r=Y0(`Primitive.${t}`),n=_.forwardRef((o,a)=>{const{asChild:u,...d}=o,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(p,{...d,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),p4="Separator",q_="horizontal",m4=["horizontal","vertical"],Jy=_.forwardRef((e,t)=>{const{decorative:r,orientation:n=q_,...o}=e,a=g4(n)?n:q_,d=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(f4.div,{"data-orientation":a,...d,...o,ref:t})});Jy.displayName=p4;function g4(e){return m4.includes(e)}var _4=Jy;function Nh({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return c.jsx(_4,{"data-slot":"separator-root",decorative:r,orientation:t,className:mt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var Rh="rovingFocusGroup.onEntryFocus",v4={bubbles:!1,cancelable:!0},Io="RovingFocusGroup",[kd,ex,y4]=X0(Io),[x4,tx]=ps(Io,[y4]),[S4,w4]=x4(Io),rx=_.forwardRef((e,t)=>c.jsx(kd.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(kd.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(C4,{...e,ref:t})})}));rx.displayName=Io;var C4=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:f,preventScrollOnEntryFocus:y=!1,...v}=e,w=_.useRef(null),S=Ye(t,w),b=Xd(a),[x,k]=rn({prop:u,defaultProp:d??null,onChange:p,caller:Io}),[N,P]=_.useState(!1),E=Oi(f),M=ex(r),j=_.useRef(!1),[O,B]=_.useState(0);return _.useEffect(()=>{const z=w.current;if(z)return z.addEventListener(Rh,E),()=>z.removeEventListener(Rh,E)},[E]),c.jsx(S4,{scope:r,orientation:n,dir:b,loop:o,currentTabStopId:x,onItemFocus:_.useCallback(z=>k(z),[k]),onItemShiftTab:_.useCallback(()=>P(!0),[]),onFocusableItemAdd:_.useCallback(()=>B(z=>z+1),[]),onFocusableItemRemove:_.useCallback(()=>B(z=>z-1),[]),children:c.jsx(Oe.div,{tabIndex:N||O===0?-1:0,"data-orientation":n,...v,ref:S,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{j.current=!0}),onFocus:Le(e.onFocus,z=>{const J=!j.current;if(z.target===z.currentTarget&&J&&!N){const se=new CustomEvent(Rh,v4);if(z.currentTarget.dispatchEvent(se),!se.defaultPrevented){const ie=M().filter($=>$.focusable),K=ie.find($=>$.active),W=ie.find($=>$.id===x),L=[K,W,...ie].filter(Boolean).map($=>$.ref.current);nx(L,y)}}j.current=!1}),onBlur:Le(e.onBlur,()=>P(!1))})})}),ix="RovingFocusGroupItem",sx=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:u,...d}=e,p=Li(),f=a||p,y=w4(ix,r),v=y.currentTabStopId===f,w=ex(r),{onFocusableItemAdd:S,onFocusableItemRemove:b,currentTabStopId:x}=y;return _.useEffect(()=>{if(n)return S(),()=>b()},[n,S,b]),c.jsx(kd.ItemSlot,{scope:r,id:f,focusable:n,active:o,children:c.jsx(Oe.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...d,ref:t,onMouseDown:Le(e.onMouseDown,k=>{n?y.onItemFocus(f):k.preventDefault()}),onFocus:Le(e.onFocus,()=>y.onItemFocus(f)),onKeyDown:Le(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){y.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const N=E4(k,y.orientation,y.dir);if(N!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let E=w().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")E.reverse();else if(N==="prev"||N==="next"){N==="prev"&&E.reverse();const M=E.indexOf(k.currentTarget);E=y.loop?N4(E,M+1):E.slice(M+1)}setTimeout(()=>nx(E))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:x!=null}):u})})});sx.displayName=ix;var b4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k4(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function E4(e,t,r){const n=k4(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return b4[n]}function nx(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function N4(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var R4=rx,D4=sx,tc="Tabs",[P4]=ps(tc,[tx]),ox=tx(),[j4,lf]=P4(tc),lx=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:u="horizontal",dir:d,activationMode:p="automatic",...f}=e,y=Xd(d),[v,w]=rn({prop:n,onChange:o,defaultProp:a??"",caller:tc});return c.jsx(j4,{scope:r,baseId:Li(),value:v,onValueChange:w,orientation:u,dir:y,activationMode:p,children:c.jsx(Oe.div,{dir:y,"data-orientation":u,...f,ref:t})})});lx.displayName=tc;var ax="TabsList",cx=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=lf(ax,r),u=ox(r);return c.jsx(R4,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:n,children:c.jsx(Oe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});cx.displayName=ax;var ux="TabsTrigger",hx=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,u=lf(ux,r),d=ox(r),p=px(u.baseId,n),f=mx(u.baseId,n),y=n===u.value;return c.jsx(D4,{asChild:!0,...d,focusable:!o,active:y,children:c.jsx(Oe.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":f,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...a,ref:t,onMouseDown:Le(e.onMouseDown,v=>{!o&&v.button===0&&v.ctrlKey===!1?u.onValueChange(n):v.preventDefault()}),onKeyDown:Le(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(n)}),onFocus:Le(e.onFocus,()=>{const v=u.activationMode!=="manual";!y&&!o&&v&&u.onValueChange(n)})})})});hx.displayName=ux;var dx="TabsContent",fx=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...u}=e,d=lf(dx,r),p=px(d.baseId,n),f=mx(d.baseId,n),y=n===d.value,v=_.useRef(y);return _.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),c.jsx(Lo,{present:o||y,children:({present:w})=>c.jsx(Oe.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":p,hidden:!w,id:f,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:w&&a})})});fx.displayName=dx;function px(e,t){return`${e}-trigger-${t}`}function mx(e,t){return`${e}-content-${t}`}var M4=lx,T4=cx,A4=hx,L4=fx;function O4({className:e,...t}){return c.jsx(M4,{"data-slot":"tabs",className:mt("flex flex-col gap-2",e),...t})}function I4({className:e,...t}){return c.jsx(T4,{"data-slot":"tabs-list",className:mt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function ha({className:e,...t}){return c.jsx(A4,{"data-slot":"tabs-trigger",className:mt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function da({className:e,...t}){return c.jsx(L4,{"data-slot":"tabs-content",className:mt("flex-1 outline-none",e),...t})}function B4({isOpen:e,onClose:t}){const[r,n]=_.useState("13"),[o,a]=_.useState("2"),[u,d]=_.useState("dark"),[p,f]=_.useState(!0),[y,v]=_.useState(!0),[w,S]=_.useState(!1),[b,x]=_.useState(!1);return c.jsx(C3,{open:e,onOpenChange:t,children:c.jsxs(E3,{className:"max-w-2xl max-h-[80vh] overflow-y-auto bg-[#252526] text-white border-[#454545]",children:[c.jsxs(N3,{children:[c.jsxs(R3,{className:"flex items-center gap-2 text-white",children:[c.jsx(rv,{size:20}),"Settings"]}),c.jsx(D3,{className:"text-[#CCCCCC]",children:"Configure your IDE preferences"})]}),c.jsxs(O4,{defaultValue:"editor",className:"w-full",children:[c.jsxs(I4,{className:"grid w-full grid-cols-4 bg-[#1E1E1E]",children:[c.jsxs(ha,{value:"editor",className:"data-[state=active]:bg-[#37373D]",children:[c.jsx(za,{size:16,className:"mr-2"}),"Editor"]}),c.jsxs(ha,{value:"terminal",className:"data-[state=active]:bg-[#37373D]",children:[c.jsx(Mi,{size:16,className:"mr-2"}),"Terminal"]}),c.jsxs(ha,{value:"appearance",className:"data-[state=active]:bg-[#37373D]",children:[c.jsx(Rw,{size:16,className:"mr-2"}),"Appearance"]}),c.jsxs(ha,{value:"shortcuts",className:"data-[state=active]:bg-[#37373D]",children:[c.jsx(yw,{size:16,className:"mr-2"}),"Shortcuts"]})]}),c.jsx(da,{value:"editor",className:"space-y-6 mt-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Font Size"}),c.jsxs(lo,{value:r,onValueChange:n,children:[c.jsx(co,{className:"bg-[#3C3C3C] border-[#454545]",children:c.jsx(ao,{})}),c.jsxs(uo,{className:"bg-[#3C3C3C] border-[#454545]",children:[c.jsx(nt,{value:"11",children:"11px"}),c.jsx(nt,{value:"12",children:"12px"}),c.jsx(nt,{value:"13",children:"13px (Default)"}),c.jsx(nt,{value:"14",children:"14px"}),c.jsx(nt,{value:"15",children:"15px"}),c.jsx(nt,{value:"16",children:"16px"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Tab Size"}),c.jsxs(lo,{value:o,onValueChange:a,children:[c.jsx(co,{className:"bg-[#3C3C3C] border-[#454545]",children:c.jsx(ao,{})}),c.jsxs(uo,{className:"bg-[#3C3C3C] border-[#454545]",children:[c.jsx(nt,{value:"2",children:"2 spaces"}),c.jsx(nt,{value:"4",children:"4 spaces"}),c.jsx(nt,{value:"8",children:"8 spaces"})]})]})]}),c.jsx(Nh,{className:"bg-[#454545]"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Show Line Numbers"}),c.jsx("p",{className:"text-[11px] text-[#858585]",children:"Display line numbers in the editor"})]}),c.jsx(ua,{checked:y,onCheckedChange:v})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Show Minimap"}),c.jsx("p",{className:"text-[11px] text-[#858585]",children:"Display minimap overview on the right side"})]}),c.jsx(ua,{checked:p,onCheckedChange:f})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Word Wrap"}),c.jsx("p",{className:"text-[11px] text-[#858585]",children:"Wrap long lines to fit in the viewport"})]}),c.jsx(ua,{checked:w,onCheckedChange:S})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Auto Save"}),c.jsx("p",{className:"text-[11px] text-[#858585]",children:"Automatically save files after editing"})]}),c.jsx(ua,{checked:b,onCheckedChange:x})]})]})}),c.jsx(da,{value:"terminal",className:"space-y-6 mt-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Default Shell"}),c.jsxs(lo,{defaultValue:"bash",children:[c.jsx(co,{className:"bg-[#3C3C3C] border-[#454545]",children:c.jsx(ao,{})}),c.jsxs(uo,{className:"bg-[#3C3C3C] border-[#454545]",children:[c.jsx(nt,{value:"bash",children:"Bash"}),c.jsx(nt,{value:"zsh",children:"Zsh"}),c.jsx(nt,{value:"powershell",children:"PowerShell"}),c.jsx(nt,{value:"cmd",children:"Command Prompt"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Terminal Font Size"}),c.jsxs(lo,{defaultValue:"13",children:[c.jsx(co,{className:"bg-[#3C3C3C] border-[#454545]",children:c.jsx(ao,{})}),c.jsxs(uo,{className:"bg-[#3C3C3C] border-[#454545]",children:[c.jsx(nt,{value:"11",children:"11px"}),c.jsx(nt,{value:"12",children:"12px"}),c.jsx(nt,{value:"13",children:"13px (Default)"}),c.jsx(nt,{value:"14",children:"14px"}),c.jsx(nt,{value:"15",children:"15px"})]})]})]})]})}),c.jsx(da,{value:"appearance",className:"space-y-6 mt-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Theme"}),c.jsxs(lo,{value:u,onValueChange:d,children:[c.jsx(co,{className:"bg-[#3C3C3C] border-[#454545]",children:c.jsx(ao,{})}),c.jsxs(uo,{className:"bg-[#3C3C3C] border-[#454545]",children:[c.jsx(nt,{value:"dark",children:"Dark (Default)"}),c.jsx(nt,{value:"light",children:"Light"}),c.jsx(nt,{value:"high-contrast",children:"High Contrast"})]})]})]}),c.jsx(Nh,{className:"bg-[#454545]"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(jr,{className:"text-[#CCCCCC]",children:"Color Scheme"}),c.jsx("p",{className:"text-[11px] text-[#858585]",children:"Choose syntax highlighting colors"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[c.jsx("button",{className:"p-3 bg-[#1E1E1E] border-2 border-[#007ACC] rounded-lg text-[11px]",children:"VS Code Dark"}),c.jsx("button",{className:"p-3 bg-[#1E1E1E] border border-[#454545] rounded-lg text-[11px] hover:border-[#007ACC]",children:"Monokai"}),c.jsx("button",{className:"p-3 bg-[#1E1E1E] border border-[#454545] rounded-lg text-[11px] hover:border-[#007ACC]",children:"Dracula"}),c.jsx("button",{className:"p-3 bg-[#1E1E1E] border border-[#454545] rounded-lg text-[11px] hover:border-[#007ACC]",children:"Solarized"})]})]})]})}),c.jsx(da,{value:"shortcuts",className:"space-y-4 mt-6",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-[13px] font-semibold text-[#CCCCCC]",children:"Editor"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ri,{label:"Save File",keys:["Ctrl","S"]}),c.jsx(Ri,{label:"Close File",keys:["Ctrl","W"]}),c.jsx(Ri,{label:"Find",keys:["Ctrl","F"]}),c.jsx(Ri,{label:"Replace",keys:["Ctrl","H"]})]}),c.jsx(Nh,{className:"bg-[#454545] my-4"}),c.jsx("h3",{className:"text-[13px] font-semibold text-[#CCCCCC]",children:"Navigation"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ri,{label:"Quick Open",keys:["Ctrl","P"]}),c.jsx(Ri,{label:"Command Palette",keys:["Ctrl","Shift","P"]}),c.jsx(Ri,{label:"Toggle Sidebar",keys:["Ctrl","B"]}),c.jsx(Ri,{label:"Toggle Terminal",keys:["Ctrl","`"]})]})]})})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#454545]",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-[#858585]",children:[c.jsx(ev,{size:14}),c.jsx("span",{children:"Settings are saved automatically"})]}),c.jsx("button",{onClick:t,className:"px-4 py-2 bg-[#007ACC] hover:bg-[#005A9E] text-white rounded text-[13px]",children:"Close"})]})]})})}function Ri({label:e,keys:t}){return c.jsxs("div",{className:"flex items-center justify-between py-1",children:[c.jsx("span",{className:"text-[12px] text-[#CCCCCC]",children:e}),c.jsx("div",{className:"flex gap-1",children:t.map(r=>c.jsx("kbd",{className:"px-2 py-1 bg-[#3C3C3C] border border-[#454545] rounded text-[11px] text-[#CCCCCC]",children:r},r))})]})}function z4({onRunCode:e}){const[t,r]=_.useState(new Date),[n,o]=_.useState(!1),[a,u]=_.useState(0),[d,p]=_.useState({line:1,column:1}),[f,y]=_.useState("plaintext"),[v,w]=_.useState("UTF-8"),[S,b]=_.useState("LF"),[x]=_.useState(!1);return _.useEffect(()=>{const k=setInterval(()=>r(new Date),1e3);return()=>clearInterval(k)},[]),c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"h-6 bg-[#007ACC] flex items-center justify-between px-3 text-white text-[11px]",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1.5 hover:bg-[#005A9E] px-2 py-0.5 rounded cursor-pointer",children:[c.jsx(Dd,{size:12}),c.jsx("span",{children:"main"})]}),c.jsx("div",{className:"flex items-center gap-1.5",children:x?c.jsxs(c.Fragment,{children:[c.jsx(ei,{size:12,className:"text-yellow-200"}),c.jsx("span",{children:"Security scan recommended"})]}):c.jsxs(c.Fragment,{children:[c.jsx(HS,{size:12}),c.jsx("span",{children:"No Issues"})]})}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(dC,{size:12}),c.jsx("span",{children:"CTR v0.2.0"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(za,{size:12}),c.jsxs("span",{children:["Ln ",d.line,", Col ",d.column]})]}),c.jsx("div",{className:"hover:bg-[#005A9E] px-2 py-0.5 rounded cursor-pointer",children:c.jsx("span",{children:f})}),c.jsx("div",{className:"hover:bg-[#005A9E] px-2 py-0.5 rounded cursor-pointer",children:c.jsx("span",{children:v})}),c.jsx("div",{className:"hover:bg-[#005A9E] px-2 py-0.5 rounded cursor-pointer",children:c.jsx("span",{children:S})})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[e&&c.jsxs("button",{onClick:e,className:"flex items-center gap-1 hover:bg-[#005A9E] px-2 py-0.5 rounded cursor-pointer",title:"Run Code (Ctrl+Shift+R)",children:[c.jsx(en,{size:12}),c.jsx("span",{children:"Run"})]}),c.jsx("div",{className:"hover:bg-[#005A9E] px-2 py-0.5 rounded",children:c.jsx("span",{children:t.toLocaleTimeString()})}),c.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1.5 hover:bg-[#005A9E] px-2 py-0.5 rounded",title:"Settings",children:[c.jsx(rv,{size:12}),c.jsx("span",{children:"Settings"})]})]})]}),c.jsx(B4,{isOpen:n,onClose:()=>o(!1)})]})}const Ke=new(window.AudioContext||window.webkitAudioContext),Mr=(e,t,r,n,o=.1)=>{const a=Ke.createOscillator(),u=Ke.createGain();a.type=e,a.frequency.setValueAtTime(t,n),u.gain.setValueAtTime(o,n),u.gain.exponentialRampToValueAtTime(.01,n+r),a.connect(u),u.connect(Ke.destination),a.start(n),a.stop(n+r)},Y_={playClick:()=>{Ke.state==="suspended"&&Ke.resume();const e=Ke.currentTime;Mr("square",800,.05,e,.05)},playPowerUp:()=>{Ke.state==="suspended"&&Ke.resume();const e=Ke.currentTime;Mr("sawtooth",110,.4,e,.1),Mr("sine",440,.4,e,.1),Mr("square",880,.2,e+.2,.05)},playSuccess:()=>{Ke.state==="suspended"&&Ke.resume();const e=Ke.currentTime;Mr("sine",523.25,.3,e,.1),Mr("sine",659.25,.3,e+.1,.1),Mr("sine",783.99,.5,e+.2,.1)},playFailure:()=>{Ke.state==="suspended"&&Ke.resume();const e=Ke.currentTime;Mr("sawtooth",150,.3,e,.1),Mr("sawtooth",140,.3,e+.1,.1)},playGlitch:()=>{Ke.state==="suspended"&&Ke.resume();const e=Ke.currentTime;for(let t=0;t<5;t++){const r=200+Math.random()*1e3,n=Math.random()*.1;Mr("square",r,.05,e+n,.03)}},playTyping:()=>{Ke.state==="suspended"&&Ke.resume();const e=Ke.currentTime,t=Ke.createOscillator(),r=Ke.createGain();t.type="triangle",t.frequency.setValueAtTime(3e3,e),r.gain.setValueAtTime(.01,e),r.gain.exponentialRampToValueAtTime(.001,e+.03),t.connect(r),r.connect(Ke.destination),t.start(e),t.stop(e+.03)}},F4={primary:"#00ff41",secondary:"#008F11",background:"#0a0a0a",text:"#00ff41",border:"#003B00",accent:"#ff00ff",warning:"#ffcc00",danger:"#ff0040"},$4={primary:"#007ACC",secondary:"#3C3C3C",background:"#1E1E1E",text:"#CCCCCC",border:"#2D2D30",accent:"#007ACC",warning:"#CCA700",danger:"#F14C4C"},gx=_.createContext(void 0);function W4({children:e}){const[t,r]=_.useState(()=>{const p=localStorage.getItem("isHackerMode");return p?JSON.parse(p):!1}),[n,o]=_.useState(()=>{const p=localStorage.getItem("soundEnabled");return p?JSON.parse(p):!0});_.useEffect(()=>{localStorage.setItem("isHackerMode",JSON.stringify(t)),t?document.documentElement.classList.add("hacker-mode"):document.documentElement.classList.remove("hacker-mode")},[t]),_.useEffect(()=>{localStorage.setItem("soundEnabled",JSON.stringify(n))},[n]);const a=()=>r(p=>!p),u=()=>o(p=>!p),d=p=>{n&&Y_[p]&&Y_[p]()};return c.jsx(gx.Provider,{value:{isHackerMode:t,toggleHackerMode:a,hackerColors:F4,normalColors:$4,soundEnabled:n,toggleSound:u,playSound:d},children:e})}function Bo(){const e=_.useContext(gx);if(e===void 0)throw new Error("useHackerMode must be used within a HackerModeProvider");return e}function H4(){const{isHackerMode:e,toggleHackerMode:t,soundEnabled:r,toggleSound:n,playSound:o}=Bo(),[a,u]=_.useState(!1),d=()=>{u(!0),t(),o(e?"playClick":"playPowerUp")};return _.useEffect(()=>{if(a){const p=setTimeout(()=>u(!1),500);return()=>clearTimeout(p)}},[a]),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{n(),r||o("playClick")},className:`p-1.5 rounded-md transition-colors ${e?r?"text-[#00ff41] hover:bg-[#00ff41]/20":"text-[#00ff41]/50 hover:bg-[#00ff41]/10":r?"text-[#CCCCCC] hover:bg-[#3C3C3C]":"text-[#858585] hover:bg-[#3C3C3C]"}`,title:r?"Mute SFX":"Enable SFX",children:r?c.jsx(lC,{size:14}):c.jsx(cC,{size:14})}),c.jsxs("button",{onClick:d,className:`
            relative flex items-center gap-2 px-3 py-1.5 rounded-md text-[11px] font-mono font-bold
            transition-all duration-300 overflow-hidden
            ${e?"bg-[#00ff41]/20 text-[#00ff41] border border-[#00ff41]/50 shadow-[0_0_15px_rgba(0,255,65,0.3)]":"bg-[#3C3C3C] text-[#858585] border border-[#454545] hover:bg-[#454545]"}
            ${a?"scale-105":""}
          `,children:[a&&e&&c.jsx("div",{className:"absolute inset-0 bg-[#00ff41]/20 animate-pulse"}),c.jsx("span",{className:`
              w-2 h-2 rounded-full transition-all duration-300
              ${e?"bg-[#00ff41] shadow-[0_0_8px_#00ff41] animate-pulse":"bg-[#858585]"}
            `}),c.jsx("span",{className:e?"hacker-text-glitch":"",children:"HACK"}),c.jsx("span",{className:`text-[9px] ${e?"text-[#00ff41]":"text-[#858585]"}`,children:e?"ON":"OFF"})]})]})}function U4({onNewFile:e,onNewFolder:t,onOpen:r,onOpenFile:n,onOpenFolder:o,onSave:a,onCloseFile:u,onFind:d,onReplace:p,onToggleTerminal:f,onShowAbout:y,onRunCode:v}){const[w,S]=_.useState(null),[b,x]=_.useState({top:0,left:0}),k=_.useRef(null),N=_.useRef({}),P={File:{items:[{label:"New File",shortcut:"Ctrl+N",action:e},{label:"New Folder",action:t},{label:"Open File...",shortcut:"Ctrl+O",action:n},{label:"Open Folder...",shortcut:"Ctrl+K Ctrl+O",action:o},{label:"",divider:!0},{label:"Save",shortcut:"Ctrl+S",action:a},{label:"Save As...",shortcut:"Ctrl+Shift+S"},{label:"Save All",shortcut:"Ctrl+K S"},{label:"",divider:!0},{label:"Close File",shortcut:"Ctrl+W",action:u},{label:"Close Folder",shortcut:"Ctrl+K F"},{label:"Exit",shortcut:"Ctrl+Q"}]},Edit:{items:[{label:"Undo",shortcut:"Ctrl+Z"},{label:"Redo",shortcut:"Ctrl+Y"},{label:"",divider:!0},{label:"Cut",shortcut:"Ctrl+X"},{label:"Copy",shortcut:"Ctrl+C"},{label:"Paste",shortcut:"Ctrl+V"},{label:"",divider:!0},{label:"Find",shortcut:"Ctrl+F",action:d},{label:"Replace",shortcut:"Ctrl+H",action:p},{label:"Find in Files",shortcut:"Ctrl+Shift+F"}]},Selection:{items:[{label:"Select All",shortcut:"Ctrl+A"},{label:"Expand Selection",shortcut:"Shift+Alt+Right"},{label:"Shrink Selection",shortcut:"Shift+Alt+Left"},{label:"",divider:!0},{label:"Add Cursor Above",shortcut:"Ctrl+Alt+Up"},{label:"Add Cursor Below",shortcut:"Ctrl+Alt+Down"},{label:"Add Cursors to Line Ends",shortcut:"Shift+Alt+I"}]},View:{items:[{label:"Command Palette",shortcut:"Ctrl+Shift+P"},{label:"Open View...",shortcut:"Ctrl+Q"},{label:"",divider:!0},{label:"Explorer",shortcut:"Ctrl+Shift+E"},{label:"Search",shortcut:"Ctrl+Shift+F"},{label:"Source Control",shortcut:"Ctrl+Shift+G"},{label:"Extensions",shortcut:"Ctrl+Shift+X"},{label:"",divider:!0},{label:"Terminal",shortcut:"Ctrl+`",action:f},{label:"Output",shortcut:"Ctrl+Shift+U"},{label:"",divider:!0},{label:"Toggle Sidebar",shortcut:"Ctrl+B"},{label:"Toggle Panel",shortcut:"Ctrl+J"},{label:"Toggle Full Screen",shortcut:"F11"}]},Go:{items:[{label:"Back",shortcut:"Alt+Left"},{label:"Forward",shortcut:"Alt+Right"},{label:"",divider:!0},{label:"Go to File...",shortcut:"Ctrl+P"},{label:"Go to Line...",shortcut:"Ctrl+G"},{label:"Go to Symbol...",shortcut:"Ctrl+Shift+O"}]},Run:{items:[{label:"Run Code",shortcut:"Ctrl+Shift+R",action:v},{label:"",divider:!0},{label:"Start Debugging",shortcut:"F5"},{label:"Run Without Debugging",shortcut:"Ctrl+F5"},{label:"Stop",shortcut:"Shift+F5"},{label:"",divider:!0},{label:"Run Task...",shortcut:"Ctrl+Shift+B"}]},Terminal:{items:[{label:"New Terminal",shortcut:"Ctrl+Shift+`",action:f},{label:"Split Terminal",shortcut:"Ctrl+Shift+5"},{label:"",divider:!0},{label:"Run Selected Text",shortcut:"Ctrl+Shift+R"},{label:"Run Active File"},{label:"",divider:!0},{label:"Clear",shortcut:"Ctrl+K"}]},Help:{items:[{label:"Welcome"},{label:"Secure Coding Overview"},{label:"Documentation"},{label:"Show All Commands",shortcut:"Ctrl+Shift+P"},{label:"",divider:!0},{label:"Keyboard Shortcuts",shortcut:"Ctrl+K Ctrl+S"},{label:"",divider:!0},{label:"About CTR Secure IDE",action:y}]}};_.useEffect(()=>{const j=O=>{const B=O.target;if(k.current&&!k.current.contains(B)){const z=document.querySelector('[data-dropdown-menu="true"]');(!z||!z.contains(B))&&S(null)}};if(w)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[w]);const E=j=>{if(w===j)S(null);else{const O=N.current[j];if(O){const B=O.getBoundingClientRect();x({top:B.bottom+4,left:B.left})}S(j)}},M=j=>{j.action&&j.action(),S(null)};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{ref:k,className:"h-9 bg-[#323233] border-b border-[#2D2D30] flex items-center justify-between px-2",children:[c.jsx("div",{className:"flex items-center",children:Object.keys(P).map(j=>c.jsx("div",{children:c.jsx("button",{ref:O=>N.current[j]=O,onClick:()=>E(j),className:`px-2 py-1 text-[13px] text-[#CCCCCC] hover:bg-[#3E3E42] rounded transition-colors ${w===j?"bg-[#3E3E42]":""}`,children:j})},j))}),c.jsxs("div",{className:"flex items-center gap-2 flex-1 max-w-xl mx-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{className:"p-1 text-[#858585] hover:text-[#CCCCCC] hover:bg-[#3E3E42] rounded",children:c.jsx(IS,{size:16})}),c.jsx("button",{className:"p-1 text-[#858585] hover:text-[#CCCCCC] hover:bg-[#3E3E42] rounded",children:c.jsx(Ba,{size:16})})]}),c.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-[#3C3C3C] rounded px-3 py-1 text-[13px]",children:[c.jsx(Pd,{size:14,className:"text-[#858585]"}),c.jsx("input",{type:"text",placeholder:"CTR Terminal",className:"bg-transparent border-none outline-none text-[#CCCCCC] placeholder-[#858585] flex-1"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(H4,{}),c.jsx("button",{className:"w-12 h-full flex items-center justify-center text-[#CCCCCC] hover:bg-[#3E3E42]",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:c.jsx("rect",{x:"0",y:"5",width:"12",height:"2"})})}),c.jsx("button",{className:"w-12 h-full flex items-center justify-center text-[#CCCCCC] hover:bg-[#3E3E42]",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:c.jsx("rect",{x:"0",y:"0",width:"10",height:"10",fill:"none",stroke:"currentColor",strokeWidth:"1"})})}),c.jsx("button",{className:"w-12 h-full flex items-center justify-center text-[#CCCCCC] hover:bg-[#E81123] hover:text-white",children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:c.jsx("path",{d:"M1 1 L11 11 M11 1 L1 11",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})})})]})]}),w&&c.jsx("div",{"data-dropdown-menu":"true",className:"fixed min-w-[220px] bg-[#252526] border border-[#454545] shadow-lg rounded-md py-1",style:{top:`${b.top}px`,left:`${b.left}px`,zIndex:9999},children:P[w].items.map((j,O)=>j.divider?c.jsx("div",{className:"h-px bg-[#454545] my-1"},O):c.jsxs("button",{onClick:()=>M(j),className:"w-full px-4 py-1.5 text-left text-[13px] text-[#CCCCCC] hover:bg-[#2A2D2E] flex items-center justify-between",children:[c.jsx("span",{children:j.label}),j.shortcut&&c.jsx("span",{className:"text-[11px] text-[#858585] ml-8",children:j.shortcut})]},O))})]})}function V4({width:e,onWidthChange:t}){const[r,n]=_.useState("general"),[o,a]=_.useState(()=>[{id:1,role:"assistant",content:"Hello! I'm your AI coding assistant. You can ask general coding questions or switch to Security Review mode for help finding and fixing vulnerabilities."}]),[u,d]=_.useState(""),[p,f]=_.useState(!1),[y,v]=_.useState(!1),w=N=>{N.preventDefault(),f(!0)},S=N=>{if(p){const P=N.clientX-48;P>=200&&P<=600&&t(P)}},b=()=>{f(!1)};_.useEffect(()=>{if(p)return document.addEventListener("mousemove",S),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",b)}},[p]);const x=async()=>{if(!u.trim()||y)return;const N={id:o.length+1,role:"user",content:u};a(P=>[...P,N]),d(""),v(!0);try{const E=[{role:"system",content:r==="security"?["You are a senior application security engineer helping a developer.","Focus on secure coding, threat modeling, and explaining vulnerabilities clearly.","Avoid giving full exploit code; instead, explain risks and safer patterns."].join(" "):["You are a helpful coding assistant.","Explain concepts clearly and keep answers concise."].join(" ")},...o.map(O=>({role:O.role,content:O.content})),{role:"user",content:u}],M=await Ae("ai_chat",{messages:E}),j={id:Date.now(),role:"assistant",content:M||(r==="security"?"Security Review mode is enabled. Describe the code or vulnerability you want me to analyze.":"AI integration is initializing. Ask a question and I will answer when connected.")};a(O=>[...O,j])}catch(P){console.error("AI chat failed",P);const E={id:Date.now(),role:"assistant",content:"AI integration is not available yet. In Security Review mode, you can still use the Security panel to run static checks on your code."};a(M=>[...M,E])}finally{v(!1)}},k=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),x())};return c.jsxs("div",{className:"bg-[#252526] border-r border-[#2D2D30] flex flex-col h-full relative transition-all duration-300",style:{width:`${e}px`},children:[c.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-1 cursor-col-resize hover:bg-[#007ACC] transition-colors z-10",onMouseDown:w}),c.jsxs("div",{className:"px-3 py-2 text-[11px] text-[#CCCCCC] uppercase tracking-wide border-b border-[#2D2D30] flex items-center justify-between bg-[#1E1E1E]/80",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded bg-[#007ACC]/20 flex items-center justify-center border border-[#007ACC]/40",children:c.jsx(wa,{size:14,className:"text-[#4EC9B0]"})}),c.jsxs("div",{className:"flex flex-col leading-tight",children:[c.jsx("span",{className:"text-[10px] font-semibold tracking-wide text-[#E5E5E5]",children:"AI Security Assistant"}),c.jsx("span",{className:"text-[10px] normal-case text-[#9B9B9B]",children:"General help  Security review"})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-[10px]",children:[c.jsx("button",{className:`px-2 py-0.5 rounded-l border border-[#3C3C3C] ${r==="general"?"bg-[#0E639C] text-white":"bg-transparent text-[#CCCCCC] hover:bg-[#2D2D2D]"}`,onClick:()=>{r!=="general"&&(n("general"),a(N=>[...N,{id:Date.now(),role:"assistant",content:"Switched to General mode. Ask me about coding, debugging, or tools."}]))},children:"General"}),c.jsxs("button",{className:`px-2 py-0.5 rounded-r border border-l-0 border-[#3C3C3C] flex items-center gap-1 ${r==="security"?"bg-[#007ACC] text-white":"bg-transparent text-[#CCCCCC] hover:bg-[#2D2D2D]"}`,onClick:()=>{r!=="security"&&(n("security"),a(N=>[...N,{id:Date.now(),role:"assistant",content:"Security Review mode enabled. Paste the code or describe the feature you want reviewed for vulnerabilities."}]))},children:[c.jsx(ei,{size:12}),"Security Review"]})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[r==="security"&&c.jsxs("div",{className:"mb-1 text-[11px] text-[#9CDCFE] bg-[#1E1E1E] border border-[#007ACC]/40 rounded px-3 py-2 flex items-start gap-2",children:[c.jsx(ei,{size:12,className:"mt-0.5 text-[#4EC9B0]"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-[#E5E5E5] mb-0.5",children:"Security Review mode"}),c.jsx("div",{className:"text-[11px] text-[#CCCCCC]",children:"Paste a function, endpoint, or config. Ill highlight likely vulnerabilities, suggest safer patterns, and explain why."})]})]}),o.map(N=>c.jsxs("div",{className:`flex gap-2 ${N.role==="user"?"flex-row-reverse":"flex-row"}`,children:[c.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded flex items-center justify-center ${N.role==="user"?"bg-[#007ACC]":"bg-[#4EC9B0]"}`,children:N.role==="user"?c.jsx(nC,{size:14}):c.jsx(wa,{size:14})}),c.jsx("div",{className:`max-w-[80%] rounded px-3 py-2 text-[13px] ${N.role==="user"?"bg-[#007ACC] text-white":"bg-[#2D2D30] text-[#CCCCCC]"}`,children:N.content})]},N.id))]}),c.jsx("div",{className:"border-t border-[#2D2D30] p-3",children:c.jsxs("div",{className:"flex gap-2 items-end",children:[c.jsx("textarea",{value:u,onChange:N=>d(N.target.value),onKeyPress:k,placeholder:r==="security"?"Describe the code, endpoint, or feature you want a security review for...":"Ask me anything about your code, tools, or concepts...",className:"flex-1 bg-[#2D2D30] text-[#CCCCCC] rounded px-3 py-2 text-[13px] resize-none focus:outline-none focus:ring-1 focus:ring-[#007ACC] placeholder:text-[#858585]",rows:3}),c.jsx("button",{onClick:x,disabled:y,className:"bg-[#007ACC] hover:bg-[#005A9E] text-white p-2 rounded transition-colors disabled:opacity-50",children:c.jsx(zw,{size:16})})]})})]})}function K4({currentPath:e}){const[t,r]=_.useState(null),[n,o]=_.useState([]),[a,u]=_.useState(""),[d,p]=_.useState(!1),[f,y]=_.useState(null),[v,w]=_.useState(new Set),S=async()=>{if(e){p(!0),y(null);try{const E=await Ae("git_status",{repoPath:e});r(E);const M=await Ae("git_log",{repoPath:e,limit:10});o(M)}catch(E){y(E),r(null)}finally{p(!1)}}};_.useEffect(()=>{S()},[e]);const b=E=>{w(M=>{const j=new Set(M);return j.has(E)?j.delete(E):j.add(E),j})},x=()=>{if(!t)return;const E=[...t.modified,...t.untracked,...t.deleted];w(new Set(E))},k=async()=>{if(!(!e||!a.trim()||v.size===0)){p(!0),y(null);try{await Ae("git_add",{repoPath:e,paths:Array.from(v)}),await Ae("git_commit",{repoPath:e,message:a}),u(""),w(new Set),await S()}catch(E){y(`Commit failed: ${E}`)}finally{p(!1)}}},N=async()=>{if(e){p(!0),y(null);try{const E=await Ae("git_push",{repoPath:e,remoteName:null});alert(E),await S()}catch(E){y(`Push failed: ${E}`)}finally{p(!1)}}},P=async()=>{if(e){p(!0),y(null);try{const E=await Ae("git_pull",{repoPath:e,remoteName:null});alert(E),await S()}catch(E){y(`Pull failed: ${E}`)}finally{p(!1)}}};return e?f&&!t?c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 text-sm",children:[c.jsx($S,{size:16}),c.jsx("p",{children:"Not a Git repository"})]})}):d&&!t?c.jsx("div",{className:"p-4 text-[#858585] text-sm",children:c.jsx("p",{children:"Loading git status..."})}):c.jsxs("div",{className:"h-full flex flex-col bg-[#252526] text-white overflow-hidden",children:[c.jsxs("div",{className:"p-3 border-b border-[#2D2D30]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Dd,{size:16}),c.jsx("span",{className:"font-semibold",children:t?.branch||"main"})]}),c.jsx("button",{onClick:S,disabled:d,className:"p-1 hover:bg-[#2A2D2E] rounded disabled:opacity-50",children:c.jsx(No,{size:16,className:d?"animate-spin":""})})]}),t&&c.jsxs("div",{className:"flex gap-3 text-xs text-[#858585]",children:[t.ahead>0&&c.jsxs("span",{children:["",t.ahead]}),t.behind>0&&c.jsxs("span",{children:["",t.behind]}),t.is_clean&&c.jsx("span",{className:"text-green-500",children:"Clean"})]})]}),c.jsxs("div",{className:"flex gap-2 p-3 border-b border-[#2D2D30]",children:[c.jsxs("button",{onClick:P,disabled:d,className:"flex-1 flex items-center justify-center gap-2 px-3 py-1.5 bg-[#0E639C] hover:bg-[#1177BB] rounded text-sm disabled:opacity-50",children:[c.jsx(gw,{size:14}),"Pull"]}),c.jsxs("button",{onClick:N,disabled:d||t?.is_clean,className:"flex-1 flex items-center justify-center gap-2 px-3 py-1.5 bg-[#0E639C] hover:bg-[#1177BB] rounded text-sm disabled:opacity-50",children:[c.jsx(pg,{size:14}),"Push"]})]}),f&&c.jsx("div",{className:"p-3 bg-red-900/20 border-b border-red-800 text-red-400 text-xs",children:f}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t&&!t.is_clean&&c.jsxs("div",{className:"p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-xs font-semibold text-[#CCCCCC]",children:"CHANGES"}),c.jsx("button",{onClick:x,className:"text-xs text-[#0E639C] hover:underline",children:"Stage All"})]}),t.modified.map(E=>c.jsxs("div",{className:"flex items-center gap-2 py-1 text-sm hover:bg-[#2A2D2E] px-2 rounded cursor-pointer",onClick:()=>b(E),children:[c.jsx("input",{type:"checkbox",checked:v.has(E),onChange:()=>{},className:"w-4 h-4"}),c.jsx("span",{className:"text-yellow-500 text-xs",children:"M"}),c.jsx("span",{className:"flex-1 truncate text-[#CCCCCC]",children:E})]},E)),t.untracked.map(E=>c.jsxs("div",{className:"flex items-center gap-2 py-1 text-sm hover:bg-[#2A2D2E] px-2 rounded cursor-pointer",onClick:()=>b(E),children:[c.jsx("input",{type:"checkbox",checked:v.has(E),onChange:()=>{},className:"w-4 h-4"}),c.jsx("span",{className:"text-green-500 text-xs",children:"U"}),c.jsx("span",{className:"flex-1 truncate text-[#CCCCCC]",children:E})]},E)),t.deleted.map(E=>c.jsxs("div",{className:"flex items-center gap-2 py-1 text-sm hover:bg-[#2A2D2E] px-2 rounded cursor-pointer",onClick:()=>b(E),children:[c.jsx("input",{type:"checkbox",checked:v.has(E),onChange:()=>{},className:"w-4 h-4"}),c.jsx("span",{className:"text-red-500 text-xs",children:"D"}),c.jsx("span",{className:"flex-1 truncate text-[#CCCCCC]",children:E})]},E))]}),v.size>0&&c.jsxs("div",{className:"p-3 border-t border-[#2D2D30]",children:[c.jsx("textarea",{value:a,onChange:E=>u(E.target.value),placeholder:"Commit message...",className:"w-full p-2 bg-[#1E1E1E] border border-[#2D2D30] rounded text-sm text-white resize-none",rows:3}),c.jsxs("button",{onClick:k,disabled:d||!a.trim(),className:"mt-2 w-full flex items-center justify-center gap-2 px-3 py-2 bg-[#0E639C] hover:bg-[#1177BB] rounded text-sm disabled:opacity-50",children:[c.jsx(pg,{size:14}),"Commit ",v.size," file",v.size!==1?"s":""]})]}),n.length>0&&c.jsxs("div",{className:"p-3 border-t border-[#2D2D30]",children:[c.jsx("h3",{className:"text-xs font-semibold text-[#CCCCCC] mb-2",children:"RECENT COMMITS"}),c.jsx("div",{className:"space-y-2",children:n.slice(0,5).map(E=>c.jsx("div",{className:"text-xs",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-[#858585] font-mono",children:E.hash.substring(0,7)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-white truncate",children:E.message}),c.jsxs("p",{className:"text-[#858585] text-[10px] mt-0.5",children:[E.author,"  ",new Date(E.timestamp*1e3).toLocaleString()]})]})]})},E.hash))})]})]})]}):c.jsx("div",{className:"p-4 text-[#858585] text-sm",children:c.jsx("p",{children:"Open a folder to use Git features"})})}const _x=_.createContext(void 0);function q4({children:e}){const[t,r]=_.useState([]),[n,o]=_.useState(!1),[a,u]=_.useState(null),[d,p]=_.useState(null),[f,y]=_.useState(null),v=_.useMemo(()=>({total:t.length,critical:t.filter(S=>S.severity==="Critical").length,high:t.filter(S=>S.severity==="High").length,medium:t.filter(S=>S.severity==="Medium").length,low:t.filter(S=>S.severity==="Low").length}),[t]),w=async(S,b)=>{o(!0),p(null);try{const x=b||(S==="workspace"?f:null);if(!x)throw new Error(`No path provided for ${S} scan`);let k;S==="workspace"?k=await Ae("run_security_scan",{workspaceRoot:x}):k=await Ae("scan_file_for_issues",{path:x}),r(k.issues||[]),u(new Date)}catch(x){console.error("Security scan failed",x),p(typeof x=="string"?x:"Scan failed")}finally{o(!1)}};return c.jsx(_x.Provider,{value:{issues:t,isScanning:n,lastScanTime:a,scanStats:v,runScan:w,scanError:d,workspacePath:f,setWorkspacePath:y},children:e})}function rc(){const e=_.useContext(_x);if(e===void 0)throw new Error("useSecurity must be used within a SecurityProvider");return e}function Y4({workspaceFolder:e,activeFile:t,width:r}){const{issues:n,scanStats:o,isScanning:a,runScan:u,scanError:d}=rc(),[p,f]=_.useState("workspace"),[y,v]=_.useState(null),w=!!e,S=!!t,b=o,x=async()=>{v(null),p==="workspace"?e&&u("workspace",e):t&&u("file",t)},k=d,N=(E,M=!1)=>{switch(E){case"Critical":return M?"bg-purple-500":"text-purple-400 border-purple-400/30";case"High":return M?"bg-red-500":"text-red-400 border-red-400/30";case"Medium":return M?"bg-yellow-500":"text-yellow-400 border-yellow-400/30";default:return M?"bg-blue-500":"text-blue-400 border-blue-400/30"}},P=E=>E.split(/[/\\]/).slice(-2).join("/");return c.jsxs("div",{className:"bg-[#252526] flex flex-col h-full overflow-hidden",style:{width:r},children:[c.jsxs("div",{className:"px-3 py-2 text-xs flex items-center justify-between border-b border-[#2D2D30] bg-[#1E1E1E] flex-shrink-0",children:[c.jsxs("span",{className:"flex items-center gap-2 font-bold text-[#CCCCCC]",children:[c.jsx(ei,{size:14,className:b.total>0?"text-red-400":"text-[#00ff41]"}),c.jsx("span",{children:"SECURITY SCANNER"})]}),c.jsx("div",{className:"flex items-center gap-2",children:b.total>0&&c.jsx("span",{className:"flex items-center justify-center bg-red-500/20 text-red-500 text-[10px] font-bold px-1.5 rounded-sm",children:b.total})})]}),c.jsxs("div",{className:"p-2 border-b border-[#2D2D30] flex-shrink-0 bg-[#252526]",children:[c.jsxs("div",{className:"flex bg-[#1E1E1E] rounded-md p-0.5 border border-[#3C3C3C] mb-2",children:[c.jsxs("button",{className:`flex - 1 flex items - center justify - center gap - 1 py - 1 rounded - sm text - [10px] sm: text - [11px] font - medium transition - colors ${p==="workspace"?"bg-[#3C3C3C] text-white shadow-sm":"text-[#858585] hover:text-[#CCCCCC]"} `,onClick:()=>f("workspace"),children:[c.jsx(Pd,{size:12}),"Workspace"]}),c.jsxs("button",{className:`flex - 1 flex items - center justify - center gap - 1 py - 1 rounded - sm text - [10px] sm: text - [11px] font - medium transition - colors ${p==="file"?"bg-[#3C3C3C] text-white shadow-sm":"text-[#858585] hover:text-[#CCCCCC]"} `,onClick:()=>f("file"),children:[c.jsx(nw,{size:12}),"Active File"]})]}),c.jsxs("button",{onClick:x,disabled:a||p==="workspace"&&!w||p==="file"&&!S,className:`w - full py - 1.5 text - [11px] font - bold rounded flex items - center justify - center gap - 2 transition - all ${a?"bg-blue-600/50 cursor-not-allowed text-white":"bg-[#0E639C] hover:bg-[#1177BB] text-white shadow-sm"} `,children:[a?c.jsx("span",{className:"w-3 h-3 border-2 border-t-transparent border-white rounded-full animate-spin"}):c.jsx(Ow,{size:12}),a?"SCANNING...":"RUN SECURITY SCAN"]}),k&&c.jsxs("div",{className:"mt-2 text-[10px] bg-red-500/10 text-red-400 border border-red-500/20 p-1.5 rounded flex gap-2",children:[c.jsx(Xs,{size:12,className:"shrink-0 mt-0.5"}),c.jsx("div",{className:"break-all",children:k})]})]}),b.total>0&&c.jsxs("div",{className:"px-3 py-1.5 bg-[#1E1E1E] border-b border-[#2D2D30] flex-shrink-0 flex justify-between gap-1",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-purple-400",title:"Critical",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),b.critical]}),c.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-red-400",title:"High",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),b.high]}),c.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-yellow-400",title:"Medium",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),b.medium]})]}),c.jsxs("div",{className:"text-[10px] text-[#858585]",children:[n.length," Issues"]})]}),c.jsx("div",{className:"flex-1 overflow-auto min-h-0 bg-[#1E1E1E]",children:b.total===0&&!a?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#858585] px-4 text-center",children:[c.jsx(ei,{size:32,className:"mb-3 text-[#3C3C3C]"}),c.jsx("div",{className:"text-sm font-medium text-[#CCCCCC] mb-1",children:"System Secure"}),c.jsx("div",{className:"text-[11px] opacity-60",children:k?"Scan failed. Check errors.":"No vulnerabilities detected in the last scan."})]}):c.jsx("div",{className:"divide-y divide-[#2D2D30]",children:n.map((E,M)=>c.jsxs("div",{className:"group hover:bg-[#2A2D2E] transition-colors",children:[c.jsxs("div",{className:"px-3 py-2 cursor-pointer flex gap-2",onClick:()=>v(y===M?null:M),children:[c.jsx("div",{className:"mt-0.5",children:y===M?c.jsx(nn,{size:12,className:"text-[#858585]"}):c.jsx(Ba,{size:12,className:"text-[#858585]"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[c.jsx("span",{className:`text - [9px] font - bold px - 1 rounded - sm border ${N(E.severity)} `,children:E.severity.toUpperCase()}),c.jsx("span",{className:"text-[11px] text-[#CCCCCC] font-medium truncate",title:E.kind,children:E.kind})]}),c.jsx("div",{className:"text-[10px] text-[#858585] flex items-center justify-between",children:c.jsxs("span",{className:"truncate",title:E.file,children:[P(E.file),":",E.line]})})]})]}),y===M&&c.jsxs("div",{className:"px-3 pb-3 pl-7 text-[10px]",children:[c.jsx("div",{className:"text-[#CCCCCC] mb-2 opacity-90 leading-relaxed border-l-2 border-[#3C3C3C] pl-2",children:E.message}),E.cwe&&c.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[c.jsx("span",{className:"text-[#858585]",children:"CWE:"}),c.jsx("a",{href:`https://cwe.mitre.org/data/definitions/${E.cwe.replace("CWE-","")}.html`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline font-mono",children:E.cwe})]}),E.fix_hint&&c.jsxs("div",{className:"bg-[#0d1117] rounded p-2 border border-[#30363d] flex gap-2",children:[c.jsx(tv,{size:12,className:"text-yellow-400 shrink-0 mt-0.5"}),c.jsx("div",{className:"text-[#8b949e] font-mono leading-relaxed",children:E.fix_hint})]}),c.jsxs("button",{className:"mt-2 w-full py-1 text-[10px] bg-[#3C3C3C] hover:bg-[#4C4C4C] text-white rounded transition-colors flex items-center justify-center gap-1.5",children:[c.jsx(Rd,{size:10}),"Locate"]})]})]},M))})})]})}const G4=[{id:"cmd-inj",title:"Command Injection",description:"Fix shell command concatenation",hint:"Use subprocess with shell=False",vulnerability:"command injection",status:"available",difficulty:"easy",points:100},{id:"sql-inj",title:"SQL Injection",description:"Fix SQL query concatenation",hint:"Use parameterized queries",vulnerability:"sql injection",status:"available",difficulty:"easy",points:100},{id:"xss",title:"XSS Attack",description:"Fix innerHTML usage",hint:"Use textContent or DOMPurify",vulnerability:"xss",status:"available",difficulty:"medium",points:150},{id:"secrets",title:"Hardcoded Secrets",description:"Remove API keys from code",hint:"Use environment variables",vulnerability:"hardcoded secret",status:"available",difficulty:"easy",points:100},{id:"weak-hash",title:"Weak Hashing",description:"Replace MD5/SHA1",hint:"Use bcrypt or Argon2",vulnerability:"weak hash",status:"available",difficulty:"easy",points:100},{id:"path-trav",title:"Path Traversal",description:"Fix file path validation",hint:"Validate path is in allowed dir",vulnerability:"path traversal",status:"available",difficulty:"medium",points:150},{id:"pickle",title:"Pickle RCE",description:"Replace insecure deserialization",hint:"Use JSON for untrusted data",vulnerability:"pickle",status:"locked",difficulty:"hard",points:200},{id:"tls",title:"TLS Disabled",description:"Enable certificate verification",hint:"Set verify=True",vulnerability:"tls",status:"available",difficulty:"easy",points:100}];function X4({width:e}){const{workspacePath:t}=rc(),[r,n]=_.useState(G4),[o,a]=_.useState(null),[u,d]=_.useState(!1),[p,f]=_.useState(null),y=_.useMemo(()=>({completed:r.filter(S=>S.status==="completed").length,total:r.length,points:r.filter(S=>S.status==="completed").reduce((S,b)=>S+b.points,0)}),[r]),v=async S=>{d(!0),f(null);try{((await Ae("run_security_scan",{workspaceRoot:t||"."})).issues||[]).some(k=>String(k.kind||"").toLowerCase().includes(S.vulnerability)||String(k.message||"").toLowerCase().includes(S.vulnerability))?f({id:S.id,msg:"Still vulnerable",type:"error"}):(f({id:S.id,msg:`Fixed! +${S.points}pts`,type:"success"}),n(k=>k.map(N=>N.id===S.id?{...N,status:"completed"}:N)))}catch{f({id:S.id,msg:"Check failed",type:"error"})}finally{d(!1)}},w=S=>{switch(S){case"easy":return"text-green-400";case"medium":return"text-yellow-400";case"hard":return"text-red-400"}};return c.jsxs("div",{className:"bg-[#252526] flex flex-col h-full overflow-hidden",style:{width:e},children:[c.jsxs("div",{className:"px-3 py-2 text-xs flex items-center justify-between border-b border-[#2D2D30] bg-[#1E1E1E] flex-shrink-0",children:[c.jsxs("span",{className:"flex items-center gap-2 font-bold text-[#CCCCCC]",children:[c.jsx(Qw,{size:14,className:"text-[#00ff41]"}),c.jsx("span",{children:"CTF CHALLENGES"})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-[#3C3C3C] px-2 py-0.5 rounded-full",children:[c.jsx(Xw,{size:10,className:"text-yellow-400 fill-yellow-400"}),c.jsx("span",{className:"text-[10px] text-white font-mono",children:y.points})]})]}),c.jsxs("div",{className:"px-3 py-2 border-b border-[#2D2D30] flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between text-[10px] mb-1.5",children:[c.jsx("span",{className:"text-[#858585] uppercase font-bold",children:"Training Progress"}),c.jsxs("span",{className:"text-[#00ff41] font-mono",children:[Math.round(y.completed/y.total*100),"%"]})]}),c.jsx("div",{className:"w-full h-1.5 bg-[#3C3C3C] rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-[#00ff41] transition-all duration-500 shadow-[0_0_8px_#00ff41]",style:{width:`${y.completed/y.total*100}%`}})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-2 space-y-2",children:r.map(S=>{const b=o===S.id,x=S.status==="locked",k=S.status==="completed";return c.jsxs("div",{className:`border rounded-md transition-colors ${x?"border-[#2D2D30] opacity-60":b?"border-[#00ff41]/50 bg-[#2A2D2E]":"border-[#3C3C3C] hover:border-[#505050] bg-[#1E1E1E]"}`,children:[c.jsxs("button",{onClick:()=>!x&&a(b?null:S.id),disabled:x,className:"w-full text-left px-3 py-2 flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:x?c.jsx(bw,{size:14,className:"text-[#858585]"}):k?c.jsx(Ju,{size:14,className:"text-[#00ff41]"}):c.jsx(iv,{size:14,className:S.difficulty==="hard"?"text-red-400":"text-blue-400"})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("div",{className:`text-xs font-bold truncate ${k?"text-[#00ff41]":"text-[#CCCCCC]"}`,children:S.title})}),c.jsx("span",{className:`text-[10px] font-mono px-1.5 py-0.5 rounded bg-black/30 ${w(S.difficulty)}`,children:S.points}),b?c.jsx(nn,{size:14,className:"text-[#858585]"}):c.jsx(Ba,{size:14,className:"text-[#858585]"})]}),b&&!x&&c.jsxs("div",{className:"px-3 pb-3 pt-0 text-[11px]",children:[c.jsx("p",{className:"text-[#CCCCCC] mb-3 opacity-80",children:S.description}),c.jsxs("div",{className:"bg-[#0d1117] rounded p-2 mb-3 border border-[#30363d] flex gap-2",children:[c.jsx(tv,{size:14,className:"text-yellow-400 flex-shrink-0 mt-0.5"}),c.jsxs("span",{className:"text-[#8b949e]",children:["Hint: ",S.hint]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-2",children:[c.jsx("button",{onClick:()=>v(S),disabled:u||k,className:`px-3 py-1.5 rounded text-[10px] font-bold flex items-center gap-1.5 transition-colors ${k?"bg-[#00ff41]/20 text-[#00ff41] cursor-default":"bg-[#0E639C] hover:bg-[#1177BB] text-white"}`,children:u?c.jsx("span",{className:"w-3 h-3 border-2 border-t-transparent border-white rounded-full animate-spin"}):k?c.jsxs(c.Fragment,{children:[c.jsx(Ju,{size:12})," COMPLETED"]}):c.jsxs(c.Fragment,{children:[c.jsx(en,{size:12})," VERIFY FIX"]})}),p?.id===S.id&&c.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] font-bold ${p.type==="success"?"text-[#00ff41]":"text-[#ff0040]"}`,children:[p.type==="success"?c.jsx(Ju,{size:12}):c.jsx(YS,{size:12}),p.msg]})]})]})]},S.id)})})]})}function Z4({activeFile:e,width:t}){const[r,n]=_.useState(!1),[o,a]=_.useState(null),u=async()=>{if(!(!e||r)){n(!0),a(null);try{const p=await Ae("run_code_file",{filePath:e});a(p)}catch(p){a({output:"",error:p?.toString?.()??"Debug run failed",exit_code:1,execution_time_ms:0})}finally{n(!1)}}},d=!!o?.error||(o?.exit_code??0)!==0;return c.jsxs("div",{className:"bg-[#252526] border-r border-[#2D2D30] flex flex-col h-full",style:{width:`${t}px`},children:[c.jsxs("div",{className:"px-3 py-2 text-[11px] text-[#CCCCCC] uppercase tracking-wide flex items-center justify-between border-b border-[#2D2D30]",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Js,{size:14,className:"text-yellow-300"}),c.jsx("span",{children:"Debug"})]}),o&&c.jsxs("span",{className:"flex items-center gap-1 text-[11px] text-[#858585]",children:[c.jsx(XS,{size:12}),c.jsxs("span",{children:[o.execution_time_ms," ms"]})]})]}),c.jsxs("div",{className:"px-3 py-3 border-b border-[#2D2D30] space-y-2 text-[12px]",children:[c.jsxs("button",{onClick:u,disabled:!e||r,className:`w-full flex items-center justify-center gap-2 px-3 py-1.5 rounded text-[12px] font-medium transition-colors ${!e||r?"bg-[#3C3C3C] text-[#858585] cursor-not-allowed":"bg-[#007ACC] text-white hover:bg-[#005A9E]"}`,children:[c.jsx(en,{size:14}),r?"Debugging":"Debug Run Active File"]}),!e&&c.jsxs("div",{className:"flex items-start gap-2 text-[11px] text-[#858585] bg-[#1E1E1E] border border-[#3C3C3C] rounded px-2 py-2",children:[c.jsx(Q_,{size:12,className:"mt-0.5"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-[#CCCCCC] mb-0.5",children:"No file selected"}),c.jsx("div",{children:"Open a source file in the editor to run a debug session and see its output and errors here."})]})]}),e&&c.jsxs("div",{className:"text-[11px] text-[#858585] bg-[#1E1E1E] border border-[#3C3C3C] rounded px-2 py-2",children:[c.jsx("div",{className:"font-semibold text-[#CCCCCC] mb-0.5",children:"How this debug run works"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Runs the active file with the language-aware code runner."}),c.jsx("li",{children:"Shows stdout, stderr, exit code, and execution time."}),c.jsx("li",{children:"Use the terminal or add print/log statements for deeper inspection, then re-run from here."})]})]})]}),c.jsxs("div",{className:"flex-1 overflow-auto text-[12px]",children:[!o&&e&&!r&&c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#858585] px-6 text-center gap-2",children:[c.jsx(Js,{size:28,className:"mb-1 text-yellow-300"}),c.jsx("div",{className:"font-medium",children:"No debug run yet"}),c.jsxs("div",{className:"text-[11px]",children:["Click ",c.jsx("span",{className:"text-[#CCCCCC]",children:"Debug Run Active File"})," to execute the current file and view its output and errors here."]})]}),o&&c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"border-b border-[#2D2D30]",children:c.jsxs("div",{className:"px-3 py-2 bg-[#1E1E1E] flex items-center justify-between text-[11px]",children:[c.jsxs("span",{className:"text-[#CCCCCC]",children:["Exit Code:"," ",c.jsx("span",{className:d?"text-red-400":"text-green-400",children:o.exit_code??"N/A"})]}),c.jsxs("span",{className:"flex items-center gap-1 text-[#858585]",children:[c.jsx(Mi,{size:12}),c.jsx("span",{children:"Stdout / Stderr"})]})]})}),c.jsxs("div",{className:"flex-1 overflow-auto",children:[o.output&&c.jsxs("div",{className:"border-b border-[#2D2D30]",children:[c.jsx("div",{className:"px-3 py-1 bg-[#252526] text-[11px] font-semibold text-[#CCCCCC]",children:"OUTPUT"}),c.jsx("pre",{className:"p-3 text-[12px] text-[#CCCCCC] whitespace-pre-wrap break-words font-mono bg-[#1E1E1E]",children:o.output})]}),o.error&&c.jsxs("div",{children:[c.jsxs("div",{className:"px-3 py-1 bg-[#252526] text-[11px] font-semibold text-red-400 flex items-center gap-1",children:[c.jsx(Xs,{size:12}),c.jsx("span",{children:"ERROR"})]}),c.jsx("pre",{className:"p-3 text-[12px] text-red-400 whitespace-pre-wrap break-words font-mono bg-[#1E1E1E]",children:o.error})]}),!o.output&&!o.error&&c.jsx("div",{className:"p-3 text-[11px] text-[#858585]",children:"No output was produced by this run. Try adding logging or print statements to inspect variable values."})]})]})]})]})}function Q4(){const e=_.useRef(null),{isHackerMode:t}=Bo();return _.useEffect(()=>{if(!t||!e.current)return;const r=e.current,n=r.getContext("2d");if(!n)return;const o=()=>{r.width=window.innerWidth,r.height=window.innerHeight};o(),window.addEventListener("resize",o);const u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%^&*()".split(""),d=14,p=Math.floor(r.width/d),f=[];for(let w=0;w<p;w++)f[w]=Math.random()*-100;let y;const v=()=>{n.fillStyle="rgba(0, 0, 0, 0.05)",n.fillRect(0,0,r.width,r.height),n.fillStyle="#00ff41",n.font=`${d}px monospace`;for(let w=0;w<f.length;w++){const S=u[Math.floor(Math.random()*u.length)],b=w*d,x=f[w]*d,k=Math.random();k>.98?n.fillStyle="#ffffff":k>.9?n.fillStyle="#00ff41":n.fillStyle=`rgba(0, 255, 65, ${.3+k*.5})`,n.fillText(S,b,x),x>r.height&&Math.random()>.975&&(f[w]=0),f[w]++}y=requestAnimationFrame(v)};return v(),()=>{window.removeEventListener("resize",o),cancelAnimationFrame(y)}},[t]),t?c.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-0 opacity-30",style:{mixBlendMode:"screen"}}):null}function J4({result:e,isScanning:t,currentStepIndex:r=-1}){const{isHackerMode:n}=Bo(),o=_.useRef(null);return _.useEffect(()=>{if(!o.current||!e)return;const a=o.current,u=a.getContext("2d");if(!u)return;const d=window.devicePixelRatio||1,p=a.getBoundingClientRect();a.width=p.width*d,a.height=p.height*d,u.scale(d,d);const f=p.width,y=p.height;u.clearRect(0,0,f,y);const v=[{x:f*.15,y:y*.5,label:"ATTACKER",icon:""},{x:f*.38,y:y*.5,label:"PAYLOAD",icon:""},{x:f*.62,y:y*.5,label:"APPLICATION",icon:""},{x:f*.85,y:y*.5,label:"DATABASE/FS",icon:""}],w=r>=3?3:r>=2?2:r>=1?1:0;u.beginPath(),u.moveTo(v[0].x,v[0].y),v.forEach((S,b)=>{b>0&&u.lineTo(S.x,S.y)}),u.strokeStyle="#333",u.lineWidth=2,u.stroke(),e.success&&r>=3&&(Date.now()/1e3%1*(v[v.length-1].x-v[0].x),u.beginPath(),u.moveTo(v[0].x,v[0].y),v.forEach((b,x)=>{x>0&&u.lineTo(b.x,b.y)}),u.strokeStyle=n?"#00ff41":"#ff0040",u.lineWidth=3,u.setLineDash([10,20]),u.lineDashOffset=-Date.now()/20,u.stroke(),u.setLineDash([])),v.forEach((S,b)=>{const x=b<=w;u.beginPath(),u.arc(S.x,S.y,30,0,Math.PI*2),u.fillStyle="#1E1E1E",u.fill(),u.strokeStyle=x?n?"#00ff41":"#007ACC":"#333",u.lineWidth=x?2:1,u.stroke(),u.fillStyle=x?"#fff":"#555",u.font="20px Arial",u.textAlign="center",u.textBaseline="middle",u.fillText(S.icon,S.x,S.y),u.fillStyle=x?n?"#00ff41":"#ccc":"#555",u.font="10px monospace",u.fillText(S.label,S.x,S.y+45)})},[e,n,t,r]),!e&&!t?c.jsx("div",{className:"flex items-center justify-center h-64 text-[#858585] border border-[#2D2D30] rounded bg-[#1e1e1e]/50 backdrop-blur-sm",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"mb-2 text-4xl opacity-20",children:""}),c.jsx("p",{children:"Select an exploit to visualize attack chain"})]})}):c.jsxs("div",{className:`relative h-64 border rounded overflow-hidden ${n?"border-[#00ff41]/30 bg-[#0a0a0a]":"border-[#2D2D30] bg-[#1E1E1E]"}`,children:[c.jsx("canvas",{ref:o,className:"absolute inset-0 w-full h-full"}),e&&c.jsxs("div",{className:"absolute top-4 right-4 text-right",children:[c.jsx("div",{className:`text-2xl font-bold font-mono ${e.success?n?"text-[#ff0040]":"text-red-500":"text-green-500"}`,children:e.success?"COMPROMISED":"BLOCKED"}),c.jsxs("div",{className:"text-xs text-[#858585] font-mono mt-1",children:["RISK SCORE: ",c.jsxs("span",{className:"text-white",children:[e.risk_score,"/10"]})]})]}),t&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-[1px]",children:c.jsx("div",{className:`text-xl font-mono animate-pulse ${n?"text-[#00ff41]":"text-blue-400"}`,children:"INITIALIZING EXPLOIT SEQUENCE..."})})]})}function eP({activeFile:e}){const{isHackerMode:t,playSound:r}=Bo(),[n,o]=_.useState([]),[a,u]=_.useState(0),[d,p]=_.useState(""),[f,y]=_.useState(!1),[v,w]=_.useState(null),[S,b]=_.useState(""),[x,k]=_.useState(-1),[N,P]=_.useState(!1),E=_.useRef(null);_.useEffect(()=>{e&&(e.endsWith(".js")||e.endsWith(".py")||e.endsWith(".ts")||e.endsWith(".rs"))&&Ae("read_file",{path:e}).then(j=>{j&&p(j)}).catch(j=>console.error("Failed to read file for exploit:",j))},[e]),_.useEffect(()=>{Ae("get_exploit_payloads").then(j=>o(j.payloads)).catch(console.error),!e&&!d&&p(`def login(username, password):
    # VULNERABLE CODE
    query = f"SELECT * FROM users WHERE user='{username}' AND pass='{password}'"
    cursor.execute(query)
    return cursor.fetchone()`)},[]),_.useEffect(()=>(N&&v?E.current=window.setInterval(()=>{k(j=>j>=v.attack_chain.length-1?(P(!1),E.current&&clearInterval(E.current),v.success?r("playSuccess"):r("playFailure"),j):(r("playClick"),j+1))},1e3):E.current&&(clearInterval(E.current),E.current=null),()=>{E.current&&clearInterval(E.current)}),[N,v,r]);const M=async()=>{y(!0),w(null),k(-1),P(!1),r("playPowerUp");try{await new Promise(O=>setTimeout(O,1500));const j=await Ae("run_exploit_simulation",{code:d,payloadIndex:a});w(j),k(-1),P(!0)}catch(j){console.error(j)}finally{y(!1)}};return c.jsxs("div",{className:`h-full flex flex-col ${t?"font-mono":""}`,children:[c.jsxs("div",{className:`p-3 border-b flex items-center justify-between ${t?"border-[#00ff41]/30 bg-[#0d1117]":"border-[#2D2D30] bg-[#252526]"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rd,{size:18,className:t?"text-[#ff0040]":"text-red-400"}),c.jsx("span",{className:`font-bold ${t?"text-[#00ff41]":"text-[#CCCCCC]"}`,children:"EXPLOIT ATTACK SIMULATOR"})]}),t&&c.jsx("span",{className:"text-xs text-[#ff0040] animate-pulse",children:" LIVE FIRE MODE"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[c.jsxs("div",{className:"col-span-8 space-y-2",children:[c.jsx("label",{className:`text-xs font-bold ${t?"text-[#00ff41]":"text-[#CCCCCC]"}`,children:"TARGET CODE SOURCE"}),c.jsxs("div",{className:`relative border rounded-md overflow-hidden ${t?"border-[#00ff41]/30":"border-[#3C3C3C]"}`,children:[c.jsx("textarea",{value:d,onChange:j=>p(j.target.value),className:`w-full h-32 p-3 text-sm font-mono outline-none resize-none ${t?"bg-[#0a0a0a] text-[#00ff41]":"bg-[#1E1E1E] text-[#D4D4D4]"}`,spellCheck:!1}),t&&c.jsx("div",{className:"absolute top-0 right-0 p-1 text-[10px] bg-[#ff0040] text-black font-bold",children:"VULNERABLE"})]})]}),c.jsxs("div",{className:"col-span-4 space-y-2 flex flex-col",children:[c.jsx("label",{className:`text-xs font-bold ${t?"text-[#00ff41]":"text-[#CCCCCC]"}`,children:"ATTACK VECTOR"}),c.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[c.jsx("select",{className:`w-full p-2 text-sm rounded border outline-none ${t?"bg-[#0a0a0a] text-[#00ff41] border-[#00ff41]/50 focus:shadow-[0_0_10px_#00ff41]":"bg-[#3C3C3C] text-[#CCCCCC] border-[#3C3C3C]"}`,value:a,onChange:j=>u(Number(j.target.value)),children:n.map((j,O)=>c.jsxs("option",{value:O,children:[j.attack_type,": ",j.name]},O))}),c.jsxs("div",{className:`flex-1 p-3 rounded border text-xs overflow-y-auto ${t?"bg-[#0d1117] border-[#00ff41]/30 text-[#00ff41]/80":"bg-[#252526] border-[#3C3C3C] text-[#858585]"}`,children:[c.jsx("div",{className:"font-bold mb-1",children:"PAYLOAD:"}),c.jsx("code",{className:"break-all",children:n[a]?.payload}),c.jsx("div",{className:"mt-2 font-bold mb-1",children:"DESCRIPTION:"}),c.jsx("p",{children:n[a]?.description})]}),c.jsx("button",{onClick:M,disabled:f,className:`w-full py-2 px-4 rounded font-bold flex items-center justify-center gap-2 transition-all ${f?"opacity-50 cursor-not-allowed":"hover:scale-105"} ${t?"bg-[#ff0040] text-black shadow-[0_0_15px_#ff0040] hover:bg-[#ff3366]":"bg-[#C53030] text-white hover:bg-[#E53E3E]"}`,children:f?c.jsx(c.Fragment,{children:"Running Exploit..."}):c.jsxs(c.Fragment,{children:[c.jsx(en,{size:16,fill:"currentColor"}),"EXECUTE ATTACK"]})})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:`text-xs font-bold ${t?"text-[#00ff41]":"text-[#CCCCCC]"}`,children:"REAL-TIME ATTACK VISUALIZATION"}),v&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{P(!N)},className:`p-1 rounded hover:bg-white/10 ${t?"text-[#00ff41]":"text-white"}`,title:N?"Pause":"Play",children:N?c.jsx(Pw,{size:16}):c.jsx(en,{size:16})}),c.jsx("button",{onClick:()=>{v&&x<v.attack_chain.length-1&&(k(j=>j+1),P(!1))},className:`p-1 rounded hover:bg-white/10 ${t?"text-[#00ff41]":"text-white"}`,disabled:!v||x>=v.attack_chain.length-1,title:"Next Step",children:c.jsx(Kw,{size:16})}),c.jsx("button",{onClick:()=>{k(-1),P(!0)},className:`p-1 rounded hover:bg-white/10 ${t?"text-[#00ff41]":"text-white"}`,title:"Replay",children:c.jsx(No,{size:16})})]}),v&&!N&&c.jsxs("span",{className:`text-xs font-mono ml-4 ${v.success?"text-red-500":"text-green-500"}`,children:["STATUS: ",v.success?"EXPLOIT SUCCESSFUL":"ATTACK MITIGATED"]})]}),c.jsx(J4,{result:v,isScanning:f,currentStepIndex:x})]}),v&&c.jsxs("div",{className:`border rounded-md overflow-hidden ${t?"border-[#00ff41]/30":"border-[#2D2D30]"}`,children:[c.jsxs("div",{className:`p-2 border-b flex items-center gap-2 ${t?"bg-[#0d1117] border-[#00ff41]/30":"bg-[#252526] border-[#2D2D30]"}`,children:[c.jsx(Mi,{size:14,className:t?"text-[#00ff41]":"text-[#CCCCCC]"}),c.jsx("span",{className:`text-xs font-bold ${t?"text-[#00ff41]":"text-[#CCCCCC]"}`,children:"ATTACK LOG"})]}),c.jsxs("div",{className:`p-4 font-mono text-sm space-y-4 ${t?"bg-[#0a0a0a]":"bg-[#1E1E1E]"}`,children:[c.jsx("div",{className:"space-y-2",children:v.attack_chain.map((j,O)=>c.jsxs("div",{className:"flex gap-3 items-start animate-fade-in",style:{animationDelay:`${O*100}ms`},children:[c.jsxs("span",{className:`text-xs mt-0.5 ${t?"text-[#00ff41]/50":"text-[#858585]"}`,children:["[",String(j.step_number).padStart(2,"0"),"]"]}),c.jsxs("div",{children:[c.jsx("div",{className:t?"text-[#00ff41]":"text-[#CCCCCC]",children:j.action}),c.jsxs("div",{className:`text-xs mt-1 ${j.status==="Success"?t?"text-[#ff0040]":"text-red-400":"text-green-400"}`,children:["> ",j.result]})]})]},O))}),v.success&&c.jsxs("div",{className:`mt-4 p-3 border border-dashed rounded ${t?"border-[#ff0040] bg-[#ff0040]/10":"border-red-900 bg-red-900/10"}`,children:[c.jsxs("div",{className:`flex items-center gap-2 mb-2 font-bold ${t?"text-[#ff0040]":"text-red-400"}`,children:[c.jsx(Js,{size:16}),"IMPACT ANALYSIS"]}),c.jsxs("div",{className:`text-xs space-y-1 ${t?"text-[#ff0040]/80":"text-red-300"}`,children:[c.jsxs("p",{children:["TYPE: ",v.attack_type]}),c.jsxs("p",{children:["IMPACT: ",v.impact_description]}),v.data_exposed&&c.jsxs("p",{children:["DATA EXPOSED: ",v.data_exposed]}),c.jsxs("p",{children:["CWE: ",v.cwe]})]})]}),c.jsxs("div",{className:`mt-2 p-3 border border-dashed rounded ${t?"border-[#00ff41] bg-[#00ff41]/10":"border-green-900 bg-green-900/10"}`,children:[c.jsxs("div",{className:`flex items-center gap-2 mb-2 font-bold ${t?"text-[#00ff41]":"text-green-400"}`,children:[c.jsx(Hw,{size:16}),"REMEDIATION"]}),c.jsx("div",{className:`text-xs ${t?"text-[#00ff41]/80":"text-green-300"}`,children:v.mitigation})]})]})]})]})]})}function tP(){const{isHackerMode:e,playSound:t}=Bo(),{issues:r,scanStats:n,isScanning:o,lastScanTime:a,runScan:u}=rc(),d=Math.max(0,100-n.critical*20-n.high*10-n.medium*5-n.low*1);return c.jsxs("div",{className:`h-full flex flex-col p-4 overflow-y-auto ${e?"font-mono":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:`text-2xl font-bold ${e?"text-[#00ff41]":"text-white"}`,children:"SECURITY COMMAND CENTER"}),c.jsx("p",{className:`text-xs ${e?"text-[#00ff41]/60":"text-[#858585]"}`,children:"REAL-TIME THREAT MONITORING & ANALYSIS"})]}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded border ${e?"bg-[#0d1117] border-[#00ff41]/30 text-[#00ff41]":"bg-[#252526] border-[#3C3C3C] text-green-400"}`,children:[c.jsx(PS,{size:16,className:"animate-pulse"}),c.jsx("span",{className:"text-xs font-bold",children:"SYSTEM ACTIVE"}),a&&c.jsxs("span",{className:"text-[10px] ml-2 opacity-60",children:["Last Scan: ",a.toLocaleTimeString()]})]})]}),c.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:`p-4 rounded border relative overflow-hidden group ${e?"bg-[#0a0a0a] border-[#00ff41]/30":"bg-[#252526] border-[#3C3C3C]"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:`text-xs font-bold ${e?"text-[#00ff41]/60":"text-[#858585]"}`,children:"SECURITY SCORE"}),c.jsx(ei,{size:16,className:e?"text-[#00ff41]":"text-[#007ACC]"})]}),c.jsxs("div",{className:`text-3xl font-bold mb-1 ${e?"text-[#00ff41]":"text-white"}`,children:[d,c.jsx("span",{className:"text-sm opacity-50",children:"/100"})]}),c.jsx("div",{className:"w-full h-1 bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${e?"bg-[#00ff41]":"bg-[#007ACC]"}`,style:{width:`${d}%`}})}),e&&c.jsx("div",{className:"absolute inset-0 bg-[#00ff41]/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),c.jsxs("div",{className:`p-4 rounded border relative overflow-hidden group ${e?"bg-[#0a0a0a] border-[#ff0040]/30":"bg-[#252526] border-[#3C3C3C]"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:`text-xs font-bold ${e?"text-[#ff0040]/60":"text-[#858585]"}`,children:"CRITICAL THREATS"}),c.jsx(Xs,{size:16,className:e?"text-[#ff0040]":"text-red-500"})]}),c.jsx("div",{className:`text-3xl font-bold mb-1 ${e?"text-[#ff0040]":"text-red-500"}`,children:n.critical}),c.jsx("div",{className:`text-xs ${e?"text-[#ff0040]/80":"text-red-400"}`,children:"Requires immediate attention"}),e&&c.jsx("div",{className:"absolute inset-0 bg-[#ff0040]/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),c.jsxs("div",{className:`p-4 rounded border relative overflow-hidden group ${e?"bg-[#0a0a0a] border-[#ffcc00]/30":"bg-[#252526] border-[#3C3C3C]"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:`text-xs font-bold ${e?"text-[#ffcc00]/60":"text-[#858585]"}`,children:"VULNERABILITIES"}),c.jsx(Js,{size:16,className:e?"text-[#ffcc00]":"text-yellow-500"})]}),c.jsx("div",{className:`text-3xl font-bold mb-1 ${e?"text-[#ffcc00]":"text-yellow-500"}`,children:n.total}),c.jsx("div",{className:`text-xs ${e?"text-[#ffcc00]/80":"text-yellow-400"}`,children:"Total detected issues"}),e&&c.jsx("div",{className:"absolute inset-0 bg-[#ffcc00]/5 opacity-0 group-hover:opacity-100 transition-opacity"})]}),c.jsxs("div",{className:`p-4 rounded border relative overflow-hidden group ${e?"bg-[#0a0a0a] border-[#00d4ff]/30":"bg-[#252526] border-[#3C3C3C]"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:`text-xs font-bold ${e?"text-[#00d4ff]/60":"text-[#858585]"}`,children:"RISK DISTRIBUTION"}),c.jsx(J_,{size:16,className:e?"text-[#00d4ff]":"text-blue-400"})]}),c.jsx("div",{className:"flex gap-2 text-xs mt-2",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:"font-bold text-red-400",children:["H: ",n.high]}),c.jsxs("span",{className:"font-bold text-yellow-400",children:["M: ",n.medium]}),c.jsxs("span",{className:"font-bold text-blue-400",children:["L: ",n.low]})]})}),e&&c.jsx("div",{className:"absolute inset-0 bg-[#00d4ff]/5 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),c.jsxs("div",{className:"grid grid-cols-12 gap-4 flex-1 min-h-0",children:[c.jsxs("div",{className:`col-span-8 rounded border flex flex-col ${e?"bg-[#0d1117] border-[#00ff41]/30":"bg-[#252526] border-[#3C3C3C]"}`,children:[c.jsxs("div",{className:`p-3 border-b flex justify-between items-center ${e?"border-[#00ff41]/30 bg-[#0a0a0a]":"border-[#3C3C3C] bg-[#1E1E1E]"}`,children:[c.jsx("span",{className:`text-sm font-bold ${e?"text-[#00ff41]":"text-white"}`,children:"ATTACK SURFACE HEATMAP"}),c.jsx("div",{className:"flex gap-2 items-center",children:o?c.jsx("span",{className:"text-xs animate-pulse text-yellow-500",children:"SCANNING..."}):c.jsx("button",{onClick:()=>{t("playClick"),u("workspace")},className:`p-1 rounded hover:bg-white/10 ${e?"text-[#00ff41]":"text-white"}`,title:"Refresh Scan data",children:c.jsx(No,{size:14})})})]}),c.jsx("div",{className:"flex-1 relative p-4 flex items-center justify-center",children:c.jsx("div",{className:"grid grid-cols-12 gap-1 w-full h-full opacity-80",children:Array.from({length:96}).map((p,f)=>{const y=r[f];let v=e?"bg-[#00ff41]/10":"bg-gray-800";return y&&(y.severity==="Critical"?v=e?"bg-[#ff0040]":"bg-red-500":y.severity==="High"?v=e?"bg-[#ff0040]/80":"bg-red-400":y.severity==="Medium"?v=e?"bg-[#ffcc00]":"bg-yellow-500":v=e?"bg-[#00d4ff]":"bg-blue-500"),c.jsx("div",{className:`rounded-sm transition-colors duration-1000 ${v} hover:brightness-125 cursor-pointer relative group`,title:y?`${y.kind} in ${y.file}`:`System Block #${f}`,children:y&&c.jsx("div",{className:"absolute inset-0 border border-white/20"})},f)})})})]}),c.jsxs("div",{className:`col-span-4 rounded border flex flex-col ${e?"bg-[#0d1117] border-[#00ff41]/30":"bg-[#252526] border-[#3C3C3C]"}`,children:[c.jsx("div",{className:`p-3 border-b ${e?"border-[#00ff41]/30 bg-[#0a0a0a]":"border-[#3C3C3C] bg-[#1E1E1E]"}`,children:c.jsx("span",{className:`text-sm font-bold ${e?"text-[#00ff41]":"text-white"}`,children:"RECENT ACTIVITY"})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:r.length===0&&!o?c.jsx("div",{className:"text-center p-4 opacity-50 text-xs",children:"System Secure. No active threats detected."}):r.slice(0,20).map((p,f)=>c.jsxs("div",{className:`p-2 rounded text-xs flex gap-2 items-start ${e?"bg-[#0a0a0a] hover:bg-[#1a1a1a]":"bg-[#1E1E1E] hover:bg-[#2A2D2E]"}`,children:[c.jsx("div",{className:`mt-0.5 ${p.severity==="Critical"?"text-purple-500":p.severity==="High"?"text-red-500":p.severity==="Medium"?"text-yellow-500":"text-blue-500"}`,children:p.severity==="Critical"?c.jsx(Xs,{size:12}):p.severity==="High"?c.jsx(Xs,{size:12}):p.severity==="Medium"?c.jsx(Js,{size:12}):c.jsx(rC,{size:12})}),c.jsxs("div",{children:[c.jsx("div",{className:e?"text-[#00ff41]":"text-[#CCCCCC]",children:p.kind}),c.jsx("div",{className:"text-[10px] opacity-60 truncate max-w-[150px]",children:p.file})]})]},f))})]})]})]})}function rP(){const[e,t]=_.useState("explorer"),[r,n]=_.useState([]),[o,a]=_.useState(null),[u,d]=_.useState(null),[p,f]=_.useState(!0),[y,v]=_.useState(256),[w,S]=_.useState(256),[b,x]=_.useState(!1),[k,N]=_.useState(256),[P,E]=_.useState(!1),[M,j]=_.useState(!1),[O,B]=_.useState(!1),[z,J]=_.useState(!1),[se,ie]=_.useState(400),[K,W]=_.useState(null),[H,L]=_.useState(null),[$,Y]=_.useState(null),{setWorkspacePath:D}=rc();_.useEffect(()=>{D(K)},[K,D]);const X=async()=>{try{const{open:Z}=await cg(async()=>{const{open:pe}=await import("./index-DtECrqIM.js");return{open:pe}},[]),ue=await Z({directory:!0,multiple:!1,title:"Open Folder"});ue&&typeof ue=="string"&&W(ue)}catch(Z){console.error("Failed to open folder:",Z)}},Q=async()=>{try{const{open:Z}=await cg(async()=>{const{open:pe}=await import("./index-DtECrqIM.js");return{open:pe}},[]),ue=await Z({multiple:!1,title:"Open File"});if(ue&&typeof ue=="string"){const pe=ue.split(/[/\\]/).pop()||ue;T(ue,pe)}}catch(Z){console.error("Failed to open file:",Z)}},T=(Z,ue)=>{d(Z),r.some(pe=>pe.path===Z)||n([...r,{path:Z,name:ue}]),a(Z)},q=()=>{if(o){const Z=r.filter(ue=>ue.path!==o);n(Z),Z.length>0?a(Z[Z.length-1].path):a(null)}},ce=Z=>{L(Z),f(!0)};return c.jsxs("div",{className:"h-screen w-screen flex flex-col bg-[#1E1E1E] text-white overflow-hidden relative",children:[c.jsx(Q4,{}),c.jsx(U4,{onNewFile:()=>E(!0),onNewFolder:()=>j(!0),onOpenFile:Q,onOpenFolder:X,onCloseFile:q,onToggleTerminal:()=>f(!p),onShowAbout:()=>B(!0),onRunCode:()=>J(!z)}),c.jsxs("div",{className:"flex-1 flex overflow-hidden relative z-0",children:[c.jsx(fC,{activeTab:e,onTabChange:t,isChatbotOpen:b,onChatbotToggle:()=>x(!b)}),c.jsx("div",{className:"transition-all duration-300 ease-in-out overflow-hidden",style:{width:b?`${k}px`:"0px",opacity:b?1:0},children:c.jsx(V4,{width:k,onWidthChange:N})}),c.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[e==="explorer"&&c.jsx(vC,{onFileClick:T,selectedFile:u,width:y,onWidthChange:v,workspaceFolder:K,onOpenFolder:X}),e==="dashboard"&&c.jsx(tP,{}),e==="debug"&&c.jsx(Z4,{activeFile:o,width:y}),e==="source-control"&&c.jsx("div",{style:{width:`${y}px`},className:"h-full",children:c.jsx(K4,{currentPath:u?u.split("/").slice(0,-1).join("/"):null})}),e==="security"&&c.jsx(Y4,{workspaceFolder:K,activeFile:o,width:y,onWidthChange:v}),e==="security-challenges"&&c.jsx(X4,{width:y}),e==="exploit"&&c.jsx(eP,{activeFile:o})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx(Rb,{openFiles:r,activeFile:o,onFileClose:Z=>{const ue=r.filter(pe=>pe.path!==Z);n(ue),Z===o&&(ue.length>0?a(ue[ue.length-1].path):a(null))},onFileSelect:a,onSaveReady:Z=>Y(()=>Z)}),c.jsx($E,{isExpanded:p,onToggle:()=>f(!p),height:w,onHeightChange:S,externalCommand:H,onCommandExecuted:()=>L(null),workspaceFolder:K})]}),c.jsx("div",{className:"transition-all duration-300 ease-in-out overflow-hidden border-l border-[#2D2D30]",style:{width:z?`${se}px`:"0px",opacity:z?1:0},children:z&&c.jsx(UE,{filePath:o,onRunInTerminal:ce,onSaveFile:$})})]})]}),c.jsx(z4,{onRunCode:()=>J(!z)}),c.jsx(nv,{isOpen:P,onClose:()=>E(!1),currentPath:K||"",onSuccess:()=>{}}),c.jsx(ov,{isOpen:M,onClose:()=>j(!1),currentPath:K||"",onSuccess:()=>{}}),c.jsx(_C,{isOpen:O,onClose:()=>B(!1)})]})}wS.createRoot(document.getElementById("root")).render(c.jsx(W4,{children:c.jsx(q4,{children:c.jsx(rP,{})})}));export{Ae as i};
